{"error":{"_message":"Validation failed","errors":{"currentYear":{"kind":"user defined","message":"1 non Ã¨ un anno valido per il tipo di scuola","name":"ValidatorError","path":"currentYear","properties":{"fullPath":"currentYear","message":"1 non Ã¨ un anno valido per il tipo di scuola","path":"currentYear","type":"user defined","value":1},"value":1}},"message":"Validation failed: currentYear: 1 non Ã¨ un anno valido per il tipo di scuola","name":"ValidationError"},"level":"error","message":"Error in update student:","studentId":"678c396971d2e167491cc718","timestamp":"2025-01-18T23:30:33.038Z","updateData":{"currentYear":1,"dateOfBirth":"2012-10-04T00:00:00.000Z","email":"leo@marangon.it","firstName":"Leonardo","fiscalCode":null,"gender":"M","isActive":true,"lastName":"Marangon","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":null,"schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]}}
{"_message":"Validation failed","errors":{"currentYear":{"kind":"user defined","message":"1 non Ã¨ un anno valido per il tipo di scuola","name":"ValidatorError","path":"currentYear","properties":{"fullPath":"currentYear","message":"1 non Ã¨ un anno valido per il tipo di scuola","path":"currentYear","type":"user defined","value":1},"value":1}},"level":"error","message":"Error updating student:","timestamp":"2025-01-18T23:30:33.046Z"}
{"error":"Validation failed: currentYear: 1 non Ã¨ un anno valido per il tipo di scuola","level":"error","message":"Student route error:","method":"PUT","path":"/678c396971d2e167491cc718","stack":"ValidationError: Validation failed: currentYear: 1 non Ã¨ un anno valido per il tipo di scuola\n    at _done (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:228:19)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:204:11\n    at schemaPath.doValidate.updateValidator (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:162:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-01-18T23:30:33.053Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"error","message":"Error getting unassigned students:","timestamp":"2025-01-19T00:14:10.520Z"}
{"error":"Cannot read properties of undefined (reading 'repository')","level":"error","message":"Student route error:","method":"GET","path":"/unassigned/67843ee4e18f3b833160dda8","stack":"TypeError: Cannot read properties of undefined (reading 'repository')\n    at getUnassignedStudents (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:324:41)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:185:9\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:365:14)","timestamp":"2025-01-19T00:14:10.523Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"error","message":"Error getting unassigned students:","timestamp":"2025-01-19T00:14:36.077Z"}
{"error":"Cannot read properties of undefined (reading 'repository')","level":"error","message":"Student route error:","method":"GET","path":"/unassigned/67843ee4e18f3b833160dda8","stack":"TypeError: Cannot read properties of undefined (reading 'repository')\n    at getUnassignedStudents (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:324:41)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:185:9\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:365:14)","timestamp":"2025-01-19T00:14:36.081Z","userId":"677bfe44f6789c907c9f3766"}
{"errorMessage":"jwt expired","errorType":"TokenExpiredError","level":"error","message":"ðŸ”¥ Authentication Error","stack":"TokenExpiredError: jwt expired\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jsonwebtoken\\verify.js:190:21\n    at getSecret (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at protect (C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:52:29)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-01-19T09:27:52.045Z","tokenInfo":{"expiredAt":"2025-01-19T00:35:28.000Z","now":"2025-01-19T09:27:52.045Z"}}
{"error":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"template\" (type string) at path \"_id\" for model \"Student\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"template\"","value":"template","valueType":"string"},"level":"error","message":"Errore nel recupero di Student","timestamp":"2025-01-19T14:26:57.022Z"}
{"code":"DB_001","level":"error","message":"Errore nel recupero di Student","metadata":{"originalError":"Cast to ObjectId failed for value \"template\" (type string) at path \"_id\" for model \"Student\""},"status":500,"timestamp":"2025-01-19T14:26:57.024Z"}
{"error":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"template\" (type string) at path \"_id\" for model \"Student\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"template\"","value":"template","valueType":"string"},"level":"error","message":"Errore nel recupero di Student","timestamp":"2025-01-19T14:38:01.802Z"}
{"code":"DB_001","level":"error","message":"Errore nel recupero di Student","metadata":{"originalError":"Cast to ObjectId failed for value \"template\" (type string) at path \"_id\" for model \"Student\""},"status":500,"timestamp":"2025-01-19T14:38:01.803Z"}
{"error":"Cannot read properties of undefined (reading 'validateImportData')","level":"error","message":"Error in bulk import controller:","stack":"TypeError: Cannot read properties of undefined (reading 'validateImportData')\n    at StudentBulkImportController.bulkImport (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentBulkImportController.js:76:40)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:91:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at done (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\multer\\lib\\make-middleware.js:45:7)\n    at indicateDone (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\multer\\lib\\make-middleware.js:49:68)\n    at Multipart.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\multer\\lib\\make-middleware.js:166:7)\n    at Multipart.emit (node:events:524:28)\n    at emitCloseNT (node:internal/streams/destroy:148:10)","timestamp":"2025-01-19T14:50:52.834Z"}
{"error":"Cannot read properties of undefined (reading 'validateImportData')","level":"error","message":"Error in bulk import controller:","stack":"TypeError: Cannot read properties of undefined (reading 'validateImportData')\n    at StudentBulkImportController.bulkImport (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentBulkImportController.js:76:40)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:91:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at done (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\multer\\lib\\make-middleware.js:45:7)\n    at indicateDone (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\multer\\lib\\make-middleware.js:49:68)\n    at Multipart.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\multer\\lib\\make-middleware.js:166:7)\n    at Multipart.emit (node:events:524:28)\n    at emitCloseNT (node:internal/streams/destroy:148:10)","timestamp":"2025-01-19T14:51:24.606Z"}
{"level":"error","message":"Error getting unassigned students:","timestamp":"2025-01-19T14:57:57.330Z"}
{"error":"Cannot read properties of undefined (reading 'repository')","level":"error","message":"Student route error:","method":"GET","path":"/unassigned/67843ee4e18f3b833160dda8","stack":"TypeError: Cannot read properties of undefined (reading 'repository')\n    at getUnassignedStudents (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:324:41)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:185:9\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:365:14)","timestamp":"2025-01-19T14:57:57.330Z","userId":"677bfe44f6789c907c9f3766"}
{"error":{},"level":"error","message":"Error in batch assigning students:","timestamp":"2025-01-19T16:39:05.790Z","user":"677bfe44f6789c907c9f3766"}
{"error":"Errore nell'assegnazione degli studenti","level":"error","message":"Student route error:","method":"POST","path":"/batch-assign","timestamp":"2025-01-19T16:39:05.792Z","userId":"677bfe44f6789c907c9f3766"}
{"error":{},"level":"error","message":"Error in batch assigning students:","timestamp":"2025-01-19T16:44:04.503Z","user":"677bfe44f6789c907c9f3766"}
{"error":"Errore nell'assegnazione degli studenti","level":"error","message":"Student route error:","method":"POST","path":"/batch-assign","timestamp":"2025-01-19T16:44:04.504Z","userId":"677bfe44f6789c907c9f3766"}
{"error":{},"level":"error","message":"Error in batch assigning students:","timestamp":"2025-01-19T16:47:57.356Z","user":"677bfe44f6789c907c9f3766"}
{"error":"Errore nell'assegnazione degli studenti","level":"error","message":"Student route error:","method":"POST","path":"/batch-assign","timestamp":"2025-01-19T16:47:57.357Z","userId":"677bfe44f6789c907c9f3766"}
{"error":"Errori di validazione","level":"error","message":"Student route error:","method":"POST","path":"/batch-assign","timestamp":"2025-01-19T17:01:03.183Z","userId":"677bfe44f6789c907c9f3766"}
{"error":"Errori di validazione","level":"error","message":"Student route error:","method":"POST","path":"/batch-assign","timestamp":"2025-01-19T17:06:05.700Z","userId":"677bfe44f6789c907c9f3766"}
{"error":{},"level":"error","message":"Error in batch assigning students:","timestamp":"2025-01-19T17:07:29.622Z","user":"677bfe44f6789c907c9f3766"}
{"error":"Errore nell'assegnazione degli studenti","level":"error","message":"Student route error:","method":"POST","path":"/batch-assign","timestamp":"2025-01-19T17:07:29.623Z","userId":"677bfe44f6789c907c9f3766"}
{"error":{},"level":"error","message":"Error in batch assigning students:","timestamp":"2025-01-19T17:13:07.475Z","user":"677bfe44f6789c907c9f3766"}
{"error":"Errore nell'assegnazione degli studenti","level":"error","message":"Student route error:","method":"POST","path":"/batch-assign","timestamp":"2025-01-19T17:13:07.476Z","userId":"677bfe44f6789c907c9f3766"}
{"error":{},"level":"error","message":"Error in batch assigning students:","timestamp":"2025-01-19T17:14:34.405Z","user":"677bfe44f6789c907c9f3766"}
{"error":"Errore nell'assegnazione degli studenti","level":"error","message":"Student route error:","method":"POST","path":"/batch-assign","timestamp":"2025-01-19T17:14:34.408Z","userId":"677bfe44f6789c907c9f3766"}
{"error":{},"level":"error","message":"Error in batch assigning students:","timestamp":"2025-01-19T17:19:24.996Z","user":"677bfe44f6789c907c9f3766"}
{"error":"Errore nell'assegnazione degli studenti","level":"error","message":"Student route error:","method":"POST","path":"/batch-assign","timestamp":"2025-01-19T17:19:24.997Z","userId":"677bfe44f6789c907c9f3766"}
{"error":{},"level":"error","message":"Error in batch assigning students:","timestamp":"2025-01-19T17:19:55.717Z","user":"677bfe44f6789c907c9f3766"}
{"error":"Errore nell'assegnazione degli studenti","level":"error","message":"Student route error:","method":"POST","path":"/batch-assign","timestamp":"2025-01-19T17:19:55.718Z","userId":"677bfe44f6789c907c9f3766"}
{"error":{},"level":"error","message":"Error in batch assigning students:","timestamp":"2025-01-19T17:23:24.692Z","user":"677bfe44f6789c907c9f3766"}
{"error":"Errore nell'assegnazione degli studenti","level":"error","message":"Student route error:","method":"POST","path":"/batch-assign","timestamp":"2025-01-19T17:23:24.693Z","userId":"677bfe44f6789c907c9f3766"}
{"error":{},"level":"error","message":"Error in batch assigning students:","timestamp":"2025-01-19T18:26:02.970Z","user":"677bfe44f6789c907c9f3766"}
{"error":"Errore nell'assegnazione degli studenti","level":"error","message":"Student route error:","method":"POST","path":"/batch-assign","timestamp":"2025-01-19T18:26:02.971Z","userId":"677bfe44f6789c907c9f3766"}
{"error":{},"level":"error","message":"Error in batch assigning students:","timestamp":"2025-01-19T18:33:49.760Z","user":"677bfe44f6789c907c9f3766"}
{"error":"Errore nell'assegnazione degli studenti","level":"error","message":"Student route error:","method":"POST","path":"/batch-assign","timestamp":"2025-01-19T18:33:49.761Z","userId":"677bfe44f6789c907c9f3766"}
{"error":{},"level":"error","message":"Error in batch assigning students:","timestamp":"2025-01-19T18:37:27.738Z","user":"677bfe44f6789c907c9f3766"}
{"error":"Errore nell'assegnazione degli studenti","level":"error","message":"Student route error:","method":"POST","path":"/batch-assign","timestamp":"2025-01-19T18:37:27.739Z","userId":"677bfe44f6789c907c9f3766"}

{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T07:22:43.233Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T07:22:43.240Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T07:22:43.315Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-05T07:22:44.908Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T07:22:44.910Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T07:22:44.912Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T07:22:45.988Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T07:22:46.022Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T07:22:46.022Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-05T07:22:46.242Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-05T07:22:46.243Z"}
{"duration":"11ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741159366237_0xpn1k84l","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T07:22:46.263Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-05T07:22:46.363Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-05T07:22:46.371Z"}
{"duration":"21ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741159366353_srxa77gll","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T07:22:46.374Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-05T07:23:13.918Z","userId":"677bfe44f6789c907c9f3766"}
{"action":"login","level":"info","message":"User audit record created","timestamp":"2025-03-05T07:23:13.961Z","userId":"677bfe44f6789c907c9f3766"}
{"error":"fn is not a function","level":"error","message":"School Route Error:","method":"GET","path":"/679fdad474255ebc8afab683/transition-preview","role":"admin","stack":"TypeError: fn is not a function\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\yearTransitionRoutes.js:24:21\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:204:13\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-03-05T07:28:06.907Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"172ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741159686739_fxzkjeflu","responseSize":"89 Bytes","statusCode":500,"timestamp":"2025-03-05T07:28:06.911Z","url":"/api/v1/schools/679fdad474255ebc8afab683/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":"fn is not a function","level":"error","message":"School Route Error:","method":"GET","path":"/679fdad474255ebc8afab683/transition-preview","role":"admin","stack":"TypeError: fn is not a function\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\yearTransitionRoutes.js:24:21\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:204:13\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-03-05T07:49:19.947Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"205ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741160959751_ihfrbiot9","responseSize":"89 Bytes","statusCode":500,"timestamp":"2025-03-05T07:49:19.958Z","url":"/api/v1/schools/679fdad474255ebc8afab683/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T08:10:12.602Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T08:10:12.605Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T08:10:12.635Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-05T08:10:13.683Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T08:10:13.685Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T08:10:13.686Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T08:10:14.086Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T08:10:14.095Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T08:10:14.095Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/679fdad474255ebc8afab683/transition-preview","timestamp":"2025-03-05T08:38:31.025Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"fromYear":"2024/2025","toYear":"2025/2026"},"requestId":"req_1741163911022_vanuyuyek","timestamp":"2025-03-05T08:38:31.027Z","url":"/api/v1/schools/679fdad474255ebc8afab683/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-05T08:38:31.028Z"}
{"duration":"10ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741163911022_vanuyuyek","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-05T08:38:31.032Z","url":"/api/v1/schools/679fdad474255ebc8afab683/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-05T08:38:38.225Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-05T08:38:38.228Z"}
{"duration":"15ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741163918216_y07hiz6vt","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T08:38:38.231Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-05T08:38:38.265Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-05T08:38:38.268Z"}
{"duration":"17ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741163918257_49lkcwh8c","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T08:38:38.274Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-05T08:38:42.528Z","userId":"677bfe44f6789c907c9f3766"}
{"action":"login","level":"info","message":"User audit record created","timestamp":"2025-03-05T08:38:42.574Z","userId":"677bfe44f6789c907c9f3766"}
{"academicYear":"2025/2026","count":5,"level":"info","message":"Created classes for new academic year:","sectionsUsed":["A"],"timestamp":"2025-03-05T08:40:13.353Z"}
{"level":"info","message":"Anno accademico creato con successo","schoolId":"67c763375b0426e1cb851fea","timestamp":"2025-03-05T08:40:13.402Z","year":"2025/2026"}
{"classesReactivated":5,"classesWithManagerAsTeacher":5,"classesWithPreviousTeacher":0,"level":"info","message":"Sezione e classi riattivate con successo:","schoolId":"67c454061dbaba04e72dc2ec","sectionName":"A","timestamp":"2025-03-05T08:41:28.381Z"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T09:30:02.045Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T09:30:02.051Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T09:30:02.101Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-05T09:30:03.099Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T09:30:03.101Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T09:30:03.102Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T09:30:03.454Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T09:30:03.463Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T09:30:03.463Z"}
{"error":"Class constructor ObjectId cannot be invoked without 'new'","level":"error","message":"Error in year transition preview","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\yearTransitionController.js:124:32\n    at Set.forEach (<anonymous>)\n    at YearTransitionController.getTransitionPreview (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\yearTransitionController.js:119:16)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-05T09:30:17.658Z"}
{"error":"Class constructor ObjectId cannot be invoked without 'new'","level":"error","message":"School Route Error:","method":"GET","path":"/67c454061dbaba04e72dc2ec/transition-preview","role":"admin","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\yearTransitionController.js:124:32\n    at Set.forEach (<anonymous>)\n    at YearTransitionController.getTransitionPreview (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\yearTransitionController.js:119:16)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-05T09:30:17.660Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"385ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741167017280_2mcc7a6bm","responseSize":"127 Bytes","statusCode":500,"timestamp":"2025-03-05T09:30:17.672Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":"Class constructor ObjectId cannot be invoked without 'new'","level":"error","message":"Error in year transition preview","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\yearTransitionController.js:124:32\n    at Set.forEach (<anonymous>)\n    at YearTransitionController.getTransitionPreview (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\yearTransitionController.js:119:16)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-05T09:30:28.166Z"}
{"error":"Class constructor ObjectId cannot be invoked without 'new'","level":"error","message":"School Route Error:","method":"GET","path":"/67c454061dbaba04e72dc2ec/transition-preview","role":"admin","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\yearTransitionController.js:124:32\n    at Set.forEach (<anonymous>)\n    at YearTransitionController.getTransitionPreview (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\yearTransitionController.js:119:16)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-05T09:30:28.168Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"297ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741167027873_7d3whzx4w","responseSize":"127 Bytes","statusCode":500,"timestamp":"2025-03-05T09:30:28.170Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T09:39:55.318Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T09:39:55.323Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T09:39:55.362Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-05T09:39:56.257Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T09:39:56.258Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T09:39:56.260Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T09:39:56.597Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T09:39:56.602Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T09:39:56.602Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/67c454061dbaba04e72dc2ec/transition-preview","timestamp":"2025-03-05T09:40:08.585Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"fromYear":"2024/2025","toYear":"2025/2026"},"requestId":"req_1741167608579_it4tctsu7","timestamp":"2025-03-05T09:40:08.587Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-05T09:40:08.589Z"}
{"duration":"19ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741167608579_it4tctsu7","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-05T09:40:08.599Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T09:40:16.352Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T09:40:16.355Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T09:40:16.396Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-05T09:40:17.074Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T09:40:17.075Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T09:40:17.078Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T09:40:17.361Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T09:40:17.367Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T09:40:17.368Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/67c454061dbaba04e72dc2ec/transition-preview","timestamp":"2025-03-05T09:40:30.609Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"fromYear":"2024/2025","toYear":"2025/2026"},"requestId":"req_1741167630601_rsdr6qqed","timestamp":"2025-03-05T09:40:30.612Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-05T09:40:30.613Z"}
{"duration":"17ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741167630601_rsdr6qqed","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-05T09:40:30.618Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-05T09:40:41.631Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-05T09:40:41.633Z"}
{"duration":"9ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741167641626_bw9vpwguv","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T09:40:41.636Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-05T09:40:41.645Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-05T09:40:41.646Z"}
{"duration":"7ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741167641642_kwk18jytt","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T09:40:41.649Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-05T09:40:45.340Z","userId":"677bfe44f6789c907c9f3766"}
{"action":"login","level":"info","message":"User audit record created","timestamp":"2025-03-05T09:40:45.393Z","userId":"677bfe44f6789c907c9f3766"}
{"error":"this.classRepository.find(...).session is not a function","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-05T09:44:02.061Z","yearId":"67c454061dbaba04e72dc2ed"}
{"error":"this.classRepository.find(...).session is not a function","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67c454061dbaba04e72dc2ec","stack":"TypeError: this.classRepository.find(...).session is not a function\n    at SchoolRepository.archiveAcademicYear (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:1742:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async SchoolController.archiveAcademicYear (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\schoolController.js:1267:31)","timestamp":"2025-03-05T09:44:02.062Z","yearId":"67c454061dbaba04e72dc2ed"}
{"duration":"191ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741167841873_fwlua9dy3","responseSize":"120 Bytes","statusCode":500,"timestamp":"2025-03-05T09:44:02.065Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/academic-years/67c454061dbaba04e72dc2ed/archive","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T10:18:41.162Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T10:18:41.167Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T10:18:41.206Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-05T10:18:42.190Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T10:18:42.191Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T10:18:42.192Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T10:18:42.558Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T10:18:42.566Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T10:18:42.566Z"}
{"classesArchived":5,"level":"info","message":"Anno accademico archiviato con successo","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-05T10:18:50.085Z","yearId":"67c454061dbaba04e72dc2ed"}
{"level":"info","message":"Anno accademico archiviato con successo","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-05T10:18:50.086Z","userId":"677bfe44f6789c907c9f3766","yearId":"67c454061dbaba04e72dc2ed"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T10:25:15.489Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T10:25:15.493Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T10:25:15.528Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-03-05T10:25:16.532Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T10:25:16.533Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T10:25:16.534Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T10:25:16.883Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T10:25:16.887Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T10:25:16.887Z"}
{"classesArchived":5,"level":"info","message":"Anno accademico archiviato con successo","schoolId":"67c763375b0426e1cb851fea","timestamp":"2025-03-05T10:25:31.917Z","yearId":"67c763375b0426e1cb851feb"}
{"level":"info","message":"Anno accademico archiviato con successo","schoolId":"67c763375b0426e1cb851fea","timestamp":"2025-03-05T10:25:31.918Z","userId":"677bfe44f6789c907c9f3766","yearId":"67c763375b0426e1cb851feb"}
{"error":"Anno accademico già presente","level":"error","message":"Error in setupAcademicYear:","schoolId":"67c763375b0426e1cb851fea","timestamp":"2025-03-05T10:26:23.492Z","yearData":{"createdBy":"677bfe44f6789c907c9f3766","endDate":"2025-06-30","startDate":"2024-09-01","status":"planned","year":"2024/2025"}}
{"error":"Anno accademico già presente","level":"error","message":"Errore nella creazione dell'anno accademico","schoolId":"67c763375b0426e1cb851fea","timestamp":"2025-03-05T10:26:23.493Z"}
{"duration":"157ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741170383338_j6choq2f9","responseSize":"87 Bytes","statusCode":500,"timestamp":"2025-03-05T10:26:23.495Z","url":"/api/v1/schools/67c763375b0426e1cb851fea/academic-years","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T10:33:09.190Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T10:33:09.194Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T10:33:09.239Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-05T10:33:10.426Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T10:33:10.427Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T10:33:10.429Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T10:33:10.810Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T10:33:10.814Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T10:33:10.814Z"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T10:42:03.676Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T10:42:03.683Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T10:42:03.741Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-05T10:42:04.733Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T10:42:04.734Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T10:42:04.736Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T10:42:05.073Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T10:42:05.080Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T10:42:05.081Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-05T10:43:57.512Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-05T10:43:57.515Z"}
{"duration":"62ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741171437477_xrvch1oxq","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T10:43:57.540Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-05T10:43:57.578Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-05T10:43:57.580Z"}
{"duration":"10ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741171437573_0pdm1e1vh","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T10:43:57.583Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-05T10:44:13.744Z","userId":"677bfe44f6789c907c9f3766"}
{"action":"login","level":"info","message":"User audit record created","timestamp":"2025-03-05T10:44:13.791Z","userId":"677bfe44f6789c907c9f3766"}
{"classesReactivated":5,"level":"info","message":"Anno accademico riattivato con successo","schoolId":"67c763375b0426e1cb851fea","timestamp":"2025-03-05T10:44:20.019Z","yearId":"67c763375b0426e1cb851feb","yearValue":"2024/2025"}
{"level":"info","message":"Anno accademico riattivato con successo","schoolId":"67c763375b0426e1cb851fea","timestamp":"2025-03-05T10:44:20.020Z","userId":"677bfe44f6789c907c9f3766","yearId":"67c763375b0426e1cb851feb","yearValue":"2024/2025"}
{"level":"info","message":"Anno accademico attivato con successo","schoolId":"67c763375b0426e1cb851fea","timestamp":"2025-03-05T10:44:24.801Z","yearId":"67c763375b0426e1cb851feb"}
{"level":"info","message":"Anno accademico attivato con successo","schoolId":"67c763375b0426e1cb851fea","timestamp":"2025-03-05T10:44:24.802Z","userId":"677bfe44f6789c907c9f3766","yearId":"67c763375b0426e1cb851feb"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T16:20:54.348Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T16:20:54.354Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T16:20:54.414Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-03-05T16:20:56.261Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T16:20:56.263Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T16:20:56.266Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T16:20:56.673Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T16:20:56.759Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T16:20:56.761Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-05T16:21:03.300Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"limit":"25","page":"1","search":"","sort":"-createdAt"},"requestId":"req_1741191663288_ggqerlfw6","timestamp":"2025-03-05T16:21:03.306Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-05T16:21:03.308Z"}
{"duration":"31ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741191663288_ggqerlfw6","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-05T16:21:03.320Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-05T16:21:28.159Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-05T16:21:28.160Z"}
{"duration":"8ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741191688154_51t0ro6q4","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T16:21:28.163Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-05T16:21:28.177Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-05T16:21:28.178Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741191688174_olm44daf6","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T16:21:28.180Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-05T16:21:41.205Z","userId":"677bfe44f6789c907c9f3766"}
{"action":"login","level":"info","message":"User audit record created","timestamp":"2025-03-05T16:21:41.247Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T17:02:37.826Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T17:02:37.830Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T17:02:37.878Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-05T17:02:38.906Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T17:02:38.907Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T17:02:38.909Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T17:02:39.314Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T17:02:39.322Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T17:02:39.323Z"}
{"error":"I campi testType e classId sono obbligatori","level":"error","message":"Error in class test assignment:","timestamp":"2025-03-05T17:04:08.264Z"}
{"duration":"116ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741194248154_53dqhgukq","responseSize":"115 Bytes","statusCode":500,"timestamp":"2025-03-05T17:04:08.271Z","url":"/api/v1/tests/assign-to-class","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":"I campi testType e classId sono obbligatori","level":"error","message":"Error in class test assignment:","timestamp":"2025-03-05T17:04:12.961Z"}
{"duration":"66ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741194252898_h29scb9sx","responseSize":"115 Bytes","statusCode":500,"timestamp":"2025-03-05T17:04:12.964Z","url":"/api/v1/tests/assign-to-class","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T17:13:16.168Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T17:13:16.173Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T17:13:16.219Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-05T17:13:17.128Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T17:13:17.130Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T17:13:17.131Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T17:13:17.489Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T17:13:17.497Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T17:13:17.498Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/unassigned/679fdad474255ebc8afab683","timestamp":"2025-03-05T17:22:24.707Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{},"requestId":"req_1741195341777_tr04mzfn9","timestamp":"2025-03-05T17:22:24.871Z","url":"/api/v1/students/unassigned/679fdad474255ebc8afab683"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-05T17:22:25.005Z"}
{"duration":"3554ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741195341777_tr04mzfn9","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-05T17:22:25.384Z","url":"/api/v1/students/unassigned/679fdad474255ebc8afab683","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-05T17:22:26.445Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"limit":"25","page":"1","search":"","sort":"-createdAt"},"requestId":"req_1741195346441_nmwi14jbg","timestamp":"2025-03-05T17:22:26.448Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-05T17:22:26.450Z"}
{"duration":"14ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741195346441_nmwi14jbg","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-05T17:22:26.455Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-05T17:22:30.876Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-05T17:22:30.879Z"}
{"duration":"23ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741195350866_0prukmf8f","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T17:22:30.889Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-05T17:22:30.902Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-05T17:22:30.904Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741195350899_dq0g2l1cr","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T17:22:30.905Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-05T17:22:33.816Z","userId":"677bfe44f6789c907c9f3766"}
{"action":"login","level":"info","message":"User audit record created","timestamp":"2025-03-05T17:22:33.874Z","userId":"677bfe44f6789c907c9f3766"}
{"assignedBy":"677bfe44f6789c907c9f3766","classId":"679fdad474255ebc8afab6a4","level":"info","message":"Tests assigned to all students in class:","testsCount":3,"timestamp":"2025-03-05T17:22:52.205Z"}
{"assignedBy":"677bfe44f6789c907c9f3766","classId":"679fdad474255ebc8afab6a4","level":"info","message":"Tests assigned successfully to class:","testsCount":3,"timestamp":"2025-03-05T17:22:52.207Z"}
{"classId":"679fdad474255ebc8afab6a4","level":"info","message":"Class tests revoked:","modifiedCount":3,"testType":"CSI","timestamp":"2025-03-05T17:23:04.489Z"}
{"classId":"679fdad474255ebc8afab6a4","level":"info","message":"Class tests revoked successfully:","modifiedCount":3,"timestamp":"2025-03-05T17:23:04.491Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T17:26:38.311Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T17:26:38.316Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T17:26:38.361Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-05T17:26:40.995Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T17:26:40.996Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T17:26:40.998Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T17:26:41.376Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T17:26:41.386Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T17:26:41.386Z"}
{"assignedBy":"677bfe44f6789c907c9f3766","classId":"679fdad474255ebc8afab6a4","level":"info","message":"Tests assigned to all students in class:","testsCount":3,"timestamp":"2025-03-05T17:33:05.558Z"}
{"assignedBy":"677bfe44f6789c907c9f3766","classId":"679fdad474255ebc8afab6a4","level":"info","message":"Tests assigned successfully to class:","testsCount":3,"timestamp":"2025-03-05T17:33:05.561Z"}

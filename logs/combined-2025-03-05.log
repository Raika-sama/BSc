<<<<<<< HEAD
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-04T23:00:41.907Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-04T23:00:41.911Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-04T23:00:41.940Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-04T23:00:42.544Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-04T23:00:42.545Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-04T23:00:42.546Z"}
{"error":"studentAuthService is not defined","level":"error","message":"Errore durante l'avvio del server:","stack":"ReferenceError: studentAuthService is not defined\n    at startServer (C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\app.js:259:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-04T23:00:42.782Z"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-04T23:01:42.426Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-04T23:01:42.429Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-04T23:01:42.452Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-03-04T23:01:42.996Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-04T23:01:42.997Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-04T23:01:42.998Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-04T23:01:43.242Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-04T23:01:43.244Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-04T23:01:43.245Z"}
{"level":"info","message":"Richiesta login studente","timestamp":"2025-03-04T23:01:50.613Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Tentativo di autenticazione studente","timestamp":"2025-03-04T23:01:50.614Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Primo accesso rilevato","studentId":"67b20991d8fdac4600a0def6","timestamp":"2025-03-04T23:01:50.641Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36"},"timestamp":"2025-03-04T23:02:08.460Z","userId":"67c02995250c5746c3d9647c"}
{"level":"info","message":"Richiesta logout studente","timestamp":"2025-03-04T23:02:38.140Z"}
{"level":"info","message":"Richiesta login studente","timestamp":"2025-03-04T23:03:00.129Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Tentativo di autenticazione studente","timestamp":"2025-03-04T23:03:00.130Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Primo accesso rilevato","studentId":"67b20991d8fdac4600a0def6","timestamp":"2025-03-04T23:03:00.163Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Richiesta logout studente","timestamp":"2025-03-04T23:12:30.369Z"}
{"level":"info","message":"Richiesta login studente","timestamp":"2025-03-04T23:12:46.831Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Tentativo di autenticazione studente","timestamp":"2025-03-04T23:12:46.832Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Primo accesso rilevato","studentId":"67b20991d8fdac4600a0def6","timestamp":"2025-03-04T23:12:46.856Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Richiesta login studente","timestamp":"2025-03-04T23:17:31.180Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Tentativo di autenticazione studente","timestamp":"2025-03-04T23:17:31.181Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Primo accesso rilevato","studentId":"67b20991d8fdac4600a0def6","timestamp":"2025-03-04T23:17:31.203Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Richiesta login studente","timestamp":"2025-03-04T23:18:13.398Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Tentativo di autenticazione studente","timestamp":"2025-03-04T23:18:13.398Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Primo accesso rilevato","studentId":"67b20991d8fdac4600a0def6","timestamp":"2025-03-04T23:18:13.420Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Richiesta login studente","timestamp":"2025-03-04T23:29:36.787Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Tentativo di autenticazione studente","timestamp":"2025-03-04T23:29:36.787Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Primo accesso rilevato","studentId":"67b20991d8fdac4600a0def6","timestamp":"2025-03-04T23:29:36.810Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Richiesta logout studente","timestamp":"2025-03-04T23:31:42.516Z"}
{"level":"info","message":"Richiesta login studente","timestamp":"2025-03-04T23:32:01.144Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Tentativo di autenticazione studente","timestamp":"2025-03-04T23:32:01.144Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Primo accesso rilevato","studentId":"67b20991d8fdac4600a0def6","timestamp":"2025-03-04T23:32:01.175Z","username":"ciccio@pasticcio.it"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-04T23:33:02.470Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-04T23:33:02.473Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-04T23:33:02.496Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-04T23:33:06.031Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-04T23:33:06.032Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-04T23:33:06.033Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-04T23:33:06.275Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-04T23:33:06.277Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-04T23:33:06.277Z"}
{"code":"AUTH_005","level":"error","message":"Solo i docenti possono accedere a questa risorsa","metadata":{},"status":403,"timestamp":"2025-03-04T23:37:27.703Z"}
{"error":"Solo i docenti possono accedere a questa risorsa","level":"error","message":"Student route error:","method":"GET","path":"/my-students","timestamp":"2025-03-04T23:37:27.705Z","userId":"67c02995250c5746c3d9647c"}
{"body":{},"error":{"message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\routes\\studentRoutes.js:181:72\n    at Layer.handle_error (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.getMyStudents (C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\controllers\\studentController.js:313:13)\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\routes\\studentRoutes.js:28:25\n    at Layer.handle [as handle_request] (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\layer.js:95:5)"},"level":"error","message":"Errore richiesta","method":"GET","query":{},"requestId":"req_1741131447520_yw4srlzh3","timestamp":"2025-03-04T23:37:27.708Z","url":"/api/v1/students/my-students"}
{"level":"error","message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\routes\\studentRoutes.js:181:72\n    at Layer.handle_error (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.getMyStudents (C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\controllers\\studentController.js:313:13)\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\routes\\studentRoutes.js:28:25\n    at Layer.handle [as handle_request] (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-03-04T23:37:27.710Z"}
{"duration":"198ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741131447520_yw4srlzh3","responseSize":"1.34 KB","statusCode":500,"timestamp":"2025-03-04T23:37:27.718Z","url":"/api/v1/students/my-students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36"}
{"code":"AUTH_005","level":"error","message":"Solo i docenti possono accedere a questa risorsa","metadata":{},"status":403,"timestamp":"2025-03-04T23:40:19.964Z"}
{"error":"Solo i docenti possono accedere a questa risorsa","level":"error","message":"Student route error:","method":"GET","path":"/my-students","timestamp":"2025-03-04T23:40:19.966Z","userId":"67c02995250c5746c3d9647c"}
{"body":{},"error":{"message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\routes\\studentRoutes.js:181:72\n    at Layer.handle_error (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.getMyStudents (C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\controllers\\studentController.js:313:13)\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\routes\\studentRoutes.js:28:25\n    at Layer.handle [as handle_request] (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\layer.js:95:5)"},"level":"error","message":"Errore richiesta","method":"GET","query":{},"requestId":"req_1741131619792_d2q81qz6m","timestamp":"2025-03-04T23:40:19.967Z","url":"/api/v1/students/my-students"}
{"level":"error","message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\routes\\studentRoutes.js:181:72\n    at Layer.handle_error (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.getMyStudents (C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\controllers\\studentController.js:313:13)\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\routes\\studentRoutes.js:28:25\n    at Layer.handle [as handle_request] (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-03-04T23:40:19.968Z"}
{"duration":"181ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741131619792_d2q81qz6m","responseSize":"1.34 KB","statusCode":500,"timestamp":"2025-03-04T23:40:19.974Z","url":"/api/v1/students/my-students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36"}
{"error":"Parametro di ricerca richiesto","level":"error","message":"Student route error:","method":"GET","path":"/search","timestamp":"2025-03-04T23:40:26.772Z","userId":"67c02995250c5746c3d9647c"}
{"duration":"191ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741131626583_o7shigs8o","responseSize":"84 Bytes","statusCode":400,"timestamp":"2025-03-04T23:40:26.774Z","url":"/api/v1/students/search","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36"}
{"code":"AUTH_005","level":"error","message":"Solo i docenti possono accedere a questa risorsa","metadata":{},"status":403,"timestamp":"2025-03-04T23:40:35.705Z"}
{"error":"Solo i docenti possono accedere a questa risorsa","level":"error","message":"Student route error:","method":"GET","path":"/my-students","timestamp":"2025-03-04T23:40:35.705Z","userId":"67c02995250c5746c3d9647c"}
{"body":{},"error":{"message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\routes\\studentRoutes.js:181:72\n    at Layer.handle_error (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.getMyStudents (C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\controllers\\studentController.js:313:13)\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\routes\\studentRoutes.js:28:25\n    at Layer.handle [as handle_request] (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\layer.js:95:5)"},"level":"error","message":"Errore richiesta","method":"GET","query":{},"requestId":"req_1741131635501_boafoe6ce","timestamp":"2025-03-04T23:40:35.706Z","url":"/api/v1/students/my-students"}
{"level":"error","message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\routes\\studentRoutes.js:181:72\n    at Layer.handle_error (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.getMyStudents (C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\controllers\\studentController.js:313:13)\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\routes\\studentRoutes.js:28:25\n    at Layer.handle [as handle_request] (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-03-04T23:40:35.707Z"}
{"duration":"208ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741131635501_boafoe6ce","responseSize":"1.34 KB","statusCode":500,"timestamp":"2025-03-04T23:40:35.710Z","url":"/api/v1/students/my-students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36"}
{"code":"AUTH_005","level":"error","message":"Solo i docenti possono accedere a questa risorsa","metadata":{},"status":403,"timestamp":"2025-03-04T23:40:37.187Z"}
{"error":"Solo i docenti possono accedere a questa risorsa","level":"error","message":"Student route error:","method":"GET","path":"/my-students","timestamp":"2025-03-04T23:40:37.188Z","userId":"67c02995250c5746c3d9647c"}
{"body":{},"error":{"message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\routes\\studentRoutes.js:181:72\n    at Layer.handle_error (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.getMyStudents (C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\controllers\\studentController.js:313:13)\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\routes\\studentRoutes.js:28:25\n    at Layer.handle [as handle_request] (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\layer.js:95:5)"},"level":"error","message":"Errore richiesta","method":"GET","query":{},"requestId":"req_1741131637014_79wrefvhv","timestamp":"2025-03-04T23:40:37.189Z","url":"/api/v1/students/my-students"}
{"level":"error","message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\routes\\studentRoutes.js:181:72\n    at Layer.handle_error (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.getMyStudents (C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\controllers\\studentController.js:313:13)\n    at C:\\Users\\hanga\\Desktop\\BrainScanner\\src\\routes\\studentRoutes.js:28:25\n    at Layer.handle [as handle_request] (C:\\Users\\hanga\\Desktop\\BrainScanner\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-03-04T23:40:37.190Z"}
{"duration":"178ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741131637014_79wrefvhv","responseSize":"1.34 KB","statusCode":500,"timestamp":"2025-03-04T23:40:37.196Z","url":"/api/v1/students/my-students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T05:41:00.890Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T05:41:00.892Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T05:41:00.914Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-05T05:41:01.471Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T05:41:01.472Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T05:41:01.474Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T05:41:01.730Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T05:41:01.733Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T05:41:01.734Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-05T05:42:50.520Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-05T05:42:50.522Z"}
{"duration":"11ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741153370516_4wf6kvozn","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T05:42:50.527Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-05T05:42:50.533Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-05T05:42:50.534Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741153370530_8gkd8j7y1","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T05:42:50.536Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36"}
{"level":"info","message":"Richiesta login studente","timestamp":"2025-03-05T08:38:11.392Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Tentativo di autenticazione studente","timestamp":"2025-03-05T08:38:11.392Z","username":"ciccio@pasticcio.it"}
{"level":"info","message":"Primo accesso rilevato","studentId":"67b20991d8fdac4600a0def6","timestamp":"2025-03-05T08:38:11.421Z","username":"ciccio@pasticcio.it"}
{"level":"warn","message":"Mongoose connection disconnected","timestamp":"2025-03-05T17:09:37.465Z"}
{"level":"info","message":"Mongoose connected to MongoDB Atlas","timestamp":"2025-03-05T17:09:50.069Z"}
=======
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T07:22:43.233Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T07:22:43.240Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T07:22:43.315Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-05T07:22:44.908Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T07:22:44.910Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T07:22:44.912Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T07:22:45.988Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T07:22:46.022Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T07:22:46.022Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-05T07:22:46.242Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-05T07:22:46.243Z"}
{"duration":"11ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741159366237_0xpn1k84l","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T07:22:46.263Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-05T07:22:46.363Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-05T07:22:46.371Z"}
{"duration":"21ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741159366353_srxa77gll","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T07:22:46.374Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-05T07:23:13.918Z","userId":"677bfe44f6789c907c9f3766"}
{"action":"login","level":"info","message":"User audit record created","timestamp":"2025-03-05T07:23:13.961Z","userId":"677bfe44f6789c907c9f3766"}
{"error":"fn is not a function","level":"error","message":"School Route Error:","method":"GET","path":"/679fdad474255ebc8afab683/transition-preview","role":"admin","stack":"TypeError: fn is not a function\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\yearTransitionRoutes.js:24:21\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:204:13\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-03-05T07:28:06.907Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"172ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741159686739_fxzkjeflu","responseSize":"89 Bytes","statusCode":500,"timestamp":"2025-03-05T07:28:06.911Z","url":"/api/v1/schools/679fdad474255ebc8afab683/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":"fn is not a function","level":"error","message":"School Route Error:","method":"GET","path":"/679fdad474255ebc8afab683/transition-preview","role":"admin","stack":"TypeError: fn is not a function\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\yearTransitionRoutes.js:24:21\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:204:13\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-03-05T07:49:19.947Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"205ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741160959751_ihfrbiot9","responseSize":"89 Bytes","statusCode":500,"timestamp":"2025-03-05T07:49:19.958Z","url":"/api/v1/schools/679fdad474255ebc8afab683/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T08:10:12.602Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T08:10:12.605Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T08:10:12.635Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-05T08:10:13.683Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T08:10:13.685Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T08:10:13.686Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T08:10:14.086Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T08:10:14.095Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T08:10:14.095Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/679fdad474255ebc8afab683/transition-preview","timestamp":"2025-03-05T08:38:31.025Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"fromYear":"2024/2025","toYear":"2025/2026"},"requestId":"req_1741163911022_vanuyuyek","timestamp":"2025-03-05T08:38:31.027Z","url":"/api/v1/schools/679fdad474255ebc8afab683/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-05T08:38:31.028Z"}
{"duration":"10ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741163911022_vanuyuyek","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-05T08:38:31.032Z","url":"/api/v1/schools/679fdad474255ebc8afab683/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-05T08:38:38.225Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-05T08:38:38.228Z"}
{"duration":"15ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741163918216_y07hiz6vt","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T08:38:38.231Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-05T08:38:38.265Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-05T08:38:38.268Z"}
{"duration":"17ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741163918257_49lkcwh8c","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T08:38:38.274Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-05T08:38:42.528Z","userId":"677bfe44f6789c907c9f3766"}
{"action":"login","level":"info","message":"User audit record created","timestamp":"2025-03-05T08:38:42.574Z","userId":"677bfe44f6789c907c9f3766"}
{"academicYear":"2025/2026","count":5,"level":"info","message":"Created classes for new academic year:","sectionsUsed":["A"],"timestamp":"2025-03-05T08:40:13.353Z"}
{"level":"info","message":"Anno accademico creato con successo","schoolId":"67c763375b0426e1cb851fea","timestamp":"2025-03-05T08:40:13.402Z","year":"2025/2026"}
{"classesReactivated":5,"classesWithManagerAsTeacher":5,"classesWithPreviousTeacher":0,"level":"info","message":"Sezione e classi riattivate con successo:","schoolId":"67c454061dbaba04e72dc2ec","sectionName":"A","timestamp":"2025-03-05T08:41:28.381Z"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T09:30:02.045Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T09:30:02.051Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T09:30:02.101Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-05T09:30:03.099Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T09:30:03.101Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T09:30:03.102Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T09:30:03.454Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T09:30:03.463Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T09:30:03.463Z"}
{"error":"Class constructor ObjectId cannot be invoked without 'new'","level":"error","message":"Error in year transition preview","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\yearTransitionController.js:124:32\n    at Set.forEach (<anonymous>)\n    at YearTransitionController.getTransitionPreview (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\yearTransitionController.js:119:16)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-05T09:30:17.658Z"}
{"error":"Class constructor ObjectId cannot be invoked without 'new'","level":"error","message":"School Route Error:","method":"GET","path":"/67c454061dbaba04e72dc2ec/transition-preview","role":"admin","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\yearTransitionController.js:124:32\n    at Set.forEach (<anonymous>)\n    at YearTransitionController.getTransitionPreview (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\yearTransitionController.js:119:16)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-05T09:30:17.660Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"385ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741167017280_2mcc7a6bm","responseSize":"127 Bytes","statusCode":500,"timestamp":"2025-03-05T09:30:17.672Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":"Class constructor ObjectId cannot be invoked without 'new'","level":"error","message":"Error in year transition preview","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\yearTransitionController.js:124:32\n    at Set.forEach (<anonymous>)\n    at YearTransitionController.getTransitionPreview (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\yearTransitionController.js:119:16)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-05T09:30:28.166Z"}
{"error":"Class constructor ObjectId cannot be invoked without 'new'","level":"error","message":"School Route Error:","method":"GET","path":"/67c454061dbaba04e72dc2ec/transition-preview","role":"admin","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\yearTransitionController.js:124:32\n    at Set.forEach (<anonymous>)\n    at YearTransitionController.getTransitionPreview (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\yearTransitionController.js:119:16)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-05T09:30:28.168Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"297ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741167027873_7d3whzx4w","responseSize":"127 Bytes","statusCode":500,"timestamp":"2025-03-05T09:30:28.170Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T09:39:55.318Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T09:39:55.323Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T09:39:55.362Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-05T09:39:56.257Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T09:39:56.258Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T09:39:56.260Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T09:39:56.597Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T09:39:56.602Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T09:39:56.602Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/67c454061dbaba04e72dc2ec/transition-preview","timestamp":"2025-03-05T09:40:08.585Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"fromYear":"2024/2025","toYear":"2025/2026"},"requestId":"req_1741167608579_it4tctsu7","timestamp":"2025-03-05T09:40:08.587Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-05T09:40:08.589Z"}
{"duration":"19ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741167608579_it4tctsu7","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-05T09:40:08.599Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T09:40:16.352Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T09:40:16.355Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T09:40:16.396Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-05T09:40:17.074Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T09:40:17.075Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T09:40:17.078Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T09:40:17.361Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T09:40:17.367Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T09:40:17.368Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/67c454061dbaba04e72dc2ec/transition-preview","timestamp":"2025-03-05T09:40:30.609Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"fromYear":"2024/2025","toYear":"2025/2026"},"requestId":"req_1741167630601_rsdr6qqed","timestamp":"2025-03-05T09:40:30.612Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-05T09:40:30.613Z"}
{"duration":"17ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741167630601_rsdr6qqed","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-05T09:40:30.618Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/transition-preview?fromYear=2024%2F2025&toYear=2025%2F2026","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-05T09:40:41.631Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-05T09:40:41.633Z"}
{"duration":"9ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741167641626_bw9vpwguv","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T09:40:41.636Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-05T09:40:41.645Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-05T09:40:41.646Z"}
{"duration":"7ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741167641642_kwk18jytt","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T09:40:41.649Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-05T09:40:45.340Z","userId":"677bfe44f6789c907c9f3766"}
{"action":"login","level":"info","message":"User audit record created","timestamp":"2025-03-05T09:40:45.393Z","userId":"677bfe44f6789c907c9f3766"}
{"error":"this.classRepository.find(...).session is not a function","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-05T09:44:02.061Z","yearId":"67c454061dbaba04e72dc2ed"}
{"error":"this.classRepository.find(...).session is not a function","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67c454061dbaba04e72dc2ec","stack":"TypeError: this.classRepository.find(...).session is not a function\n    at SchoolRepository.archiveAcademicYear (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:1742:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async SchoolController.archiveAcademicYear (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\schoolController.js:1267:31)","timestamp":"2025-03-05T09:44:02.062Z","yearId":"67c454061dbaba04e72dc2ed"}
{"duration":"191ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741167841873_fwlua9dy3","responseSize":"120 Bytes","statusCode":500,"timestamp":"2025-03-05T09:44:02.065Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/academic-years/67c454061dbaba04e72dc2ed/archive","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T10:18:41.162Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T10:18:41.167Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T10:18:41.206Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-05T10:18:42.190Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T10:18:42.191Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T10:18:42.192Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T10:18:42.558Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T10:18:42.566Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T10:18:42.566Z"}
{"classesArchived":5,"level":"info","message":"Anno accademico archiviato con successo","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-05T10:18:50.085Z","yearId":"67c454061dbaba04e72dc2ed"}
{"level":"info","message":"Anno accademico archiviato con successo","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-05T10:18:50.086Z","userId":"677bfe44f6789c907c9f3766","yearId":"67c454061dbaba04e72dc2ed"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T10:25:15.489Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T10:25:15.493Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T10:25:15.528Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-03-05T10:25:16.532Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T10:25:16.533Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T10:25:16.534Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T10:25:16.883Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T10:25:16.887Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T10:25:16.887Z"}
{"classesArchived":5,"level":"info","message":"Anno accademico archiviato con successo","schoolId":"67c763375b0426e1cb851fea","timestamp":"2025-03-05T10:25:31.917Z","yearId":"67c763375b0426e1cb851feb"}
{"level":"info","message":"Anno accademico archiviato con successo","schoolId":"67c763375b0426e1cb851fea","timestamp":"2025-03-05T10:25:31.918Z","userId":"677bfe44f6789c907c9f3766","yearId":"67c763375b0426e1cb851feb"}
{"error":"Anno accademico già presente","level":"error","message":"Error in setupAcademicYear:","schoolId":"67c763375b0426e1cb851fea","timestamp":"2025-03-05T10:26:23.492Z","yearData":{"createdBy":"677bfe44f6789c907c9f3766","endDate":"2025-06-30","startDate":"2024-09-01","status":"planned","year":"2024/2025"}}
{"error":"Anno accademico già presente","level":"error","message":"Errore nella creazione dell'anno accademico","schoolId":"67c763375b0426e1cb851fea","timestamp":"2025-03-05T10:26:23.493Z"}
{"duration":"157ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741170383338_j6choq2f9","responseSize":"87 Bytes","statusCode":500,"timestamp":"2025-03-05T10:26:23.495Z","url":"/api/v1/schools/67c763375b0426e1cb851fea/academic-years","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T10:33:09.190Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T10:33:09.194Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T10:33:09.239Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-05T10:33:10.426Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T10:33:10.427Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T10:33:10.429Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T10:33:10.810Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T10:33:10.814Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T10:33:10.814Z"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T10:42:03.676Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T10:42:03.683Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T10:42:03.741Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-05T10:42:04.733Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T10:42:04.734Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T10:42:04.736Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T10:42:05.073Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T10:42:05.080Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T10:42:05.081Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-05T10:43:57.512Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-05T10:43:57.515Z"}
{"duration":"62ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741171437477_xrvch1oxq","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T10:43:57.540Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-05T10:43:57.578Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-05T10:43:57.580Z"}
{"duration":"10ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741171437573_0pdm1e1vh","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T10:43:57.583Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-05T10:44:13.744Z","userId":"677bfe44f6789c907c9f3766"}
{"action":"login","level":"info","message":"User audit record created","timestamp":"2025-03-05T10:44:13.791Z","userId":"677bfe44f6789c907c9f3766"}
{"classesReactivated":5,"level":"info","message":"Anno accademico riattivato con successo","schoolId":"67c763375b0426e1cb851fea","timestamp":"2025-03-05T10:44:20.019Z","yearId":"67c763375b0426e1cb851feb","yearValue":"2024/2025"}
{"level":"info","message":"Anno accademico riattivato con successo","schoolId":"67c763375b0426e1cb851fea","timestamp":"2025-03-05T10:44:20.020Z","userId":"677bfe44f6789c907c9f3766","yearId":"67c763375b0426e1cb851feb","yearValue":"2024/2025"}
{"level":"info","message":"Anno accademico attivato con successo","schoolId":"67c763375b0426e1cb851fea","timestamp":"2025-03-05T10:44:24.801Z","yearId":"67c763375b0426e1cb851feb"}
{"level":"info","message":"Anno accademico attivato con successo","schoolId":"67c763375b0426e1cb851fea","timestamp":"2025-03-05T10:44:24.802Z","userId":"677bfe44f6789c907c9f3766","yearId":"67c763375b0426e1cb851feb"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T16:20:54.348Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T16:20:54.354Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T16:20:54.414Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-03-05T16:20:56.261Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T16:20:56.263Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T16:20:56.266Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T16:20:56.673Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T16:20:56.759Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T16:20:56.761Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-05T16:21:03.300Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"limit":"25","page":"1","search":"","sort":"-createdAt"},"requestId":"req_1741191663288_ggqerlfw6","timestamp":"2025-03-05T16:21:03.306Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-05T16:21:03.308Z"}
{"duration":"31ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741191663288_ggqerlfw6","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-05T16:21:03.320Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-05T16:21:28.159Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-05T16:21:28.160Z"}
{"duration":"8ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741191688154_51t0ro6q4","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T16:21:28.163Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-05T16:21:28.177Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-05T16:21:28.178Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741191688174_olm44daf6","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T16:21:28.180Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-05T16:21:41.205Z","userId":"677bfe44f6789c907c9f3766"}
{"action":"login","level":"info","message":"User audit record created","timestamp":"2025-03-05T16:21:41.247Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T17:02:37.826Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T17:02:37.830Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T17:02:37.878Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-05T17:02:38.906Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T17:02:38.907Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T17:02:38.909Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T17:02:39.314Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T17:02:39.322Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T17:02:39.323Z"}
{"error":"I campi testType e classId sono obbligatori","level":"error","message":"Error in class test assignment:","timestamp":"2025-03-05T17:04:08.264Z"}
{"duration":"116ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741194248154_53dqhgukq","responseSize":"115 Bytes","statusCode":500,"timestamp":"2025-03-05T17:04:08.271Z","url":"/api/v1/tests/assign-to-class","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":"I campi testType e classId sono obbligatori","level":"error","message":"Error in class test assignment:","timestamp":"2025-03-05T17:04:12.961Z"}
{"duration":"66ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741194252898_h29scb9sx","responseSize":"115 Bytes","statusCode":500,"timestamp":"2025-03-05T17:04:12.964Z","url":"/api/v1/tests/assign-to-class","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T17:13:16.168Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T17:13:16.173Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T17:13:16.219Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-05T17:13:17.128Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T17:13:17.130Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T17:13:17.131Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T17:13:17.489Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T17:13:17.497Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T17:13:17.498Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/unassigned/679fdad474255ebc8afab683","timestamp":"2025-03-05T17:22:24.707Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{},"requestId":"req_1741195341777_tr04mzfn9","timestamp":"2025-03-05T17:22:24.871Z","url":"/api/v1/students/unassigned/679fdad474255ebc8afab683"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-05T17:22:25.005Z"}
{"duration":"3554ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741195341777_tr04mzfn9","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-05T17:22:25.384Z","url":"/api/v1/students/unassigned/679fdad474255ebc8afab683","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-05T17:22:26.445Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"limit":"25","page":"1","search":"","sort":"-createdAt"},"requestId":"req_1741195346441_nmwi14jbg","timestamp":"2025-03-05T17:22:26.448Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-05T17:22:26.450Z"}
{"duration":"14ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741195346441_nmwi14jbg","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-05T17:22:26.455Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-05T17:22:30.876Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-05T17:22:30.879Z"}
{"duration":"23ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741195350866_0prukmf8f","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T17:22:30.889Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-05T17:22:30.902Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-05T17:22:30.904Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741195350899_dq0g2l1cr","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T17:22:30.905Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-05T17:22:33.816Z","userId":"677bfe44f6789c907c9f3766"}
{"action":"login","level":"info","message":"User audit record created","timestamp":"2025-03-05T17:22:33.874Z","userId":"677bfe44f6789c907c9f3766"}
{"assignedBy":"677bfe44f6789c907c9f3766","classId":"679fdad474255ebc8afab6a4","level":"info","message":"Tests assigned to all students in class:","testsCount":3,"timestamp":"2025-03-05T17:22:52.205Z"}
{"assignedBy":"677bfe44f6789c907c9f3766","classId":"679fdad474255ebc8afab6a4","level":"info","message":"Tests assigned successfully to class:","testsCount":3,"timestamp":"2025-03-05T17:22:52.207Z"}
{"classId":"679fdad474255ebc8afab6a4","level":"info","message":"Class tests revoked:","modifiedCount":3,"testType":"CSI","timestamp":"2025-03-05T17:23:04.489Z"}
{"classId":"679fdad474255ebc8afab6a4","level":"info","message":"Class tests revoked successfully:","modifiedCount":3,"timestamp":"2025-03-05T17:23:04.491Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T17:26:38.311Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T17:26:38.316Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T17:26:38.361Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-05T17:26:40.995Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T17:26:40.996Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T17:26:40.998Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T17:26:41.376Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T17:26:41.386Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T17:26:41.386Z"}
{"assignedBy":"677bfe44f6789c907c9f3766","classId":"679fdad474255ebc8afab6a4","level":"info","message":"Tests assigned to all students in class:","testsCount":3,"timestamp":"2025-03-05T17:33:05.558Z"}
{"assignedBy":"677bfe44f6789c907c9f3766","classId":"679fdad474255ebc8afab6a4","level":"info","message":"Tests assigned successfully to class:","testsCount":3,"timestamp":"2025-03-05T17:33:05.561Z"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T17:55:53.078Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T17:55:53.083Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T17:55:53.127Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-05T17:55:54.047Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T17:55:54.050Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T17:55:54.053Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T17:55:54.390Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T17:55:54.399Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T17:55:54.400Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-05T18:47:36.796Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-05T18:47:36.804Z"}
{"duration":"90ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741200456736_iavyiwq96","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T18:47:36.830Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-05T18:47:36.844Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-05T18:47:36.845Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741200456841_cspb9fx6p","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-05T18:47:36.847Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-05T18:47:39.540Z","userId":"677bfe44f6789c907c9f3766"}
{"action":"login","level":"info","message":"User audit record created","timestamp":"2025-03-05T18:47:39.585Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","maxStudents":25,"message":"Sezione creata con successo","schoolId":"679fdad474255ebc8afab683","sectionName":"B","timestamp":"2025-03-05T18:54:44.330Z"}
{"level":"warn","message":"Route not found:","method":"PUT","path":"/api/v1/schools/679fdad474255ebc8afab683/academic-years/679fdad474255ebc8afab684","timestamp":"2025-03-05T18:54:44.498Z"}
{"duration":"156ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"PUT","requestId":"req_1741200884344_tpnaf4y5h","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-05T18:54:44.500Z","url":"/api/v1/schools/679fdad474255ebc8afab683/academic-years/679fdad474255ebc8afab684","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"duration":"274ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741201078018_d9p60z31c","responseSize":"97 Bytes","statusCode":500,"timestamp":"2025-03-05T18:57:58.292Z","url":"/api/v1/schools/679fdad474255ebc8afab683/sections","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Route not found:","method":"PUT","path":"/api/v1/schools/679fdad474255ebc8afab683/academic-years/679fdad474255ebc8afab684","timestamp":"2025-03-05T18:57:58.528Z"}
{"duration":"227ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"PUT","requestId":"req_1741201078302_s4a4je9te","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-05T18:57:58.529Z","url":"/api/v1/schools/679fdad474255ebc8afab683/academic-years/679fdad474255ebc8afab684","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"duration":"205ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741201101818_eai4v0p1a","responseSize":"97 Bytes","statusCode":500,"timestamp":"2025-03-05T18:58:22.023Z","url":"/api/v1/schools/679fdad474255ebc8afab683/sections","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Route not found:","method":"PUT","path":"/api/v1/schools/679fdad474255ebc8afab683/academic-years/679fdad474255ebc8afab684","timestamp":"2025-03-05T18:58:22.281Z"}
{"duration":"248ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"PUT","requestId":"req_1741201102036_32hw9d5hi","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-05T18:58:22.284Z","url":"/api/v1/schools/679fdad474255ebc8afab683/academic-years/679fdad474255ebc8afab684","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T18:59:36.610Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T18:59:36.615Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T18:59:36.664Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-05T18:59:37.656Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T18:59:37.657Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T18:59:37.658Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T18:59:38.004Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T18:59:38.014Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T18:59:38.015Z"}
{"level":"info","message":"Aggiornamento anno accademico 679fdad474255ebc8afab684 per scuola 679fdad474255ebc8afab683","selectedSections":2,"timestamp":"2025-03-05T19:00:36.400Z","updateData":{"description":"","endDate":"2025-06-30","startDate":"2024-09-01","year":"2024/2025"}}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T19:19:24.587Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T19:19:24.592Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T19:19:24.655Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-05T19:19:26.730Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T19:19:26.731Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T19:19:26.733Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T19:19:27.066Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T19:19:27.074Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T19:19:27.075Z"}
{"level":"info","message":"Aggiornamento anno accademico 679fdad474255ebc8afab684 per scuola 679fdad474255ebc8afab683","selectedSections":2,"timestamp":"2025-03-05T19:19:55.188Z","updateData":{"description":"","endDate":"2025-06-30","startDate":"2024-09-02","year":"2024/2025"}}
{"error":"E11000 duplicate key error collection: brainScannerDB.classes index: schoolId_1_year_1_section_1_academicYear_1 dup key: { schoolId: ObjectId('679fdad474255ebc8afab683'), year: 1, section: \"A\", academicYear: \"2024/2025\" }","level":"error","message":"Error updating academic year:","schoolId":"679fdad474255ebc8afab683","stack":"MongoBulkWriteError: E11000 duplicate key error collection: brainScannerDB.classes index: schoolId_1_year_1_section_1_academicYear_1 dup key: { schoolId: ObjectId('679fdad474255ebc8afab683'), year: 1, section: \"A\", academicYear: \"2024/2025\" }\n    at OrderedBulkOperation.handleWriteError (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\bulk\\common.js:860:22)\n    at resultHandler (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\bulk\\common.js:350:27)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\utils.js:297:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-05T19:19:55.475Z","yearId":"679fdad474255ebc8afab684"}
{"code":11000,"insertedDocs":[],"level":"error","message":"Errore nell'aggiornamento dell'anno accademico:","result":{"deletedCount":0,"insertedCount":0,"insertedIds":{},"matchedCount":0,"modifiedCount":0,"upsertedCount":0,"upsertedIds":{}},"timestamp":"2025-03-05T19:19:55.477Z","writeErrors":[{"err":{"code":11000,"errmsg":"E11000 duplicate key error collection: brainScannerDB.classes index: schoolId_1_year_1_section_1_academicYear_1 dup key: { schoolId: ObjectId('679fdad474255ebc8afab683'), year: 1, section: \"A\", academicYear: \"2024/2025\" }","index":0,"op":{"__v":0,"_id":"67c8a3dbaba171945cb1d8a1","academicYear":"2024/2025","capacity":25,"createdAt":"2025-03-05T19:19:55.257Z","isActive":true,"mainTeacherIsTemporary":false,"schoolId":"679fdad474255ebc8afab683","section":"A","status":"planned","students":[],"teachers":[],"updatedAt":"2025-03-05T19:19:55.426Z","year":1}},"index":0}]}
{"duration":"441ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"PUT","requestId":"req_1741202395040_fapd94izl","responseSize":"51 Bytes","statusCode":500,"timestamp":"2025-03-05T19:19:55.483Z","url":"/api/v1/schools/679fdad474255ebc8afab683/academic-years/679fdad474255ebc8afab684","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T19:20:14.414Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T19:20:14.418Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T19:20:14.461Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-05T19:20:16.076Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T19:20:16.078Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T19:20:16.081Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T19:20:16.445Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T19:20:16.453Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T19:20:16.453Z"}
{"level":"info","maxStudents":25,"message":"Sezione creata con successo","schoolId":"679fdad474255ebc8afab683","sectionName":"B","timestamp":"2025-03-05T19:20:38.819Z"}
{"level":"info","message":"Aggiornamento anno accademico 679fdad474255ebc8afab684 per scuola 679fdad474255ebc8afab683","selectedSections":3,"timestamp":"2025-03-05T19:20:38.948Z","updateData":{"description":"","endDate":"2025-06-30","startDate":"2024-09-02","year":"2024/2025"}}
{"error":"Class validation failed: section: temp-B non è una sezione valida","level":"error","message":"Error updating academic year:","schoolId":"679fdad474255ebc8afab683","stack":"ValidationError: Class validation failed: section: temp-B non è una sezione valida\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-05T19:20:39.097Z","yearId":"679fdad474255ebc8afab684"}
{"_message":"Class validation failed","errors":{"section":{"kind":"user defined","message":"temp-B non è una sezione valida","name":"ValidatorError","path":"section","properties":{"message":"temp-B non è una sezione valida","path":"section","type":"user defined","value":"temp-B"},"value":"temp-B"}},"level":"error","message":"Errore nell'aggiornamento dell'anno accademico:","timestamp":"2025-03-05T19:20:39.099Z"}
{"duration":"270ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"PUT","requestId":"req_1741202438832_69ya1nrjv","responseSize":"51 Bytes","statusCode":500,"timestamp":"2025-03-05T19:20:39.102Z","url":"/api/v1/schools/679fdad474255ebc8afab683/academic-years/679fdad474255ebc8afab684","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T19:23:18.271Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T19:23:18.277Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T19:23:18.327Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-03-05T19:23:19.278Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T19:23:19.280Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T19:23:19.282Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T19:23:19.608Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T19:23:19.618Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T19:23:19.619Z"}
{"level":"info","message":"Aggiornamento anno accademico 679fdad474255ebc8afab684 per scuola 679fdad474255ebc8afab683","selectedSections":2,"timestamp":"2025-03-05T19:23:46.372Z","updateData":{"description":"","endDate":"2025-06-30","startDate":"2024-09-02","year":"2024/2025"}}
{"error":"E11000 duplicate key error collection: brainScannerDB.classes index: schoolId_1_year_1_section_1_academicYear_1 dup key: { schoolId: ObjectId('679fdad474255ebc8afab683'), year: 1, section: \"A\", academicYear: \"2024/2025\" }","level":"error","message":"Error updating academic year:","schoolId":"679fdad474255ebc8afab683","stack":"MongoBulkWriteError: E11000 duplicate key error collection: brainScannerDB.classes index: schoolId_1_year_1_section_1_academicYear_1 dup key: { schoolId: ObjectId('679fdad474255ebc8afab683'), year: 1, section: \"A\", academicYear: \"2024/2025\" }\n    at OrderedBulkOperation.handleWriteError (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\bulk\\common.js:860:22)\n    at resultHandler (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\bulk\\common.js:350:27)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\utils.js:297:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-05T19:23:46.684Z","yearId":"679fdad474255ebc8afab684"}
{"code":11000,"insertedDocs":[],"level":"error","message":"Errore nell'aggiornamento dell'anno accademico:","result":{"deletedCount":0,"insertedCount":0,"insertedIds":{},"matchedCount":0,"modifiedCount":0,"upsertedCount":0,"upsertedIds":{}},"timestamp":"2025-03-05T19:23:46.685Z","writeErrors":[{"err":{"code":11000,"errmsg":"E11000 duplicate key error collection: brainScannerDB.classes index: schoolId_1_year_1_section_1_academicYear_1 dup key: { schoolId: ObjectId('679fdad474255ebc8afab683'), year: 1, section: \"A\", academicYear: \"2024/2025\" }","index":0,"op":{"__v":0,"_id":"67c8a4c2a0e58d84fb4ecb48","academicYear":"2024/2025","capacity":25,"createdAt":"2025-03-05T19:23:46.445Z","isActive":true,"mainTeacherIsTemporary":false,"schoolId":"679fdad474255ebc8afab683","section":"A","status":"planned","students":[],"teachers":[],"updatedAt":"2025-03-05T19:23:46.628Z","year":1}},"index":0}]}
{"duration":"458ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"PUT","requestId":"req_1741202626229_kk3t3d7ii","responseSize":"51 Bytes","statusCode":500,"timestamp":"2025-03-05T19:23:46.687Z","url":"/api/v1/schools/679fdad474255ebc8afab683/academic-years/679fdad474255ebc8afab684","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T19:26:35.275Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T19:26:35.279Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T19:26:35.315Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-03-05T19:26:36.059Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T19:26:36.060Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T19:26:36.062Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T19:26:36.388Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T19:26:36.392Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T19:26:36.392Z"}
{"level":"info","message":"Aggiornamento anno accademico 679fdad474255ebc8afab684 per scuola 679fdad474255ebc8afab683","selectedSections":1,"timestamp":"2025-03-05T19:27:07.412Z","updateData":{"description":"","endDate":"2025-06-30","startDate":"2024-09-02","year":"2024/2025"}}
{"level":"info","maxStudents":25,"message":"Sezione creata con successo","schoolId":"679fdad474255ebc8afab683","sectionName":"B","timestamp":"2025-03-05T19:28:12.683Z"}
{"level":"info","message":"Aggiornamento anno accademico 679fdad474255ebc8afab684 per scuola 679fdad474255ebc8afab683","selectedSections":3,"timestamp":"2025-03-05T19:28:12.794Z","updateData":{"description":"","endDate":"2025-06-30","startDate":"2024-09-02","year":"2024/2025"}}
{"error":"Class validation failed: section: temp-B non è una sezione valida","level":"error","message":"Error updating academic year:","schoolId":"679fdad474255ebc8afab683","stack":"ValidationError: Class validation failed: section: temp-B non è una sezione valida\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-05T19:28:13.101Z","yearId":"679fdad474255ebc8afab684"}
{"_message":"Class validation failed","errors":{"section":{"kind":"user defined","message":"temp-B non è una sezione valida","name":"ValidatorError","path":"section","properties":{"message":"temp-B non è una sezione valida","path":"section","type":"user defined","value":"temp-B"},"value":"temp-B"}},"level":"error","message":"Errore nell'aggiornamento dell'anno accademico:","timestamp":"2025-03-05T19:28:13.103Z"}
{"duration":"412ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"PUT","requestId":"req_1741202892694_k2qdrh4sc","responseSize":"51 Bytes","statusCode":500,"timestamp":"2025-03-05T19:28:13.106Z","url":"/api/v1/schools/679fdad474255ebc8afab683/academic-years/679fdad474255ebc8afab684","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T19:28:56.126Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T19:28:56.134Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T19:28:56.214Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-05T19:28:57.623Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T19:28:57.625Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T19:28:57.628Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T19:28:58.020Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T19:28:58.034Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T19:28:58.035Z"}
{"level":"info","message":"Aggiornamento anno accademico 679fdad474255ebc8afab684 per scuola 679fdad474255ebc8afab683","selectedSections":2,"timestamp":"2025-03-05T19:29:24.722Z","updateData":{"description":"","endDate":"2025-06-30","startDate":"2024-09-02","year":"2024/2025"}}
{"academicYear":"2024/2025","classesCreated":3,"level":"info","message":"Create nuove classi per le sezioni aggiunte","newSections":["A","B"],"schoolId":"679fdad474255ebc8afab683","timestamp":"2025-03-05T19:29:24.985Z"}
{"level":"info","maxStudents":25,"message":"Sezione creata con successo","schoolId":"679fdad474255ebc8afab683","sectionName":"C","timestamp":"2025-03-05T19:30:38.796Z"}
{"level":"info","message":"Aggiornamento anno accademico 679fdad474255ebc8afab684 per scuola 679fdad474255ebc8afab683","selectedSections":3,"timestamp":"2025-03-05T19:30:38.949Z","updateData":{"description":"","endDate":"2025-06-30","startDate":"2024-09-02","year":"2024/2025"}}
{"error":"Class validation failed: section: temp-C non è una sezione valida","level":"error","message":"Error updating academic year:","schoolId":"679fdad474255ebc8afab683","stack":"ValidationError: Class validation failed: section: temp-C non è una sezione valida\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-05T19:30:39.238Z","yearId":"679fdad474255ebc8afab684"}
{"_message":"Class validation failed","errors":{"section":{"kind":"user defined","message":"temp-C non è una sezione valida","name":"ValidatorError","path":"section","properties":{"message":"temp-C non è una sezione valida","path":"section","type":"user defined","value":"temp-C"},"value":"temp-C"}},"level":"error","message":"Errore nell'aggiornamento dell'anno accademico:","timestamp":"2025-03-05T19:30:39.241Z"}
{"duration":"423ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"PUT","requestId":"req_1741203038820_qthnev90o","responseSize":"51 Bytes","statusCode":500,"timestamp":"2025-03-05T19:30:39.243Z","url":"/api/v1/schools/679fdad474255ebc8afab683/academic-years/679fdad474255ebc8afab684","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"duration":"220ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741203044001_khzod7qbw","responseSize":"97 Bytes","statusCode":500,"timestamp":"2025-03-05T19:30:44.221Z","url":"/api/v1/schools/679fdad474255ebc8afab683/sections","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Aggiornamento anno accademico 679fdad474255ebc8afab684 per scuola 679fdad474255ebc8afab683","selectedSections":4,"timestamp":"2025-03-05T19:30:44.384Z","updateData":{"description":"","endDate":"2025-06-30","startDate":"2024-09-02","year":"2024/2025"}}
{"error":"Class validation failed: section: temp-C non è una sezione valida","level":"error","message":"Error updating academic year:","schoolId":"679fdad474255ebc8afab683","stack":"ValidationError: Class validation failed: section: temp-C non è una sezione valida\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-05T19:30:44.730Z","yearId":"679fdad474255ebc8afab684"}
{"_message":"Class validation failed","errors":{"section":{"kind":"user defined","message":"temp-C non è una sezione valida","name":"ValidatorError","path":"section","properties":{"message":"temp-C non è una sezione valida","path":"section","type":"user defined","value":"temp-C"},"value":"temp-C"}},"level":"error","message":"Errore nell'aggiornamento dell'anno accademico:","timestamp":"2025-03-05T19:30:44.731Z"}
{"duration":"502ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"PUT","requestId":"req_1741203044231_kgb5u0jxu","responseSize":"51 Bytes","statusCode":500,"timestamp":"2025-03-05T19:30:44.733Z","url":"/api/v1/schools/679fdad474255ebc8afab683/academic-years/679fdad474255ebc8afab684","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"duration":"204ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1741203064189_mnxr1q9d2","responseSize":"97 Bytes","statusCode":500,"timestamp":"2025-03-05T19:31:04.393Z","url":"/api/v1/schools/679fdad474255ebc8afab683/sections","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Aggiornamento anno accademico 679fdad474255ebc8afab684 per scuola 679fdad474255ebc8afab683","selectedSections":4,"timestamp":"2025-03-05T19:31:04.525Z","updateData":{"description":"","endDate":"2025-06-30","startDate":"2024-09-02","year":"2024/2025"}}
{"error":"Class validation failed: section: temp-C non è una sezione valida","level":"error","message":"Error updating academic year:","schoolId":"679fdad474255ebc8afab683","stack":"ValidationError: Class validation failed: section: temp-C non è una sezione valida\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-05T19:31:04.880Z","yearId":"679fdad474255ebc8afab684"}
{"_message":"Class validation failed","errors":{"section":{"kind":"user defined","message":"temp-C non è una sezione valida","name":"ValidatorError","path":"section","properties":{"message":"temp-C non è una sezione valida","path":"section","type":"user defined","value":"temp-C"},"value":"temp-C"}},"level":"error","message":"Errore nell'aggiornamento dell'anno accademico:","timestamp":"2025-03-05T19:31:04.881Z"}
{"duration":"466ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"PUT","requestId":"req_1741203064417_r5kl18w3k","responseSize":"51 Bytes","statusCode":500,"timestamp":"2025-03-05T19:31:04.883Z","url":"/api/v1/schools/679fdad474255ebc8afab683/academic-years/679fdad474255ebc8afab684","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-05T19:35:37.915Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-05T19:35:37.920Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-05T19:35:37.976Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-05T19:35:39.556Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-05T19:35:39.557Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-05T19:35:39.559Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-05T19:35:39.911Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-05T19:35:39.921Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-05T19:35:39.922Z"}
{"level":"info","message":"Aggiornamento anno accademico 679fdad474255ebc8afab684 per scuola 679fdad474255ebc8afab683","selectedSections":3,"timestamp":"2025-03-05T19:35:58.649Z","updateData":{"description":"","endDate":"2025-06-30","startDate":"2024-09-02","year":"2024/2025"}}
{"entriesCount":35,"level":"info","message":"User history retrieved","timestamp":"2025-03-05T20:07:49.965Z","userId":"67c02995250c5746c3d9647c"}
{"entriesCount":35,"level":"info","message":"User history retrieved","timestamp":"2025-03-05T20:07:49.966Z","userId":"67c02995250c5746c3d9647c"}
{"entriesCount":35,"level":"info","message":"User history retrieved","timestamp":"2025-03-05T20:08:05.106Z","userId":"67c02995250c5746c3d9647c"}
{"entriesCount":35,"level":"info","message":"User history retrieved","timestamp":"2025-03-05T20:08:05.107Z","userId":"67c02995250c5746c3d9647c"}
{"entriesCount":9,"level":"info","message":"User history retrieved","timestamp":"2025-03-05T20:08:32.293Z","userId":"677bfe44f6789c907c9f3766"}
{"entriesCount":9,"level":"info","message":"User history retrieved","timestamp":"2025-03-05T20:08:32.294Z","userId":"677bfe44f6789c907c9f3766"}
{"error":"ID scuola non valido","level":"error","message":"Error in SchoolRepository.findById:","timestamp":"2025-03-05T20:18:55.589Z","type":"undefined"}
{"error":"ID scuola non valido","level":"error","message":"Errore nel recupero della scuola:","timestamp":"2025-03-05T20:18:55.596Z"}
{"duration":"168ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741205935431_plnysl6ql","responseSize":"85 Bytes","statusCode":404,"timestamp":"2025-03-05T20:18:55.599Z","url":"/api/v1/schools/679fdad474255ebc8afab683/sections","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":"ID scuola non valido","level":"error","message":"Error in SchoolRepository.findById:","timestamp":"2025-03-05T20:19:13.239Z","type":"undefined"}
{"error":"ID scuola non valido","level":"error","message":"Errore nel recupero della scuola:","timestamp":"2025-03-05T20:19:13.240Z"}
{"duration":"162ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1741205953079_7qm37kvdo","responseSize":"85 Bytes","statusCode":404,"timestamp":"2025-03-05T20:19:13.241Z","url":"/api/v1/schools/%22679fdad474255ebc8afab683%22/sections","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
>>>>>>> aa0498b4ddafee4cf0da9f8b1cc8fc5309af7611

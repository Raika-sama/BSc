{"level":"error","message":"connect ECONNREFUSED ::1:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":null,"stale":false,"type":"Unknown"},"timestamp":"2025-01-05T15:01:46.076Z"}
{"level":"info","message":"Database connection closed","timestamp":"2025-01-05T15:01:46.086Z"}
{"level":"info","message":"Starting database migration...","timestamp":"2025-01-05T15:05:52.196Z"}
{"level":"info","message":"Attempting to connect to MongoDB Atlas...","timestamp":"2025-01-05T15:05:52.200Z"}
{"error":"connect ECONNREFUSED ::1:27017","level":"error","message":"Migration failed:","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017\n    at _handleConnectionErrors (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\connection.js:816:11)\n    at NativeConnection.openUri (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\connection.js:791:11)\n    at async runMigration (C:\\Users\\ricca\\Desktop\\BSc\\src\\database\\migrations\\initial-setup.js:13:9)","timestamp":"2025-01-05T15:06:22.227Z"}
{"level":"info","message":"Database connection closed","timestamp":"2025-01-05T15:06:22.236Z"}
{"level":"info","message":"Starting database migration...","timestamp":"2025-01-05T15:16:02.982Z"}
{"level":"info","message":"Attempting to connect to MongoDB Atlas...","timestamp":"2025-01-05T15:16:02.986Z"}
{"level":"info","message":"Successfully connected to MongoDB Atlas","timestamp":"2025-01-05T15:16:03.485Z"}
{"level":"info","message":"Created collection: users","timestamp":"2025-01-05T15:16:03.533Z"}
{"level":"info","message":"Created collection: schools","timestamp":"2025-01-05T15:16:03.583Z"}
{"level":"info","message":"Created collection: classes","timestamp":"2025-01-05T15:16:03.633Z"}
{"level":"info","message":"Created index on users.email","timestamp":"2025-01-05T15:16:03.682Z"}
{"level":"info","message":"Created index on schools.name","timestamp":"2025-01-05T15:16:03.749Z"}
{"level":"info","message":"Migration completed successfully","timestamp":"2025-01-05T15:16:03.750Z"}
{"level":"info","message":"Database connection closed","timestamp":"2025-01-05T15:16:03.757Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:10:58.524Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-01-05T17:10:59.035Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:10:59.046Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:10:59.047Z"}
{"level":"info","message":"Auth Route Called: POST /api/v1/auth/register","timestamp":"2025-01-05T17:12:26.382Z"}
{"level":"info","message":"Nuovo utente registrato","timestamp":"2025-01-05T17:12:26.548Z","userId":"677abd7a4fce72d2489a3c60"}
{"level":"info","message":"Auth Route Called: POST /api/v1/auth/login","timestamp":"2025-01-05T17:14:32.393Z"}
{"level":"info","message":"Login utente effettuato","timestamp":"2025-01-05T17:14:32.519Z","userId":"677abd7a4fce72d2489a3c60"}
{"level":"info","message":"Route chiamata: [GET] /api/v1/protected-route","timestamp":"2025-01-05T17:14:40.943Z"}
{"level":"warn","message":"Route non trovata: GET /api/v1/protected-route","timestamp":"2025-01-05T17:14:40.943Z"}
{"duration":"2ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1736097280942_ftxx6yom3","responseSize":"83 Bytes","statusCode":404,"timestamp":"2025-01-05T17:14:40.944Z","url":"/api/v1/protected-route","userAgent":"curl/8.11.0"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:16:09.873Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-01-05T17:16:10.369Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:16:10.378Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:16:10.380Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:17:04.490Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-01-05T17:17:04.972Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:17:04.978Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:17:04.979Z"}
{"level":"info","message":"Auth Route Called: GET /api/v1/auth/me","timestamp":"2025-01-05T17:17:15.882Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:18:22.987Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-01-05T17:18:23.375Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:18:23.381Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:18:23.383Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:18:53.228Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-01-05T17:18:53.605Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:18:53.612Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:18:53.613Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:24:19.318Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-01-05T17:24:19.746Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:24:19.759Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:24:19.760Z"}

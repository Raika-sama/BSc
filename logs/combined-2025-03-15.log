{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-15T07:53:24.335Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-15T07:53:24.341Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-15T07:53:24.398Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-15T07:53:25.405Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-15T07:53:25.406Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-15T07:53:25.408Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests","/system-tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-15T07:53:25.793Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-15T07:53:25.801Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-15T07:53:25.802Z"}
{"error":"jwt expired","level":"error","message":"Errore durante la verifica del token","name":"TokenExpiredError","timestamp":"2025-03-15T07:53:53.274Z"}
{"error":{"code":"AUTH_002","message":"Token scaduto","metadata":{},"status":401},"ip":"::1","level":"error","message":"Student authentication failed","path":"/my-tests","timestamp":"2025-03-15T07:53:53.276Z"}
{"error":"Token scaduto","level":"error","message":"Test Route Error:","method":"GET","path":"/my-tests","timestamp":"2025-03-15T07:53:53.277Z"}
{"duration":"67ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1742025233218_cftv4pw3b","responseSize":"85 Bytes","statusCode":500,"timestamp":"2025-03-15T07:53:53.286Z","url":"/api/v1/tests/my-tests","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"error":{"code":"AUTH_002","message":"Token scaduto","metadata":{},"status":401},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-15T07:53:54.373Z"}
{"error":{"code":"AUTH_002","message":"Token scaduto","metadata":{},"status":401},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-15T07:53:54.375Z"}
{"duration":"11ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1742025234366_arf5wylr4","responseSize":"72 Bytes","statusCode":401,"timestamp":"2025-03-15T07:53:54.377Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"error":{"code":"AUTH_002","message":"Token scaduto","metadata":{},"status":401},"ip":"::1","level":"error","message":"Authentication failed","path":"/refresh-token","timestamp":"2025-03-15T07:53:54.460Z"}
{"error":{"code":"AUTH_002","message":"Token scaduto","metadata":{},"status":401},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/refresh-token","timestamp":"2025-03-15T07:53:54.461Z"}
{"duration":"8ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1742025234455_gqxyf0t5s","responseSize":"72 Bytes","statusCode":401,"timestamp":"2025-03-15T07:53:54.463Z","url":"/api/v1/auth/refresh-token","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"},"timestamp":"2025-03-15T07:54:09.971Z","userId":"677bfe44f6789c907c9f3766"}
{"action":"login","level":"info","message":"User audit record created","timestamp":"2025-03-15T07:54:10.021Z","userId":"677bfe44f6789c907c9f3766"}
{"error":"jwt expired","level":"error","message":"Errore durante la verifica del token","name":"TokenExpiredError","timestamp":"2025-03-15T07:54:18.431Z"}
{"error":{"code":"AUTH_002","message":"Token scaduto","metadata":{},"status":401},"ip":"::1","level":"error","message":"Student authentication failed","path":"/profile","timestamp":"2025-03-15T07:54:18.432Z"}
{"error":"Token scaduto","level":"error","message":"StudentAuth error:","method":"GET","path":"/student/profile","timestamp":"2025-03-15T07:54:18.434Z"}
{"duration":"11ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1742025258426_m4med3gqm","responseSize":"72 Bytes","statusCode":401,"timestamp":"2025-03-15T07:54:18.437Z","url":"/api/v1/student-auth/student/profile","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"error":"jwt expired","level":"error","message":"Errore durante la verifica del token","name":"TokenExpiredError","timestamp":"2025-03-15T07:54:18.446Z"}
{"error":{"code":"AUTH_002","message":"Token scaduto","metadata":{},"status":401},"ip":"::1","level":"error","message":"Student authentication failed","path":"/profile","timestamp":"2025-03-15T07:54:18.447Z"}
{"error":"Token scaduto","level":"error","message":"StudentAuth error:","method":"GET","path":"/student/profile","timestamp":"2025-03-15T07:54:18.448Z"}
{"duration":"9ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1742025258441_b6yiux0vi","responseSize":"72 Bytes","statusCode":401,"timestamp":"2025-03-15T07:54:18.450Z","url":"/api/v1/student-auth/student/profile","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"level":"info","message":"Richiesta logout studente","timestamp":"2025-03-15T07:54:18.461Z"}
{"level":"info","message":"Richiesta logout studente","timestamp":"2025-03-15T07:54:18.548Z"}
{"level":"info","message":"Richiesta logout studente","timestamp":"2025-03-15T07:54:24.058Z"}
{"level":"info","message":"Richiesta login studente","timestamp":"2025-03-15T07:54:25.119Z","username":"piero@matest.it"}
{"level":"info","message":"Tentativo di autenticazione studente","timestamp":"2025-03-15T07:54:25.121Z","username":"piero@matest.it"}
{"level":"warn","message":"Autenticazione fallita: password non valida","timestamp":"2025-03-15T07:54:25.225Z","username":"piero@matest.it"}
{"error":"Credenziali non valide","level":"error","message":"Errore durante l'autenticazione dello studente","timestamp":"2025-03-15T07:54:25.226Z","username":"piero@matest.it"}
{"error":"Credenziali non valide","level":"error","message":"Errore durante il login dello studente","timestamp":"2025-03-15T07:54:25.226Z"}
{"error":"Credenziali non valide","level":"error","message":"StudentAuth error:","method":"POST","path":"/login","timestamp":"2025-03-15T07:54:25.227Z"}
{"duration":"114ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1742025265114_rbp6ejsaf","responseSize":"81 Bytes","statusCode":401,"timestamp":"2025-03-15T07:54:25.228Z","url":"/api/v1/student-auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"level":"info","message":"Richiesta login studente","timestamp":"2025-03-15T07:54:29.119Z","username":"piero@matest.it"}
{"level":"info","message":"Tentativo di autenticazione studente","timestamp":"2025-03-15T07:54:29.120Z","username":"piero@matest.it"}
{"level":"warn","message":"Autenticazione fallita: password non valida","timestamp":"2025-03-15T07:54:29.225Z","username":"piero@matest.it"}
{"error":"Credenziali non valide","level":"error","message":"Errore durante l'autenticazione dello studente","timestamp":"2025-03-15T07:54:29.226Z","username":"piero@matest.it"}
{"error":"Credenziali non valide","level":"error","message":"Errore durante il login dello studente","timestamp":"2025-03-15T07:54:29.228Z"}
{"error":"Credenziali non valide","level":"error","message":"StudentAuth error:","method":"POST","path":"/login","timestamp":"2025-03-15T07:54:29.228Z"}
{"duration":"113ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1742025269116_zek6s07vk","responseSize":"81 Bytes","statusCode":401,"timestamp":"2025-03-15T07:54:29.229Z","url":"/api/v1/student-auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"level":"info","message":"Nessuna password fornita, reindirizzando a generateCredentials","timestamp":"2025-03-15T07:55:13.863Z"}
{"level":"info","message":"Richiesta generazione credenziali studente","studentId":"67c4908d647e9de1d9422ed8","timestamp":"2025-03-15T07:55:13.864Z"}
{"level":"info","message":"Generazione credenziali per studente","studentId":"67c4908d647e9de1d9422ed8","timestamp":"2025-03-15T07:55:13.865Z"}
{"level":"info","message":"Credenziali generate con successo","studentId":"67c4908d647e9de1d9422ed8","timestamp":"2025-03-15T07:55:14.020Z"}
{"level":"info","message":"Richiesta login studente","timestamp":"2025-03-15T07:55:21.343Z","username":"piero@matest.it"}
{"level":"info","message":"Tentativo di autenticazione studente","timestamp":"2025-03-15T07:55:21.343Z","username":"piero@matest.it"}
{"level":"info","message":"Primo accesso rilevato","studentId":"67c4908d647e9de1d9422ed8","timestamp":"2025-03-15T07:55:21.361Z","username":"piero@matest.it"}
{"level":"info","message":"Richiesta primo accesso studente","studentId":"67c4908d647e9de1d9422ed8","timestamp":"2025-03-15T07:55:33.729Z"}
{"level":"info","message":"Gestione primo accesso studente","studentId":"67c4908d647e9de1d9422ed8","timestamp":"2025-03-15T07:55:33.730Z"}
{"level":"info","message":"Primo accesso completato con successo","studentId":"67c4908d647e9de1d9422ed8","timestamp":"2025-03-15T07:55:34.056Z"}
{"assignedBy":"677bfe44f6789c907c9f3766","csiConfigId":"67a65a423218fb8ab7bbc040","level":"info","message":"Test assigned to student:","studentId":"67c4908d647e9de1d9422ed8","testId":"67d532c0d398319f2c1aff6d","testType":"CSI","timestamp":"2025-03-15T07:56:48.653Z"}
{"assignedBy":"677bfe44f6789c907c9f3766","level":"info","message":"Test assigned successfully:","studentId":"67c4908d647e9de1d9422ed8","testId":"67d532c0d398319f2c1aff6d","timestamp":"2025-03-15T07:56:48.654Z"}
{"level":"warn","message":"Token is already used but returning result anyway for debugging:","timestamp":"2025-03-15T07:58:20.654Z","token":"0ce280e13d..."}
{"answer":{"_id":"67d532ccd398319f2c1b0033","categoria":"Creatività","questionId":1,"timeSpent":1742025420735,"timestamp":"2025-03-15T07:57:00.802Z","value":2},"index":0,"level":"error","message":"Invalid answer structure:","timestamp":"2025-03-15T07:58:20.655Z"}
{"error":"Invalid answer structure at index 0","level":"error","message":"Error calculating test result:","sampleAnswer":{"_id":"67d532ccd398319f2c1b0033","categoria":"Creatività","questionId":1,"timeSpent":1742025420735,"timestamp":"2025-03-15T07:57:00.802Z","value":2},"stack":"Error: Invalid answer structure at index 0\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\engines\\CSI\\engine\\CSIScorer.js:58:23\n    at Array.forEach (<anonymous>)\n    at CSIScorer.calculateTestResult (C:\\Users\\ricca\\Desktop\\BSc\\src\\engines\\CSI\\engine\\CSIScorer.js:55:17)\n    at completeTest (C:\\Users\\ricca\\Desktop\\BSc\\src\\engines\\CSI\\CSIController.js:451:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-15T07:58:20.656Z"}
{"error":"Errore nel calcolo del risultato del test","level":"error","message":"Error completing test:","timestamp":"2025-03-15T07:58:20.657Z","token":"0ce280e13d..."}
{"duration":"59ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1742025500599_mp868l26y","responseSize":"111 Bytes","statusCode":400,"timestamp":"2025-03-15T07:58:20.658Z","url":"/api/v1/tests/csi/0ce280e13db84b476e1863f92c743cfdbe07843044fc26fe9228cbfb4992e48d/complete","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-15T08:02:05.305Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-15T08:02:05.309Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-15T08:02:05.349Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-15T08:02:07.329Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-15T08:02:07.330Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-15T08:02:07.332Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests","/system-tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-15T08:02:07.687Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-15T08:02:07.691Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-15T08:02:07.692Z"}
{"level":"warn","message":"Token is already used but returning result anyway for debugging:","timestamp":"2025-03-15T08:02:08.932Z","token":"0ce280e13d..."}
{"level":"warn","message":"Token is already used but returning result anyway for debugging:","timestamp":"2025-03-15T08:02:09.003Z","token":"0ce280e13d..."}
{"level":"error","message":"Token not found or already used:","timestamp":"2025-03-15T08:02:10.824Z","token":"0ce280e13d..."}
{"error":"Token non valido o già utilizzato","level":"error","message":"Error marking token as used:","timestamp":"2025-03-15T08:02:10.825Z","token":"0ce280e13d..."}
{"error":"Token non valido o già utilizzato","level":"error","message":"Error in _startTest:","timestamp":"2025-03-15T08:02:10.826Z","token":"0ce280e13d..."}
{"error":"Token non valido o già utilizzato","level":"error","message":"Error starting CSI test:","timestamp":"2025-03-15T08:02:10.827Z","token":"0ce280e13d..."}
{"duration":"40ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1742025730790_ladrlqayn","responseSize":"101 Bytes","statusCode":400,"timestamp":"2025-03-15T08:02:10.830Z","url":"/api/v1/tests/csi/0ce280e13db84b476e1863f92c743cfdbe07843044fc26fe9228cbfb4992e48d/start","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"assignedBy":"677bfe44f6789c907c9f3766","csiConfigId":"67a65a423218fb8ab7bbc040","level":"info","message":"Test assigned to student:","studentId":"67c4908d647e9de1d9422ed8","testId":"67d5343bdd1459c3d66cf657","testType":"CSI","timestamp":"2025-03-15T08:03:07.712Z"}
{"assignedBy":"677bfe44f6789c907c9f3766","level":"info","message":"Test assigned successfully:","studentId":"67c4908d647e9de1d9422ed8","testId":"67d5343bdd1459c3d66cf657","timestamp":"2025-03-15T08:03:07.714Z"}
{"level":"warn","message":"Token is already used but returning result anyway for debugging:","timestamp":"2025-03-15T08:04:06.996Z","token":"d1c895f594..."}
{"error":"completedResult is not defined","level":"error","message":"Error completing test:","stack":"ReferenceError: completedResult is not defined\n    at completeTest (C:\\Users\\ricca\\Desktop\\BSc\\src\\engines\\CSI\\CSIController.js:509:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-15T08:04:07.060Z","token":"d1c895f594..."}
{"duration":"118ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1742025846943_fpgktdgkn","responseSize":"100 Bytes","statusCode":400,"timestamp":"2025-03-15T08:04:07.061Z","url":"/api/v1/tests/csi/d1c895f594815b4c6574cc4597904579acefb752f77415c2bf8fc39f33b73731/complete","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-15T08:06:40.547Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-15T08:06:40.550Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-15T08:06:40.585Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-03-15T08:06:41.365Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-15T08:06:41.366Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-15T08:06:41.368Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests","/system-tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-15T08:06:41.708Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-15T08:06:41.714Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-15T08:06:41.715Z"}
{"assignedBy":"677bfe44f6789c907c9f3766","csiConfigId":"67a65a423218fb8ab7bbc040","level":"info","message":"Test assigned to student:","studentId":"67c4908d647e9de1d9422ed8","testId":"67d5352d919e4cdf67b2c8d6","testType":"CSI","timestamp":"2025-03-15T08:07:09.249Z"}
{"assignedBy":"677bfe44f6789c907c9f3766","level":"info","message":"Test assigned successfully:","studentId":"67c4908d647e9de1d9422ed8","testId":"67d5352d919e4cdf67b2c8d6","timestamp":"2025-03-15T08:07:09.251Z"}
{"level":"warn","message":"Token is already used but returning result anyway for debugging:","timestamp":"2025-03-15T08:08:03.845Z","token":"bad4d70ace..."}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-15T08:13:20.566Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-15T08:13:20.569Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-15T08:13:20.602Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-15T08:13:21.321Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-15T08:13:21.322Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-15T08:13:21.324Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests","/system-tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-15T08:13:21.604Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-15T08:13:21.608Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-15T08:13:21.608Z"}
{"assignedBy":"677bfe44f6789c907c9f3766","csiConfigId":"67a65a423218fb8ab7bbc040","level":"info","message":"Test assigned to student:","studentId":"67c4908d647e9de1d9422ed8","testId":"67d53704c298f86f8e9da674","testType":"CSI","timestamp":"2025-03-15T08:15:00.384Z"}
{"assignedBy":"677bfe44f6789c907c9f3766","level":"info","message":"Test assigned successfully:","studentId":"67c4908d647e9de1d9422ed8","testId":"67d53704c298f86f8e9da674","timestamp":"2025-03-15T08:15:00.385Z"}
{"level":"warn","message":"Token is already used but returning result anyway for debugging:","timestamp":"2025-03-15T08:18:07.131Z","token":"b65a227c2a..."}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-15T08:31:58.753Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-15T08:31:58.759Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-15T08:31:58.816Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-15T08:32:00.647Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-15T08:32:00.648Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-15T08:32:00.650Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests","/system-tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-15T08:32:00.991Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-15T08:32:00.996Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-15T08:32:00.996Z"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/tests/67d53704c298f86f8e9da674/results","timestamp":"2025-03-15T09:05:44.170Z"}
{"duration":"81ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1742029544105_yo4iya2lu","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-15T09:05:44.188Z","url":"/api/v1/tests/67d53704c298f86f8e9da674/results","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-15T09:08:30.222Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-15T09:08:30.226Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-15T09:08:30.273Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-03-15T09:08:31.285Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-15T09:08:31.287Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-15T09:08:31.288Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests","/system-tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-15T09:08:31.679Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-15T09:08:31.689Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-15T09:08:31.690Z"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/tests/67d53704c298f86f8e9da674/results","timestamp":"2025-03-15T09:08:50.321Z"}
{"duration":"78ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1742029730245_7lxl4mw3t","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-15T09:08:50.323Z","url":"/api/v1/tests/67d53704c298f86f8e9da674/results","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/tests/67d53704c298f86f8e9da674/results","timestamp":"2025-03-15T09:13:51.790Z"}
{"duration":"69ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1742030031722_h5k4xxhlg","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-15T09:13:51.791Z","url":"/api/v1/tests/67d53704c298f86f8e9da674/results","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-15T09:14:00.210Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-15T09:14:00.216Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-15T09:14:00.253Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-15T09:14:00.981Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-15T09:14:00.982Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-15T09:14:00.984Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests","/system-tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-15T09:14:01.267Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-15T09:14:01.270Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-15T09:14:01.271Z"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/tests/67d53704c298f86f8e9da674/results","timestamp":"2025-03-15T09:14:18.380Z"}
{"duration":"78ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1742030058305_ic398lz4b","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-15T09:14:18.383Z","url":"/api/v1/tests/67d53704c298f86f8e9da674/results","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-15T09:20:22.525Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-15T09:20:22.530Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-15T09:20:22.569Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-15T09:20:23.349Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-15T09:20:23.350Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-15T09:20:23.351Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests","/system-tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-15T09:20:23.706Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-15T09:20:23.710Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-15T09:20:23.711Z"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-15T09:54:30.444Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-15T09:54:30.448Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-15T09:54:30.486Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-15T09:54:31.413Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-15T09:54:31.414Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-15T09:54:31.415Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests","/system-tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-15T09:54:31.749Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-15T09:54:31.757Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-15T09:54:31.758Z"}
{"assignedBy":"677bfe44f6789c907c9f3766","csiConfigId":"67a65a423218fb8ab7bbc040","level":"info","message":"Test assigned to student:","studentId":"67d33f6e2796ad4d01e67af8","testId":"67d54e6d8b1c7b658b01e285","testType":"CSI","timestamp":"2025-03-15T09:54:53.348Z"}
{"assignedBy":"677bfe44f6789c907c9f3766","level":"info","message":"Test assigned successfully:","studentId":"67d33f6e2796ad4d01e67af8","testId":"67d54e6d8b1c7b658b01e285","timestamp":"2025-03-15T09:54:53.349Z"}
{"assignedBy":"677bfe44f6789c907c9f3766","csiConfigId":"67a65a423218fb8ab7bbc040","level":"info","message":"Test assigned to student:","studentId":"67c4908d647e9de1d9422ed8","testId":"67d54e888b1c7b658b01e31f","testType":"CSI","timestamp":"2025-03-15T09:55:20.576Z"}
{"assignedBy":"677bfe44f6789c907c9f3766","level":"info","message":"Test assigned successfully:","studentId":"67c4908d647e9de1d9422ed8","testId":"67d54e888b1c7b658b01e31f","timestamp":"2025-03-15T09:55:20.578Z"}
{"level":"warn","message":"Token is already used but returning result anyway for debugging:","timestamp":"2025-03-15T09:56:10.708Z","token":"5ae03c1fd6..."}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/tests/aggregated/class/67c236a42373b42426264c16?testType=CSI","timestamp":"2025-03-15T10:40:44.598Z"}
{"duration":"89ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1742035244515_x0hjfys61","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-15T10:40:44.608Z","url":"/api/v1/tests/aggregated/class/67c236a42373b42426264c16?testType=CSI","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/tests/aggregated/class/67c236a42373b42426264c16?testType=CSI","timestamp":"2025-03-15T10:44:29.388Z"}
{"duration":"67ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1742035469322_igkmugfvd","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-15T10:44:29.389Z","url":"/api/v1/tests/aggregated/class/67c236a42373b42426264c16?testType=CSI","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/tests/aggregated/class/67c236a42373b42426264c16?testType=CSI","timestamp":"2025-03-15T10:47:27.455Z"}
{"duration":"85ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1742035647372_islhigtna","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-15T10:47:27.457Z","url":"/api/v1/tests/aggregated/class/67c236a42373b42426264c16?testType=CSI","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/tests/aggregated/class/67c236a42373b42426264c16?testType=CSI","timestamp":"2025-03-15T10:52:36.531Z"}
{"duration":"82ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1742035956452_t3okomlbd","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-15T10:52:36.534Z","url":"/api/v1/tests/aggregated/class/67c236a42373b42426264c16?testType=CSI","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-15T10:57:19.105Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-15T10:57:19.109Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-15T10:57:19.154Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-15T10:57:20.164Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-15T10:57:20.165Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-15T10:57:20.166Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests","/system-tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-15T10:57:20.543Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-15T10:57:20.552Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-15T10:57:20.553Z"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/tests/aggregated/class/67c236a42373b42426264c16?testType=CSI","timestamp":"2025-03-15T10:57:30.572Z"}
{"duration":"83ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1742036250492_eh0vysvmt","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-15T10:57:30.576Z","url":"/api/v1/tests/aggregated/class/67c236a42373b42426264c16?testType=CSI","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-15T10:58:05.993Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-15T10:58:05.997Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-15T10:58:06.042Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-15T10:58:06.855Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-15T10:58:06.857Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-15T10:58:06.859Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests","/system-tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-15T10:58:07.213Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-15T10:58:07.218Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-15T10:58:07.218Z"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/tests/aggregated/class/67c236a42373b42426264c16?testType=CSI","timestamp":"2025-03-15T10:58:16.685Z"}
{"duration":"93ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1742036296596_dksnuiw79","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-15T10:58:16.690Z","url":"/api/v1/tests/aggregated/class/67c236a42373b42426264c16?testType=CSI","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/tests/aggregated/class/67c236a42373b42426264c16?testType=CSI","timestamp":"2025-03-15T10:58:47.218Z"}
{"duration":"81ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1742036327140_4r1la0uab","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-15T10:58:47.221Z","url":"/api/v1/tests/aggregated/class/67c236a42373b42426264c16?testType=CSI","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"classId":"67c236a42373b42426264c16","level":"info","message":"Richiesta dati aggregati test classe","testType":"CSI","timestamp":"2025-03-15T11:01:11.505Z","userId":"677bfe44f6789c907c9f3766"}
{"classId":"67c236a42373b42426264c16","level":"info","message":"Richiesta dati aggregati test classe","testType":"CSI","timestamp":"2025-03-15T11:01:35.048Z","userId":"677bfe44f6789c907c9f3766"}
{"classId":"67c236a42373b42426264c16","level":"info","message":"Richiesta dati aggregati test classe","testType":"CSI","timestamp":"2025-03-15T11:06:58.867Z","userId":"677bfe44f6789c907c9f3766"}
{"classId":"67c236a42373b42426264c16","level":"info","message":"Richiesta dati aggregati test classe","testType":"CSI","timestamp":"2025-03-15T11:08:28.499Z","userId":"677bfe44f6789c907c9f3766"}
{"classId":"67c236a42373b42426264c16","level":"info","message":"Richiesta dati aggregati test classe","testType":"CSI","timestamp":"2025-03-15T11:08:39.936Z","userId":"677bfe44f6789c907c9f3766"}
{"classId":"67c236a42373b42426264c16","level":"info","message":"Richiesta dati aggregati test classe","testType":"CSI","timestamp":"2025-03-15T11:09:05.384Z","userId":"677bfe44f6789c907c9f3766"}
{"classId":"67c236a42373b42426264c16","level":"info","message":"Richiesta dati aggregati test classe","testType":"CSI","timestamp":"2025-03-15T11:09:20.969Z","userId":"677bfe44f6789c907c9f3766"}
{"error":"Cannot destructure property 'testType' of 'req.body' as it is undefined.","level":"error","message":"Error in class test assignment:","stack":"TypeError: Cannot destructure property 'testType' of 'req.body' as it is undefined.\n    at TestRepository.assignTestToClass (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\TestRepository.js:200:21)\n    at TestController.assignTestToClass (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\testController.js:147:50)\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\testRoutes.js:22:25\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:370:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-15T11:09:25.497Z"}
{"error":"this.sendError is not a function","level":"error","message":"Error in class test assignment:","stack":"TypeError: this.sendError is not a function\n    at TestRepository.assignTestToClass (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\TestRepository.js:272:18)\n    at TestController.assignTestToClass (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\testController.js:147:50)\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\testRoutes.js:22:25\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:370:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-15T11:09:25.500Z"}
{"duration":"128ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1742036965376_w1xvgfr5c","responseSize":"104 Bytes","statusCode":500,"timestamp":"2025-03-15T11:09:25.504Z","url":"/api/v1/tests/assign-to-class","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0"}
{"assignedBy":"677bfe44f6789c907c9f3766","csiConfigId":"67a65a423218fb8ab7bbc040","level":"info","message":"Test assigned to student:","studentId":"67d1dc3cf6b1bd007cd5a301","testId":"67d5600a636815ac87965ed9","testType":"CSI","timestamp":"2025-03-15T11:10:02.713Z"}
{"assignedBy":"677bfe44f6789c907c9f3766","level":"info","message":"Test assigned successfully:","studentId":"67d1dc3cf6b1bd007cd5a301","testId":"67d5600a636815ac87965ed9","timestamp":"2025-03-15T11:10:02.714Z"}
{"classId":"67c236a42373b42426264c16","level":"info","message":"Richiesta dati aggregati test classe","testType":"CSI","timestamp":"2025-03-15T11:10:11.967Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Richiesta logout studente","timestamp":"2025-03-15T11:10:31.515Z"}
{"level":"info","message":"Nessuna password fornita, reindirizzando a generateCredentials","timestamp":"2025-03-15T11:10:41.854Z"}
{"level":"info","message":"Richiesta generazione credenziali studente","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T11:10:41.855Z"}
{"level":"info","message":"Generazione credenziali per studente","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T11:10:41.856Z"}
{"level":"info","message":"Credenziali generate con successo","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T11:10:42.051Z"}
{"level":"info","message":"Richiesta login studente","timestamp":"2025-03-15T11:10:50.336Z","username":"pippo@test.it"}
{"level":"info","message":"Tentativo di autenticazione studente","timestamp":"2025-03-15T11:10:50.337Z","username":"pippo@test.it"}
{"level":"info","message":"Primo accesso rilevato","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T11:10:50.360Z","username":"pippo@test.it"}
{"level":"info","message":"Richiesta primo accesso studente","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T11:10:59.758Z"}
{"level":"info","message":"Gestione primo accesso studente","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T11:10:59.759Z"}
{"level":"info","message":"Primo accesso completato con successo","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T11:11:00.116Z"}
{"level":"warn","message":"Token is already used but returning result anyway for debugging:","timestamp":"2025-03-15T11:14:35.967Z","token":"99a371b76e..."}
{"classId":"67c236a42373b42426264c16","level":"info","message":"Richiesta dati aggregati test classe","testType":"CSI","timestamp":"2025-03-15T11:18:50.033Z","userId":"677bfe44f6789c907c9f3766"}
{"classId":"67c236a42373b42426264c16","level":"info","message":"Richiesta dati aggregati test classe","testType":"CSI","timestamp":"2025-03-15T11:24:10.479Z","userId":"677bfe44f6789c907c9f3766"}
{"classId":"67c236a42373b42426264c16","level":"info","message":"Richiesta dati aggregati test classe","testType":"CSI","timestamp":"2025-03-15T11:31:45.573Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-15T12:29:07.249Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-15T12:29:07.259Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-15T12:29:07.346Z"}
{"level":"error","message":"Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":"atlas-ewe2jc-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"timestamp":"2025-03-15T12:29:14.025Z"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-15T12:37:41.359Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-15T12:37:41.366Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-15T12:37:41.452Z"}
{"level":"error","message":"Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":"atlas-ewe2jc-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"timestamp":"2025-03-15T12:37:49.361Z"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-15T12:44:08.466Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-15T12:44:08.471Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-15T12:44:08.553Z"}
{"level":"error","message":"Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":"atlas-ewe2jc-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"timestamp":"2025-03-15T12:44:14.361Z"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-15T12:49:44.212Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-15T12:49:44.221Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-15T12:49:44.298Z"}
{"level":"error","message":"Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":"atlas-ewe2jc-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"timestamp":"2025-03-15T12:49:50.203Z"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-15T12:52:38.145Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-15T12:52:38.151Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-15T12:52:38.203Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-15T12:52:39.783Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-15T12:52:39.787Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-15T12:52:39.791Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests","/system-tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-15T12:52:40.544Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-15T12:52:40.561Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-15T12:52:40.563Z"}
{"classId":"67c236a42373b42426264c16","level":"info","message":"Richiesta dati aggregati test classe","testType":"CSI","timestamp":"2025-03-15T12:56:27.057Z","userId":"677bfe44f6789c907c9f3766"}
{"entriesCount":17,"level":"info","message":"User history retrieved","timestamp":"2025-03-15T13:04:12.182Z","userId":"677bfe44f6789c907c9f3766"}
{"entriesCount":17,"level":"info","message":"User history retrieved","timestamp":"2025-03-15T13:04:12.184Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Richiesta profilo studente","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T13:05:00.257Z"}
{"level":"info","message":"Recupero profilo studente","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T13:05:00.264Z"}
{"level":"info","message":"Profilo studente recuperato con successo","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T13:05:00.400Z"}
{"level":"info","message":"Richiesta profilo studente","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T13:05:00.504Z"}
{"level":"info","message":"Recupero profilo studente","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T13:05:00.507Z"}
{"level":"info","message":"Profilo studente recuperato con successo","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T13:05:00.661Z"}
{"level":"warn","message":"Mongoose not connected when initializing models","timestamp":"2025-03-15T14:32:55.582Z"}
{"connectionState":0,"existingModels":["CSIQuestion","Test","Student","CSIConfig"],"level":"info","message":"Initializing models...","timestamp":"2025-03-15T14:32:55.590Z"}
{"level":"info","message":"Model validation successful - all required models registered","timestamp":"2025-03-15T14:32:55.703Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-03-15T14:32:57.041Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-15T14:32:57.043Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-15T14:32:57.045Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests","/system-tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-15T14:32:57.442Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-15T14:32:57.449Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-15T14:32:57.449Z"}
{"classId":"67c236a42373b42426264c16","level":"info","message":"Richiesta dati aggregati test classe","testType":"CSI","timestamp":"2025-03-15T15:39:51.929Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Richiesta profilo studente","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T15:40:36.939Z"}
{"level":"info","message":"Recupero profilo studente","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T15:40:36.940Z"}
{"level":"info","message":"Profilo studente recuperato con successo","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T15:40:36.996Z"}
{"level":"info","message":"Richiesta profilo studente","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T15:40:37.024Z"}
{"level":"info","message":"Recupero profilo studente","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T15:40:37.024Z"}
{"level":"info","message":"Profilo studente recuperato con successo","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T15:40:37.084Z"}
{"level":"info","message":"Richiesta profilo studente","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T15:40:42.334Z"}
{"level":"info","message":"Recupero profilo studente","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T15:40:42.335Z"}
{"level":"info","message":"Profilo studente recuperato con successo","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T15:40:42.389Z"}
{"level":"info","message":"Richiesta profilo studente","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T15:40:42.417Z"}
{"level":"info","message":"Recupero profilo studente","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T15:40:42.418Z"}
{"level":"info","message":"Profilo studente recuperato con successo","studentId":"67d1dc3cf6b1bd007cd5a301","timestamp":"2025-03-15T15:40:42.471Z"}

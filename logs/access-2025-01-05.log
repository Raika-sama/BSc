{"level":"error","message":"connect ECONNREFUSED ::1:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":null,"stale":false,"type":"Unknown"},"timestamp":"2025-01-05T15:01:46.076Z"}
{"level":"info","message":"Database connection closed","timestamp":"2025-01-05T15:01:46.086Z"}
{"level":"info","message":"Starting database migration...","timestamp":"2025-01-05T15:05:52.196Z"}
{"level":"info","message":"Attempting to connect to MongoDB Atlas...","timestamp":"2025-01-05T15:05:52.200Z"}
{"error":"connect ECONNREFUSED ::1:27017","level":"error","message":"Migration failed:","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017\n    at _handleConnectionErrors (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\connection.js:816:11)\n    at NativeConnection.openUri (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\connection.js:791:11)\n    at async runMigration (C:\\Users\\ricca\\Desktop\\BSc\\src\\database\\migrations\\initial-setup.js:13:9)","timestamp":"2025-01-05T15:06:22.227Z"}
{"level":"info","message":"Database connection closed","timestamp":"2025-01-05T15:06:22.236Z"}
{"level":"info","message":"Starting database migration...","timestamp":"2025-01-05T15:16:02.982Z"}
{"level":"info","message":"Attempting to connect to MongoDB Atlas...","timestamp":"2025-01-05T15:16:02.986Z"}
{"level":"info","message":"Successfully connected to MongoDB Atlas","timestamp":"2025-01-05T15:16:03.485Z"}
{"level":"info","message":"Created collection: users","timestamp":"2025-01-05T15:16:03.533Z"}
{"level":"info","message":"Created collection: schools","timestamp":"2025-01-05T15:16:03.583Z"}
{"level":"info","message":"Created collection: classes","timestamp":"2025-01-05T15:16:03.633Z"}
{"level":"info","message":"Created index on users.email","timestamp":"2025-01-05T15:16:03.682Z"}
{"level":"info","message":"Created index on schools.name","timestamp":"2025-01-05T15:16:03.749Z"}
{"level":"info","message":"Migration completed successfully","timestamp":"2025-01-05T15:16:03.750Z"}
{"level":"info","message":"Database connection closed","timestamp":"2025-01-05T15:16:03.757Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:10:58.524Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-01-05T17:10:59.035Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:10:59.046Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:10:59.047Z"}
{"body":{"email":"test@example.com","firstName":"Test","lastName":"User","password":"[REDACTED]"},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736097146380_l0rd8jw0u","timestamp":"2025-01-05T17:12:26.380Z","url":"/api/v1/auth/register","userAgent":"curl/8.11.0"}
{"level":"info","message":"Auth Route Called: POST /api/v1/auth/register","timestamp":"2025-01-05T17:12:26.382Z"}
{"level":"info","message":"Nuovo utente registrato","timestamp":"2025-01-05T17:12:26.548Z","userId":"677abd7a4fce72d2489a3c60"}
{"duration":"173ms","ip":"::1","level":"http","message":"Risposta inviata","method":"POST","requestId":"req_1736097146380_l0rd8jw0u","responseSize":"436 Bytes","statusCode":201,"timestamp":"2025-01-05T17:12:26.554Z","url":"/api/v1/auth/register","userAgent":"curl/8.11.0"}
{"body":{"email":"test@example.com","password":"[REDACTED]"},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736097272391_kq5k73j30","timestamp":"2025-01-05T17:14:32.392Z","url":"/api/v1/auth/login","userAgent":"curl/8.11.0"}
{"level":"info","message":"Auth Route Called: POST /api/v1/auth/login","timestamp":"2025-01-05T17:14:32.393Z"}
{"level":"info","message":"Login utente effettuato","timestamp":"2025-01-05T17:14:32.519Z","userId":"677abd7a4fce72d2489a3c60"}
{"duration":"129ms","ip":"::1","level":"http","message":"Risposta inviata","method":"POST","requestId":"req_1736097272391_kq5k73j30","responseSize":"475 Bytes","statusCode":200,"timestamp":"2025-01-05T17:14:32.520Z","url":"/api/v1/auth/login","userAgent":"curl/8.11.0"}
{"body":{},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"GET","query":{},"requestId":"req_1736097280942_ftxx6yom3","timestamp":"2025-01-05T17:14:40.942Z","url":"/api/v1/protected-route","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [GET] /api/v1/protected-route","timestamp":"2025-01-05T17:14:40.943Z"}
{"level":"warn","message":"Route non trovata: GET /api/v1/protected-route","timestamp":"2025-01-05T17:14:40.943Z"}
{"duration":"2ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1736097280942_ftxx6yom3","responseSize":"83 Bytes","statusCode":404,"timestamp":"2025-01-05T17:14:40.944Z","url":"/api/v1/protected-route","userAgent":"curl/8.11.0"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:16:09.873Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-01-05T17:16:10.369Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:16:10.378Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:16:10.380Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:17:04.490Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-01-05T17:17:04.972Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:17:04.978Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:17:04.979Z"}
{"body":{},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"GET","query":{},"requestId":"req_1736097435880_xuawcccq1","timestamp":"2025-01-05T17:17:15.880Z","url":"/api/v1/auth/me","userAgent":"curl/8.11.0"}
{"level":"info","message":"Auth Route Called: GET /api/v1/auth/me","timestamp":"2025-01-05T17:17:15.882Z"}
{"duration":"37ms","ip":"::1","level":"http","message":"Risposta inviata","method":"GET","requestId":"req_1736097435880_xuawcccq1","responseSize":"367 Bytes","statusCode":200,"timestamp":"2025-01-05T17:17:15.917Z","url":"/api/v1/auth/me","userAgent":"curl/8.11.0"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:18:22.987Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-01-05T17:18:23.375Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:18:23.381Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:18:23.383Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:18:53.228Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-01-05T17:18:53.605Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:18:53.612Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:18:53.613Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:24:19.318Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-01-05T17:24:19.746Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:24:19.759Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:24:19.760Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:26:50.732Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-01-05T17:26:51.198Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:26:51.207Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:26:51.208Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:26:52.942Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-01-05T17:26:53.382Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:26:53.389Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:26:53.390Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:31:23.881Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-01-05T17:31:24.357Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:31:24.365Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:31:24.366Z"}
{"body":{},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"GET","query":{},"requestId":"req_1736098371358_nk6syre25","timestamp":"2025-01-05T17:32:51.359Z","url":"/api/v1/health","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [GET] /api/v1/health","timestamp":"2025-01-05T17:32:51.360Z"}
{"level":"info","message":"Health check eseguito","status":{"database":{"connected":true},"environment":"development","memory":{"free":3156128,"usage":{"arrayBuffers":18385455,"external":20744872,"heapTotal":27201536,"heapUsed":24041400,"rss":68538368}},"status":"healthy","timestamp":"2025-01-05T17:32:51.361Z","uptime":88.4447011},"timestamp":"2025-01-05T17:32:51.361Z"}
{"duration":"8ms","ip":"::1","level":"http","message":"Risposta inviata","method":"GET","requestId":"req_1736098371358_nk6syre25","responseSize":"273 Bytes","statusCode":200,"timestamp":"2025-01-05T17:32:51.366Z","url":"/api/v1/health","userAgent":"curl/8.11.0"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736098415486_3wxcb31en","timestamp":"2025-01-05T17:33:35.486Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/schools","timestamp":"2025-01-05T17:33:35.487Z"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"error":{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at module.exports [as verify] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at exports.protect (C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:30:29)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1736098415486_3wxcb31en","timestamp":"2025-01-05T17:33:35.489Z","url":"/api/v1/schools"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1736098415486_3wxcb31en","responseSize":"1.22 KB","statusCode":401,"timestamp":"2025-01-05T17:33:35.492Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736098528910_ad22wg35f","timestamp":"2025-01-05T17:35:28.910Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/schools","timestamp":"2025-01-05T17:35:28.911Z"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"error":{"message":"AppError is not a constructor","stack":"TypeError: AppError is not a constructor\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:63:17\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at exports.protect (C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:53:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1736098528910_ad22wg35f","timestamp":"2025-01-05T17:35:28.943Z","url":"/api/v1/schools"}
{"duration":"36ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1736098528910_ad22wg35f","responseSize":"1.2 KB","statusCode":500,"timestamp":"2025-01-05T17:35:28.946Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:37:11.601Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-01-05T17:37:12.032Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:37:12.038Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:37:12.039Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:37:36.364Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-01-05T17:37:36.774Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:37:36.781Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:37:36.782Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:38:18.552Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-01-05T17:38:18.992Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:38:19.001Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:38:19.003Z"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736098733328_4mq4sju46","timestamp":"2025-01-05T17:38:53.329Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/schools","timestamp":"2025-01-05T17:38:53.330Z"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"error":{"message":"currentUser.hasPasswordChangedAfter is not a function","stack":"TypeError: currentUser.hasPasswordChangedAfter is not a function\n    at exports.protect (C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:37:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1736098733328_4mq4sju46","timestamp":"2025-01-05T17:38:53.359Z","url":"/api/v1/schools"}
{"duration":"36ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1736098733328_4mq4sju46","responseSize":"435 Bytes","statusCode":500,"timestamp":"2025-01-05T17:38:53.365Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:39:25.494Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-01-05T17:39:25.933Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:39:25.939Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:39:25.940Z"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736098766744_on7nphpk0","timestamp":"2025-01-05T17:39:26.744Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/schools","timestamp":"2025-01-05T17:39:26.745Z"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"error":{"message":"AppError is not a constructor","stack":"TypeError: AppError is not a constructor\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:63:17\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at exports.protect (C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:53:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1736098766744_on7nphpk0","timestamp":"2025-01-05T17:39:26.791Z","url":"/api/v1/schools"}
{"duration":"54ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1736098766744_on7nphpk0","responseSize":"1.2 KB","statusCode":500,"timestamp":"2025-01-05T17:39:26.798Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:41:18.397Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-01-05T17:41:18.819Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:41:18.826Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:41:18.827Z"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736098883279_n9dey9vp0","timestamp":"2025-01-05T17:41:23.280Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/schools","timestamp":"2025-01-05T17:41:23.281Z"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"error":{"message":"Non hai i permessi per questa azione","stack":"Error: Non hai i permessi per questa azione\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:63:17\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at exports.protect (C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:53:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1736098883279_n9dey9vp0","timestamp":"2025-01-05T17:41:23.334Z","url":"/api/v1/schools"}
{"duration":"67ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1736098883279_n9dey9vp0","responseSize":"1.22 KB","statusCode":403,"timestamp":"2025-01-05T17:41:23.347Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:42:02.713Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-01-05T17:42:03.116Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:42:03.125Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:42:03.126Z"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736098925597_q4fpxctnd","timestamp":"2025-01-05T17:42:05.597Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/schools","timestamp":"2025-01-05T17:42:05.599Z"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"error":{"message":"userRepository is not defined","stack":"ReferenceError: userRepository is not defined\n    at exports.protect (C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:31:22)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:328:13)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1736098925597_q4fpxctnd","timestamp":"2025-01-05T17:42:05.603Z","url":"/api/v1/schools"}
{"duration":"12ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1736098925597_q4fpxctnd","responseSize":"1.26 KB","statusCode":500,"timestamp":"2025-01-05T17:42:05.609Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:42:46.124Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-01-05T17:42:46.546Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:42:46.554Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:42:46.555Z"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736098969420_rbub8l0tb","timestamp":"2025-01-05T17:42:49.420Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/schools","timestamp":"2025-01-05T17:42:49.422Z"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"error":{"message":"currentUser.hasPasswordChangedAfter is not a function","stack":"TypeError: currentUser.hasPasswordChangedAfter is not a function\n    at exports.protect (C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:37:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1736098969420_rbub8l0tb","timestamp":"2025-01-05T17:42:49.452Z","url":"/api/v1/schools"}
{"duration":"38ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1736098969420_rbub8l0tb","responseSize":"435 Bytes","statusCode":500,"timestamp":"2025-01-05T17:42:49.458Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:43:50.659Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-01-05T17:43:51.041Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:43:51.048Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:43:51.049Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:44:18.034Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-01-05T17:44:18.436Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:44:18.443Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:44:18.444Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:44:22.772Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-01-05T17:44:23.165Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:44:23.173Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:44:23.174Z"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736099072156_oul9om319","timestamp":"2025-01-05T17:44:32.157Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/schools","timestamp":"2025-01-05T17:44:32.158Z"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"error":{"message":"currentUser.hasPasswordChangedAfter is not a function","stack":"TypeError: currentUser.hasPasswordChangedAfter is not a function\n    at exports.protect (C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:37:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1736099072156_oul9om319","timestamp":"2025-01-05T17:44:32.191Z","url":"/api/v1/schools"}
{"duration":"42ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1736099072156_oul9om319","responseSize":"435 Bytes","statusCode":500,"timestamp":"2025-01-05T17:44:32.199Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T17:45:19.114Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-01-05T17:45:19.621Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T17:45:19.629Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T17:45:19.630Z"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736099121809_4z5j39ofr","timestamp":"2025-01-05T17:45:21.809Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/schools","timestamp":"2025-01-05T17:45:21.811Z"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"error":{"message":"Non hai i permessi per questa azione","stack":"Error: Non hai i permessi per questa azione\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:48:19\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at exports.protect (C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:39:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1736099121809_4z5j39ofr","timestamp":"2025-01-05T17:45:21.841Z","url":"/api/v1/schools"}
{"duration":"38ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1736099121809_4z5j39ofr","responseSize":"1.22 KB","statusCode":403,"timestamp":"2025-01-05T17:45:21.847Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736099379358_macb8bg82","timestamp":"2025-01-05T17:49:39.358Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/schools","timestamp":"2025-01-05T17:49:39.359Z"}
{"level":"error","message":"school error:","timestamp":"2025-01-05T17:49:39.400Z"}
{"duration":"43ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1736099379358_macb8bg82","responseSize":"101 Bytes","statusCode":500,"timestamp":"2025-01-05T17:49:39.401Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"body":{},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"PATCH","query":{},"requestId":"req_1736099398889_j09k97qww","timestamp":"2025-01-05T17:49:58.889Z","url":"/api/v1/users/make-admin/677abd7a4fce72d2489a3c60","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [PATCH] /api/v1/users/make-admin/677abd7a4fce72d2489a3c60","timestamp":"2025-01-05T17:49:58.890Z"}
{"level":"warn","message":"Route non trovata: PATCH /api/v1/users/make-admin/677abd7a4fce72d2489a3c60","timestamp":"2025-01-05T17:49:58.909Z"}
{"duration":"21ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"PATCH","requestId":"req_1736099398889_j09k97qww","responseSize":"83 Bytes","statusCode":404,"timestamp":"2025-01-05T17:49:58.910Z","url":"/api/v1/users/make-admin/677abd7a4fce72d2489a3c60","userAgent":"curl/8.11.0"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736099415079_8ww9ajdtb","timestamp":"2025-01-05T17:50:15.079Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/schools","timestamp":"2025-01-05T17:50:15.080Z"}
{"level":"error","message":"school error:","timestamp":"2025-01-05T17:50:15.101Z"}
{"duration":"23ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1736099415079_8ww9ajdtb","responseSize":"101 Bytes","statusCode":500,"timestamp":"2025-01-05T17:50:15.102Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T18:00:10.652Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-01-05T18:00:11.070Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T18:00:11.078Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T18:00:11.080Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T18:01:31.244Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-01-05T18:01:31.652Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T18:01:31.660Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T18:01:31.662Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T18:03:42.277Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-01-05T18:03:43.510Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T18:03:43.517Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T18:03:43.518Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T18:03:58.292Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-01-05T18:03:58.681Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T18:03:58.687Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T18:03:58.689Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T18:04:36.658Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-01-05T18:04:37.052Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T18:04:37.058Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T18:04:37.060Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T18:15:19.900Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-01-05T18:15:20.337Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T18:15:20.343Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T18:15:20.344Z"}
{"body":{"email":"admin@test.com","firstName":"Test","lastName":"Admin","password":"[REDACTED]","role":"admin"},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736100962861_caahy2ndd","timestamp":"2025-01-05T18:16:02.861Z","url":"/api/v1/auth/register","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/auth/register","timestamp":"2025-01-05T18:16:02.862Z"}
{"level":"info","message":"Auth Route Called: POST /api/v1/auth/register","timestamp":"2025-01-05T18:16:02.863Z"}
{"error":{},"level":"error","message":"Errore durante la registrazione","timestamp":"2025-01-05T18:16:02.873Z"}
{"body":{"email":"admin@test.com","firstName":"Test","lastName":"Admin","password":"[REDACTED]","role":"admin"},"error":{"message":"AppError is not a constructor","stack":"TypeError: AppError is not a constructor\n    at UserRepository.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:25:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.register (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\authController.js:68:29)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1736100962861_caahy2ndd","timestamp":"2025-01-05T18:16:02.874Z","url":"/api/v1/auth/register"}
{"level":"error","message":"AppError is not a constructor","stack":"TypeError: AppError is not a constructor\n    at UserRepository.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:25:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.register (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\authController.js:68:29)","timestamp":"2025-01-05T18:16:02.875Z"}
{"duration":"19ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1736100962861_caahy2ndd","responseSize":"527 Bytes","statusCode":500,"timestamp":"2025-01-05T18:16:02.880Z","url":"/api/v1/auth/register","userAgent":"curl/8.11.0"}
{"level":"warn","message":"Warning: school repository potrebbe mancare il modelName","repository":"school","timestamp":"2025-01-05T18:17:07.652Z"}
{"level":"warn","message":"Warning: user repository potrebbe mancare il modelName","repository":"user","timestamp":"2025-01-05T18:17:07.658Z"}
{"level":"warn","message":"Warning: class repository potrebbe mancare il modelName","repository":"class","timestamp":"2025-01-05T18:17:07.659Z"}
{"level":"warn","message":"Warning: student repository potrebbe mancare il modelName","repository":"student","timestamp":"2025-01-05T18:17:07.660Z"}
{"level":"warn","message":"Warning: test repository potrebbe mancare il modelName","repository":"test","timestamp":"2025-01-05T18:17:07.661Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T18:17:07.662Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-01-05T18:17:08.125Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T18:17:08.131Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T18:17:08.132Z"}
{"body":{"email":"admin@test.com","firstName":"Test","lastName":"Admin","password":"[REDACTED]","role":"admin"},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736101033457_8ril6vyao","timestamp":"2025-01-05T18:17:13.457Z","url":"/api/v1/auth/register","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/auth/register","timestamp":"2025-01-05T18:17:13.459Z"}
{"level":"info","message":"Auth Route Called: POST /api/v1/auth/register","timestamp":"2025-01-05T18:17:13.460Z"}
{"error":{"_message":"User validation failed","errors":{"password":{"kind":"minlength","message":"Path `password` (`12345`) is shorter than the minimum allowed length (8).","name":"ValidatorError","path":"password","properties":{"message":"Path `password` (`12345`) is shorter than the minimum allowed length (8).","minlength":8,"path":"password","type":"minlength","value":"12345"},"value":"12345"}},"message":"User validation failed: password: Path `password` (`12345`) is shorter than the minimum allowed length (8).","name":"ValidationError"},"level":"error","message":"Errore nella creazione di User","timestamp":"2025-01-05T18:17:13.470Z"}
{"error":{"code":"DB_001","message":"Errore nella creazione di User","metadata":{"originalError":"User validation failed: password: Path `password` (`12345`) is shorter than the minimum allowed length (8)."},"status":500},"level":"error","message":"Errore durante la registrazione","timestamp":"2025-01-05T18:17:13.471Z"}
{"body":{"email":"admin@test.com","firstName":"Test","lastName":"Admin","password":"[REDACTED]","role":"admin"},"error":{"code":"DB_001","message":"Errore nella creazione di User"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1736101033457_8ril6vyao","timestamp":"2025-01-05T18:17:13.472Z","url":"/api/v1/auth/register"}
{"level":"error","message":"Errore nella creazione di User","timestamp":"2025-01-05T18:17:13.473Z"}
{"duration":"20ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1736101033457_8ril6vyao","responseSize":"238 Bytes","statusCode":500,"timestamp":"2025-01-05T18:17:13.477Z","url":"/api/v1/auth/register","userAgent":"curl/8.11.0"}
{"body":{"email":"admin@test.com","firstName":"Test","lastName":"Admin","password":"[REDACTED]","role":"admin"},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736101047308_sokmxhpf1","timestamp":"2025-01-05T18:17:27.309Z","url":"/api/v1/auth/register","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/auth/register","timestamp":"2025-01-05T18:17:27.310Z"}
{"level":"info","message":"Auth Route Called: POST /api/v1/auth/register","timestamp":"2025-01-05T18:17:27.310Z"}
{"level":"info","message":"Utente registrato con successo","timestamp":"2025-01-05T18:17:27.341Z","userId":"677accb7e2328c27850423b5"}
{"error":{},"level":"error","message":"Errore durante la registrazione","timestamp":"2025-01-05T18:17:27.345Z"}
{"body":{"email":"admin@test.com","firstName":"Test","lastName":"Admin","password":"[REDACTED]","role":"admin"},"error":{"message":"option expires is invalid","stack":"TypeError: option expires is invalid\n    at Object.serialize (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\node_modules\\cookie\\index.js:234:13)\n    at res.cookie (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\response.js:892:36)\n    at AuthController._sendTokenResponse (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\authController.js:54:14)\n    at AuthController.register (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\authController.js:70:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1736101047308_sokmxhpf1","timestamp":"2025-01-05T18:17:27.346Z","url":"/api/v1/auth/register"}
{"level":"error","message":"option expires is invalid","stack":"TypeError: option expires is invalid\n    at Object.serialize (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\node_modules\\cookie\\index.js:234:13)\n    at res.cookie (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\response.js:892:36)\n    at AuthController._sendTokenResponse (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\authController.js:54:14)\n    at AuthController.register (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\authController.js:70:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-01-05T18:17:27.347Z"}
{"duration":"41ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1736101047308_sokmxhpf1","responseSize":"738 Bytes","statusCode":500,"timestamp":"2025-01-05T18:17:27.349Z","url":"/api/v1/auth/register","userAgent":"curl/8.11.0"}
{"level":"warn","message":"Warning: school repository potrebbe mancare il modelName","repository":"school","timestamp":"2025-01-05T18:18:40.724Z"}
{"level":"warn","message":"Warning: user repository potrebbe mancare il modelName","repository":"user","timestamp":"2025-01-05T18:18:40.728Z"}
{"level":"warn","message":"Warning: class repository potrebbe mancare il modelName","repository":"class","timestamp":"2025-01-05T18:18:40.729Z"}
{"level":"warn","message":"Warning: student repository potrebbe mancare il modelName","repository":"student","timestamp":"2025-01-05T18:18:40.730Z"}
{"level":"warn","message":"Warning: test repository potrebbe mancare il modelName","repository":"test","timestamp":"2025-01-05T18:18:40.731Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T18:18:40.732Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-01-05T18:18:41.128Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T18:18:41.135Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T18:18:41.135Z"}
{"level":"warn","message":"Warning: school repository potrebbe mancare il modelName","repository":"school","timestamp":"2025-01-05T18:19:44.688Z"}
{"level":"warn","message":"Warning: user repository potrebbe mancare il modelName","repository":"user","timestamp":"2025-01-05T18:19:44.694Z"}
{"level":"warn","message":"Warning: class repository potrebbe mancare il modelName","repository":"class","timestamp":"2025-01-05T18:19:44.696Z"}
{"level":"warn","message":"Warning: student repository potrebbe mancare il modelName","repository":"student","timestamp":"2025-01-05T18:19:44.697Z"}
{"level":"warn","message":"Warning: test repository potrebbe mancare il modelName","repository":"test","timestamp":"2025-01-05T18:19:44.697Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T18:19:44.698Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-01-05T18:19:45.116Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T18:19:45.125Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T18:19:45.126Z"}
{"level":"warn","message":"Warning: school repository potrebbe mancare il modelName","repository":"school","timestamp":"2025-01-05T18:20:04.280Z"}
{"level":"warn","message":"Warning: user repository potrebbe mancare il modelName","repository":"user","timestamp":"2025-01-05T18:20:04.284Z"}
{"level":"warn","message":"Warning: class repository potrebbe mancare il modelName","repository":"class","timestamp":"2025-01-05T18:20:04.285Z"}
{"level":"warn","message":"Warning: student repository potrebbe mancare il modelName","repository":"student","timestamp":"2025-01-05T18:20:04.286Z"}
{"level":"warn","message":"Warning: test repository potrebbe mancare il modelName","repository":"test","timestamp":"2025-01-05T18:20:04.286Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T18:20:04.287Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-01-05T18:20:04.673Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T18:20:04.680Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T18:20:04.680Z"}
{"body":{"email":"admin@test.com","firstName":"Test","lastName":"Admin","password":"[REDACTED]","role":"admin"},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736101217872_ra8d6lmzc","timestamp":"2025-01-05T18:20:17.872Z","url":"/api/v1/auth/register","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/auth/register","timestamp":"2025-01-05T18:20:17.874Z"}
{"level":"info","message":"Auth Route Called: POST /api/v1/auth/register","timestamp":"2025-01-05T18:20:17.875Z"}
{"error":{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"admin@test.com"}},"level":"error","message":"Errore nella creazione di User","timestamp":"2025-01-05T18:20:17.907Z"}
{"error":{"code":"DB_001","message":"Errore nella creazione di User","metadata":{"originalError":"E11000 duplicate key error collection: brainScannerDB.users index: email_1 dup key: { email: \"admin@test.com\" }"},"status":500},"level":"error","message":"Errore durante la registrazione","timestamp":"2025-01-05T18:20:17.908Z"}
{"body":{"email":"admin@test.com","firstName":"Test","lastName":"Admin","password":"[REDACTED]","role":"admin"},"error":{"code":"DB_001","message":"Errore nella creazione di User"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1736101217872_ra8d6lmzc","timestamp":"2025-01-05T18:20:17.910Z","url":"/api/v1/auth/register"}
{"level":"error","message":"Errore nella creazione di User","timestamp":"2025-01-05T18:20:17.911Z"}
{"duration":"43ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1736101217872_ra8d6lmzc","responseSize":"244 Bytes","statusCode":500,"timestamp":"2025-01-05T18:20:17.916Z","url":"/api/v1/auth/register","userAgent":"curl/8.11.0"}
{"body":{"email":"admin2@test.com","firstName":"Test2","lastName":"Admin2","password":"[REDACTED]","role":"admin"},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736101260647_z9vba35sx","timestamp":"2025-01-05T18:21:00.647Z","url":"/api/v1/auth/register","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/auth/register","timestamp":"2025-01-05T18:21:00.648Z"}
{"level":"info","message":"Auth Route Called: POST /api/v1/auth/register","timestamp":"2025-01-05T18:21:00.648Z"}
{"level":"info","message":"Utente registrato con successo","timestamp":"2025-01-05T18:21:00.672Z","userId":"677acd8c2cd87e502e584023"}
{"duration":"30ms","ip":"::1","level":"http","message":"Risposta inviata","method":"POST","requestId":"req_1736101260647_z9vba35sx","responseSize":"458 Bytes","statusCode":201,"timestamp":"2025-01-05T18:21:00.677Z","url":"/api/v1/auth/register","userAgent":"curl/8.11.0"}
{"body":{},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"GET","query":{},"requestId":"req_1736101340730_hzuh14f7y","timestamp":"2025-01-05T18:22:20.730Z","url":"/api/v1/auth/me","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [GET] /api/v1/auth/me","timestamp":"2025-01-05T18:22:20.731Z"}
{"level":"info","message":"Auth Route Called: GET /api/v1/auth/me","timestamp":"2025-01-05T18:22:20.731Z"}
{"duration":"48ms","ip":"::1","level":"http","message":"Risposta inviata","method":"GET","requestId":"req_1736101340730_hzuh14f7y","responseSize":"276 Bytes","statusCode":200,"timestamp":"2025-01-05T18:22:20.778Z","url":"/api/v1/auth/me","userAgent":"curl/8.11.0"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736101374884_5kxt8uc7z","timestamp":"2025-01-05T18:22:54.884Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/schools","timestamp":"2025-01-05T18:22:54.885Z"}
{"error":{"_message":"School validation failed","errors":{"address":{"kind":"required","message":"Path `address` is required.","name":"ValidatorError","path":"address","properties":{"message":"Path `address` is required.","path":"address","type":"required"}},"institutionType":{"kind":"enum","message":"`higher` is not a valid enum value for path `institutionType`.","name":"ValidatorError","path":"institutionType","properties":{"enumValues":["scientific","classical","artistic","none"],"message":"`higher` is not a valid enum value for path `institutionType`.","path":"institutionType","type":"enum","value":"higher"},"value":"higher"},"manager":{"kind":"required","message":"Path `manager` is required.","name":"ValidatorError","path":"manager","properties":{"message":"Path `manager` is required.","path":"manager","type":"required"}},"province":{"kind":"required","message":"Path `province` is required.","name":"ValidatorError","path":"province","properties":{"message":"Path `province` is required.","path":"province","type":"required"}},"schoolType":{"kind":"enum","message":"`technical` is not a valid enum value for path `schoolType`.","name":"ValidatorError","path":"schoolType","properties":{"enumValues":["middle_school","high_school"],"message":"`technical` is not a valid enum value for path `schoolType`.","path":"schoolType","type":"enum","value":"technical"},"value":"technical"}},"message":"School validation failed: manager: Path `manager` is required., address: Path `address` is required., province: Path `province` is required., schoolType: `technical` is not a valid enum value for path `schoolType`., institutionType: `higher` is not a valid enum value for path `institutionType`.","name":"ValidationError"},"level":"error","message":"Errore nella creazione di School","timestamp":"2025-01-05T18:22:54.919Z"}
{"error":{"code":"DB_001","message":"Errore nella creazione di School","metadata":{"originalError":"School validation failed: manager: Path `manager` is required., address: Path `address` is required., province: Path `province` is required., schoolType: `technical` is not a valid enum value for path `schoolType`., institutionType: `higher` is not a valid enum value for path `institutionType`."},"status":500},"level":"error","message":"Errore nella creazione della scuola","timestamp":"2025-01-05T18:22:54.924Z"}
{"body":{"institutionType":"higher","name":"ITS Angelo Rizzoli","region":"Lombardia","schoolType":"technical"},"error":{"code":"SYS_001","message":"Errore nella creazione della scuola"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1736101374884_5kxt8uc7z","timestamp":"2025-01-05T18:22:54.925Z","url":"/api/v1/schools"}
{"level":"error","message":"Errore nella creazione della scuola","timestamp":"2025-01-05T18:22:54.926Z"}
{"duration":"45ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1736101374884_5kxt8uc7z","responseSize":"169 Bytes","statusCode":500,"timestamp":"2025-01-05T18:22:54.929Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"warn","message":"Warning: school repository potrebbe mancare il modelName","repository":"school","timestamp":"2025-01-05T18:27:47.993Z"}
{"level":"warn","message":"Warning: user repository potrebbe mancare il modelName","repository":"user","timestamp":"2025-01-05T18:27:47.998Z"}
{"level":"warn","message":"Warning: class repository potrebbe mancare il modelName","repository":"class","timestamp":"2025-01-05T18:27:47.999Z"}
{"level":"warn","message":"Warning: student repository potrebbe mancare il modelName","repository":"student","timestamp":"2025-01-05T18:27:48.001Z"}
{"level":"warn","message":"Warning: test repository potrebbe mancare il modelName","repository":"test","timestamp":"2025-01-05T18:27:48.001Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T18:27:48.002Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-01-05T18:27:48.449Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T18:27:48.457Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T18:27:48.457Z"}
{"level":"warn","message":"Warning: school repository potrebbe mancare il modelName","repository":"school","timestamp":"2025-01-05T18:27:55.935Z"}
{"level":"warn","message":"Warning: user repository potrebbe mancare il modelName","repository":"user","timestamp":"2025-01-05T18:27:55.939Z"}
{"level":"warn","message":"Warning: class repository potrebbe mancare il modelName","repository":"class","timestamp":"2025-01-05T18:27:55.940Z"}
{"level":"warn","message":"Warning: student repository potrebbe mancare il modelName","repository":"student","timestamp":"2025-01-05T18:27:55.942Z"}
{"level":"warn","message":"Warning: test repository potrebbe mancare il modelName","repository":"test","timestamp":"2025-01-05T18:27:55.943Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T18:27:55.944Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-01-05T18:27:56.344Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T18:27:56.351Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T18:27:56.351Z"}
{"body":{"address":"Via Test 123","institutionType":"scientific","name":"ITS Angelo Rizzoli","numberOfYears":3,"province":"Milano","region":"Lombardia","schoolType":"middle_school","sections":["A","B"]},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736101708717_prn84905w","timestamp":"2025-01-05T18:28:28.717Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/schools","timestamp":"2025-01-05T18:28:28.719Z"}
{"body":{"address":"Via Test 123","institutionType":"scientific","name":"ITS Angelo Rizzoli","numberOfYears":3,"province":"Milano","region":"Lombardia","schoolType":"middle_school","sections":["A","B"]},"error":{"code":"AUTH_004","message":"Effettua il login per accedere"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1736101708717_prn84905w","timestamp":"2025-01-05T18:28:28.720Z","url":"/api/v1/schools"}
{"level":"error","message":"Effettua il login per accedere","timestamp":"2025-01-05T18:28:28.721Z"}
{"duration":"8ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1736101708717_prn84905w","responseSize":"115 Bytes","statusCode":401,"timestamp":"2025-01-05T18:28:28.725Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"body":{"address":"Via Test 123","institutionType":"scientific","name":"ITS Angelo Rizzoli","numberOfYears":3,"province":"Milano","region":"Lombardia","schoolType":"middle_school","sections":["A","B"]},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736101758109_q556iv7da","timestamp":"2025-01-05T18:29:18.109Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/schools","timestamp":"2025-01-05T18:29:18.110Z"}
{"createdBy":"677acd8c2cd87e502e584023","level":"info","message":"Scuola creata con successo","schoolId":"677acf7ed33af57f632c3153","schoolName":"ITS Angelo Rizzoli","timestamp":"2025-01-05T18:29:18.194Z"}
{"duration":"87ms","ip":"::1","level":"http","message":"Risposta inviata","method":"POST","requestId":"req_1736101758109_q556iv7da","responseSize":"499 Bytes","statusCode":201,"timestamp":"2025-01-05T18:29:18.196Z","url":"/api/v1/schools","userAgent":"curl/8.11.0"}
{"body":{"academicYear":"2024/2025","isActive":true,"mainTeacher":"677acd8c2cd87e502e584023","schoolId":"677acf7ed33af57f632c3153","section":"A","teachers":[],"year":1},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736101846222_wlytlq6xb","timestamp":"2025-01-05T18:30:46.222Z","url":"/api/v1/classes","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/classes","timestamp":"2025-01-05T18:30:46.223Z"}
{"level":"info","message":"Class Route Called: POST /api/v1/classes","timestamp":"2025-01-05T18:30:46.223Z"}
{"duration":"40ms","ip":"::1","level":"http","message":"Risposta inviata","method":"POST","requestId":"req_1736101846222_wlytlq6xb","responseSize":"357 Bytes","statusCode":201,"timestamp":"2025-01-05T18:30:46.262Z","url":"/api/v1/classes","userAgent":"curl/8.11.0"}
{"body":{"classId":"677acfd6d33af57f632c3156","email":"mario.rossi@student.test.com","firstName":"Mario","gender":"M","isActive":true,"lastName":"Rossi","mainTeacher":"677acd8c2cd87e502e584023","schoolId":"677acf7ed33af57f632c3153","section":"A","teachers":["677acd8c2cd87e502e584023"]},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736101950448_zhbff1pph","timestamp":"2025-01-05T18:32:30.448Z","url":"/api/v1/students","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/students","timestamp":"2025-01-05T18:32:30.449Z"}
{"body":{"classId":"677acfd6d33af57f632c3156","email":"mario.rossi@student.test.com","firstName":"Mario","gender":"M","isActive":true,"lastName":"Rossi","mainTeacher":"677acd8c2cd87e502e584023","schoolId":"677acf7ed33af57f632c3153","section":"A","teachers":["677acd8c2cd87e502e584023"]},"error":{"message":"logger is not defined","stack":"ReferenceError: logger is not defined\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:37:5\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:97:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1736101950448_zhbff1pph","timestamp":"2025-01-05T18:32:30.458Z","url":"/api/v1/students"}
{"level":"error","message":"logger is not defined","stack":"ReferenceError: logger is not defined\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:37:5\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:97:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-01-05T18:32:30.459Z"}
{"duration":"13ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1736101950448_zhbff1pph","responseSize":"1.22 KB","statusCode":500,"timestamp":"2025-01-05T18:32:30.461Z","url":"/api/v1/students","userAgent":"curl/8.11.0"}
{"level":"warn","message":"Warning: school repository potrebbe mancare il modelName","repository":"school","timestamp":"2025-01-05T18:35:20.486Z"}
{"level":"warn","message":"Warning: user repository potrebbe mancare il modelName","repository":"user","timestamp":"2025-01-05T18:35:20.491Z"}
{"level":"warn","message":"Warning: class repository potrebbe mancare il modelName","repository":"class","timestamp":"2025-01-05T18:35:20.493Z"}
{"level":"warn","message":"Warning: student repository potrebbe mancare il modelName","repository":"student","timestamp":"2025-01-05T18:35:20.494Z"}
{"level":"warn","message":"Warning: test repository potrebbe mancare il modelName","repository":"test","timestamp":"2025-01-05T18:35:20.495Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-05T18:35:20.496Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-01-05T18:35:20.927Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-05T18:35:20.933Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-05T18:35:20.933Z"}
{"body":{"classId":"677acfd6d33af57f632c3156","email":"mario.rossi@student.test.com","firstName":"Mario","gender":"M","isActive":true,"lastName":"Rossi","mainTeacher":"677acd8c2cd87e502e584023","schoolId":"677acf7ed33af57f632c3153","section":"A","teachers":["677acd8c2cd87e502e584023"]},"ip":"::1","level":"http","message":"Richiesta ricevuta","method":"POST","query":{},"requestId":"req_1736102131048_4s78r3mwo","timestamp":"2025-01-05T18:35:31.049Z","url":"/api/v1/students","userAgent":"curl/8.11.0"}
{"level":"info","message":"Route chiamata: [POST] /api/v1/students","timestamp":"2025-01-05T18:35:31.050Z"}
{"level":"info","message":"Student Route Called: POST /api/v1/students","timestamp":"2025-01-05T18:35:31.051Z"}
{"duration":"46ms","ip":"::1","level":"http","message":"Risposta inviata","method":"POST","requestId":"req_1736102131048_4s78r3mwo","responseSize":"466 Bytes","statusCode":201,"timestamp":"2025-01-05T18:35:31.094Z","url":"/api/v1/students","userAgent":"curl/8.11.0"}

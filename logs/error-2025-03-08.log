{"error":{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"test@example.com"}},"level":"error","message":"Error creating user","timestamp":"2025-03-07T23:04:16.156Z"}
{"error":"Scuola non trovata","level":"error","message":"Error in SchoolRepository.findById:","schoolId":"67cb7b7d1eff2075e161c9ea","timestamp":"2025-03-07T23:04:29.653Z","type":"object"}
{"error":{"code":11000,"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Test School"}},"level":"error","message":"Errore nella creazione di School","timestamp":"2025-03-07T23:04:30.088Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb7b7e1eff2075e161ca5b","timestamp":"2025-03-07T23:04:31.087Z","userId":"67cb7b7e1eff2075e161ca61"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb7b7f1eff2075e161ca73","timestamp":"2025-03-07T23:04:31.300Z","userId":"67cb7b7f1eff2075e161ca6d"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb7b7f1eff2075e161cab2","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:04:31.937Z","yearData":{"createdBy":"67cb7b7f1eff2075e161caac","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb7b801eff2075e161cac3","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:04:32.144Z","yearData":{"createdBy":"67cb7b7f1eff2075e161cabd","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}}
{"error":"Anno accademico deve essere nel formato YYYY/YYYY","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb7b801eff2075e161cad4","timestamp":"2025-03-07T23:04:32.341Z","yearData":{"createdBy":"67cb7b801eff2075e161cace","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024-2025"}}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb7b801eff2075e161cae4","timestamp":"2025-03-07T23:04:32.545Z","userId":"67cb7b801eff2075e161cae1"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cb7b801eff2075e161caf9","timestamp":"2025-03-07T23:04:32.742Z","userId":"67cb7b801eff2075e161caf3"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cb7b801eff2075e161cb0a","timestamp":"2025-03-07T23:04:32.953Z","userId":"67cb7b801eff2075e161cb04"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb7b811eff2075e161cb1b","sectionName":"A","timestamp":"2025-03-07T23:04:33.155Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb7b811eff2075e161cb2c","sectionName":"Z","timestamp":"2025-03-07T23:04:33.349Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb7b811eff2075e161cb3d","sectionName":"A","timestamp":"2025-03-07T23:04:33.562Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb7b811eff2075e161cb4e","timestamp":"2025-03-07T23:04:33.762Z","userId":"67cb7b811eff2075e161cb4b"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb7b821eff2075e161cb79","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:04:34.192Z","yearData":{"createdBy":"67cb7b811eff2075e161cb73","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb7b821eff2075e161cb8a","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:04:34.391Z","yearId":"67cb7b821eff2075e161cb8b"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:04:34.792Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:04:34.993Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb7b831eff2075e161cbd3","timestamp":"2025-03-07T23:04:35.203Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb7b831eff2075e161cbe4","timestamp":"2025-03-07T23:04:35.399Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb7b831eff2075e161cbf5","timestamp":"2025-03-07T23:04:35.590Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb7b831eff2075e161cc12","timestamp":"2025-03-07T23:04:35.787Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'aggiunta del manager:","schoolId":"67cb7b831eff2075e161cc23","timestamp":"2025-03-07T23:04:35.987Z","userId":"67cb7b831eff2075e161cc20"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb7b841eff2075e161cc34","timestamp":"2025-03-07T23:04:36.184Z"}
{"error":{},"level":"error","message":"Errore nel recupero studenti per sezione:","schoolId":"67cb7b841eff2075e161cc45","sectionName":"A","timestamp":"2025-03-07T23:04:36.373Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb7b841eff2075e161cc55","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:04:36.572Z","yearId":"67cb7b841eff2075e161cc56"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb7b841eff2075e161cc66","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:04:36.761Z","yearData":{"createdBy":"67cb7b841eff2075e161cc60","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb7b841eff2075e161cc77","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:04:36.954Z","yearId":"67cb7b841eff2075e161cc78"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb7b851eff2075e161cc88","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:04:37.143Z","yearId":"67cb7b851eff2075e161cc89"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb7b851eff2075e161cc99","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:04:37.339Z","yearId":"67cb7b851eff2075e161cc9a"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb7b851eff2075e161ccaa","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:04:37.536Z","yearId":"67cb7b851eff2075e161ccab"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-07T23:04:37.735Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-07T23:04:37.925Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella sincronizzazione assignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:04:38.519Z"}
{"error":"Sessione non trovata","level":"error","message":"Session validation error","timestamp":"2025-03-07T23:14:13.994Z"}
{"error":{"code":"SESSION_002","message":"Sessione non trovata","metadata":{},"status":401},"ip":"::1","level":"error","message":"Authentication failed","path":"/unit/run","timestamp":"2025-03-07T23:14:13.995Z"}
{"body":{"testFile":"repositories\\SchoolRepository.test.js"},"error":{"code":"SESSION_002","message":"Sessione non trovata"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1741389253962_ocv637dmg","timestamp":"2025-03-07T23:14:13.997Z","url":"/api/v1/system-tests/unit/run"}
{"level":"error","message":"Sessione non trovata","timestamp":"2025-03-07T23:14:13.997Z"}
{"error":"Sessione non trovata","level":"error","message":"Session validation error","timestamp":"2025-03-07T23:14:14.052Z"}
{"error":{"code":"SESSION_002","message":"Sessione non trovata","metadata":{},"status":401},"ip":"::1","level":"error","message":"Authentication failed","path":"/refresh-token","timestamp":"2025-03-07T23:14:14.052Z"}
{"error":{"code":"SESSION_002","message":"Sessione non trovata","metadata":{},"status":401},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/refresh-token","timestamp":"2025-03-07T23:14:14.054Z"}
{"email":"valentina@merazzi.it","error":"Utente non trovato","level":"error","message":"Login error:","timestamp":"2025-03-07T23:14:20.096Z"}
{"error":"Utente non trovato","level":"error","message":"Login error:","timestamp":"2025-03-07T23:14:20.097Z"}
{"error":{"message":"Utente non trovato","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/login","timestamp":"2025-03-07T23:14:20.098Z"}
{"error":"Scuola non trovata","level":"error","message":"Error in SchoolRepository.findById:","schoolId":"67cb7eadb5cb0891a2fbb296","timestamp":"2025-03-07T23:18:05.807Z","type":"object"}
{"error":{"code":11000,"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Test School"}},"level":"error","message":"Errore nella creazione di School","timestamp":"2025-03-07T23:18:06.231Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb7eafb5cb0891a2fbb307","timestamp":"2025-03-07T23:18:07.209Z","userId":"67cb7eafb5cb0891a2fbb30d"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb7eafb5cb0891a2fbb31f","timestamp":"2025-03-07T23:18:07.449Z","userId":"67cb7eafb5cb0891a2fbb319"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb7eb0b5cb0891a2fbb35e","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:18:08.311Z","yearData":{"createdBy":"67cb7eafb5cb0891a2fbb358","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb7eb0b5cb0891a2fbb36f","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:18:08.582Z","yearData":{"createdBy":"67cb7eb0b5cb0891a2fbb369","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}}
{"error":"Anno accademico deve essere nel formato YYYY/YYYY","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb7eb0b5cb0891a2fbb380","timestamp":"2025-03-07T23:18:08.805Z","yearData":{"createdBy":"67cb7eb0b5cb0891a2fbb37a","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024-2025"}}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb7eb1b5cb0891a2fbb390","timestamp":"2025-03-07T23:18:09.009Z","userId":"67cb7eb0b5cb0891a2fbb38d"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cb7eb1b5cb0891a2fbb3a5","timestamp":"2025-03-07T23:18:09.205Z","userId":"67cb7eb1b5cb0891a2fbb39f"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cb7eb1b5cb0891a2fbb3b6","timestamp":"2025-03-07T23:18:09.401Z","userId":"67cb7eb1b5cb0891a2fbb3b0"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb7eb1b5cb0891a2fbb3c7","sectionName":"A","timestamp":"2025-03-07T23:18:09.608Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb7eb1b5cb0891a2fbb3d8","sectionName":"Z","timestamp":"2025-03-07T23:18:09.795Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb7eb2b5cb0891a2fbb3e9","sectionName":"A","timestamp":"2025-03-07T23:18:10.039Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb7eb2b5cb0891a2fbb3fa","timestamp":"2025-03-07T23:18:10.288Z","userId":"67cb7eb2b5cb0891a2fbb3f7"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb7eb3b5cb0891a2fbb425","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:18:11.024Z","yearData":{"createdBy":"67cb7eb2b5cb0891a2fbb41f","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb7eb3b5cb0891a2fbb436","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:18:11.283Z","yearId":"67cb7eb3b5cb0891a2fbb437"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:18:11.695Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:18:11.900Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb7eb4b5cb0891a2fbb47f","timestamp":"2025-03-07T23:18:12.134Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb7eb4b5cb0891a2fbb490","timestamp":"2025-03-07T23:18:12.380Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb7eb4b5cb0891a2fbb4a1","timestamp":"2025-03-07T23:18:12.592Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb7eb4b5cb0891a2fbb4be","timestamp":"2025-03-07T23:18:12.784Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'aggiunta del manager:","schoolId":"67cb7eb4b5cb0891a2fbb4cf","timestamp":"2025-03-07T23:18:12.995Z","userId":"67cb7eb4b5cb0891a2fbb4cc"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb7eb5b5cb0891a2fbb4e0","timestamp":"2025-03-07T23:18:13.191Z"}
{"error":{},"level":"error","message":"Errore nel recupero studenti per sezione:","schoolId":"67cb7eb5b5cb0891a2fbb4f1","sectionName":"A","timestamp":"2025-03-07T23:18:13.422Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb7eb5b5cb0891a2fbb501","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:18:13.756Z","yearId":"67cb7eb5b5cb0891a2fbb502"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb7eb5b5cb0891a2fbb512","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:18:13.978Z","yearData":{"createdBy":"67cb7eb5b5cb0891a2fbb50c","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb7eb6b5cb0891a2fbb523","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:18:14.186Z","yearId":"67cb7eb6b5cb0891a2fbb524"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb7eb6b5cb0891a2fbb534","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:18:14.394Z","yearId":"67cb7eb6b5cb0891a2fbb535"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb7eb6b5cb0891a2fbb545","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:18:14.596Z","yearId":"67cb7eb6b5cb0891a2fbb546"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb7eb6b5cb0891a2fbb556","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:18:14.787Z","yearId":"67cb7eb6b5cb0891a2fbb557"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-07T23:18:14.990Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-07T23:18:15.182Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella sincronizzazione assignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:18:15.750Z"}
{"error":{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"test@example.com"}},"level":"error","message":"Error creating user","timestamp":"2025-03-07T23:21:01.416Z"}
{"error":"Scuola non trovata","level":"error","message":"Error in SchoolRepository.findById:","schoolId":"67cb7f71d0d1ddaa566a958e","timestamp":"2025-03-07T23:21:21.165Z","type":"object"}
{"error":{"code":11000,"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Test School"}},"level":"error","message":"Errore nella creazione di School","timestamp":"2025-03-07T23:21:21.938Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb7f73d0d1ddaa566a95ff","timestamp":"2025-03-07T23:21:23.533Z","userId":"67cb7f73d0d1ddaa566a9605"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb7f73d0d1ddaa566a9617","timestamp":"2025-03-07T23:21:23.964Z","userId":"67cb7f73d0d1ddaa566a9611"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb7f75d0d1ddaa566a9656","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:21:25.097Z","yearData":{"createdBy":"67cb7f74d0d1ddaa566a9650","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb7f75d0d1ddaa566a9667","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:21:25.446Z","yearData":{"createdBy":"67cb7f75d0d1ddaa566a9661","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}}
{"error":"Anno accademico deve essere nel formato YYYY/YYYY","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb7f75d0d1ddaa566a9678","timestamp":"2025-03-07T23:21:25.784Z","yearData":{"createdBy":"67cb7f75d0d1ddaa566a9672","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024-2025"}}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb7f76d0d1ddaa566a9688","timestamp":"2025-03-07T23:21:26.100Z","userId":"67cb7f75d0d1ddaa566a9685"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cb7f76d0d1ddaa566a969d","timestamp":"2025-03-07T23:21:26.416Z","userId":"67cb7f76d0d1ddaa566a9697"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cb7f76d0d1ddaa566a96ae","timestamp":"2025-03-07T23:21:26.748Z","userId":"67cb7f76d0d1ddaa566a96a8"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb7f77d0d1ddaa566a96bf","sectionName":"A","timestamp":"2025-03-07T23:21:27.096Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb7f77d0d1ddaa566a96d0","sectionName":"Z","timestamp":"2025-03-07T23:21:27.458Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb7f77d0d1ddaa566a96e1","sectionName":"A","timestamp":"2025-03-07T23:21:27.843Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb7f78d0d1ddaa566a96f2","timestamp":"2025-03-07T23:21:28.257Z","userId":"67cb7f78d0d1ddaa566a96ef"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb7f79d0d1ddaa566a971d","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:21:29.064Z","yearData":{"createdBy":"67cb7f78d0d1ddaa566a9717","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb7f79d0d1ddaa566a972e","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:21:29.409Z","yearId":"67cb7f79d0d1ddaa566a972f"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:21:30.115Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:21:30.440Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb7f7ad0d1ddaa566a9777","timestamp":"2025-03-07T23:21:30.773Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb7f7bd0d1ddaa566a9788","timestamp":"2025-03-07T23:21:31.106Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb7f7bd0d1ddaa566a9799","timestamp":"2025-03-07T23:21:31.441Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb7f7bd0d1ddaa566a97b6","timestamp":"2025-03-07T23:21:31.810Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'aggiunta del manager:","schoolId":"67cb7f7cd0d1ddaa566a97c7","timestamp":"2025-03-07T23:21:32.151Z","userId":"67cb7f7bd0d1ddaa566a97c4"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb7f7cd0d1ddaa566a97d8","timestamp":"2025-03-07T23:21:32.441Z"}
{"error":{},"level":"error","message":"Errore nel recupero studenti per sezione:","schoolId":"67cb7f7cd0d1ddaa566a97e9","sectionName":"A","timestamp":"2025-03-07T23:21:32.728Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb7f7dd0d1ddaa566a97f9","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:21:33.075Z","yearId":"67cb7f7dd0d1ddaa566a97fa"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb7f7dd0d1ddaa566a980a","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:21:33.392Z","yearData":{"createdBy":"67cb7f7dd0d1ddaa566a9804","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb7f7dd0d1ddaa566a981b","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:21:33.853Z","yearId":"67cb7f7dd0d1ddaa566a981c"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb7f7ed0d1ddaa566a982c","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:21:34.199Z","yearId":"67cb7f7ed0d1ddaa566a982d"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb7f7ed0d1ddaa566a983d","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:21:34.486Z","yearId":"67cb7f7ed0d1ddaa566a983e"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb7f7ed0d1ddaa566a984e","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:21:34.775Z","yearId":"67cb7f7ed0d1ddaa566a984f"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-07T23:21:35.065Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-07T23:21:35.346Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella sincronizzazione assignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:21:36.250Z"}
{"error":"Scuola non trovata","level":"error","message":"Error in SchoolRepository.findById:","schoolId":"67cb8098fce81ae01936a93d","timestamp":"2025-03-07T23:26:16.853Z","type":"object"}
{"error":{"code":11000,"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Test School"}},"level":"error","message":"Errore nella creazione di School","timestamp":"2025-03-07T23:26:17.291Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb809afce81ae01936a9ae","timestamp":"2025-03-07T23:26:18.248Z","userId":"67cb809afce81ae01936a9b4"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb809afce81ae01936a9c6","timestamp":"2025-03-07T23:26:18.458Z","userId":"67cb809afce81ae01936a9c0"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb809bfce81ae01936aa05","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:26:19.099Z","yearData":{"createdBy":"67cb809afce81ae01936a9ff","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb809bfce81ae01936aa16","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:26:19.301Z","yearData":{"createdBy":"67cb809bfce81ae01936aa10","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}}
{"error":"Anno accademico deve essere nel formato YYYY/YYYY","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb809bfce81ae01936aa27","timestamp":"2025-03-07T23:26:19.503Z","yearData":{"createdBy":"67cb809bfce81ae01936aa21","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024-2025"}}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb809bfce81ae01936aa37","timestamp":"2025-03-07T23:26:19.693Z","userId":"67cb809bfce81ae01936aa34"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cb809bfce81ae01936aa4c","timestamp":"2025-03-07T23:26:19.893Z","userId":"67cb809bfce81ae01936aa46"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cb809cfce81ae01936aa5d","timestamp":"2025-03-07T23:26:20.100Z","userId":"67cb809bfce81ae01936aa57"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb809cfce81ae01936aa6e","sectionName":"A","timestamp":"2025-03-07T23:26:20.303Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb809cfce81ae01936aa7f","sectionName":"Z","timestamp":"2025-03-07T23:26:20.508Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb809cfce81ae01936aa90","sectionName":"A","timestamp":"2025-03-07T23:26:20.731Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb809cfce81ae01936aaa1","timestamp":"2025-03-07T23:26:20.930Z","userId":"67cb809cfce81ae01936aa9e"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb809dfce81ae01936aacc","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:26:21.382Z","yearData":{"createdBy":"67cb809dfce81ae01936aac6","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb809dfce81ae01936aadd","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:26:21.579Z","yearId":"67cb809dfce81ae01936aade"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:26:21.996Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:26:22.192Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb809efce81ae01936ab26","timestamp":"2025-03-07T23:26:22.390Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb809efce81ae01936ab37","timestamp":"2025-03-07T23:26:22.587Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb809efce81ae01936ab48","timestamp":"2025-03-07T23:26:22.779Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb809efce81ae01936ab65","timestamp":"2025-03-07T23:26:22.977Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'aggiunta del manager:","schoolId":"67cb809ffce81ae01936ab76","timestamp":"2025-03-07T23:26:23.170Z","userId":"67cb809ffce81ae01936ab73"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb809ffce81ae01936ab87","timestamp":"2025-03-07T23:26:23.361Z"}
{"error":{},"level":"error","message":"Errore nel recupero studenti per sezione:","schoolId":"67cb809ffce81ae01936ab98","sectionName":"A","timestamp":"2025-03-07T23:26:23.550Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb809ffce81ae01936aba8","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:26:23.744Z","yearId":"67cb809ffce81ae01936aba9"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb809ffce81ae01936abb9","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:26:23.936Z","yearData":{"createdBy":"67cb809ffce81ae01936abb3","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb80a0fce81ae01936abca","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:26:24.129Z","yearId":"67cb80a0fce81ae01936abcb"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb80a0fce81ae01936abdb","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:26:24.328Z","yearId":"67cb80a0fce81ae01936abdc"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb80a0fce81ae01936abec","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:26:24.522Z","yearId":"67cb80a0fce81ae01936abed"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb80a0fce81ae01936abfd","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:26:24.714Z","yearId":"67cb80a0fce81ae01936abfe"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-07T23:26:24.913Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-07T23:26:25.109Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella sincronizzazione assignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:26:25.702Z"}
{"error":{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"test@example.com"}},"level":"error","message":"Error creating user","timestamp":"2025-03-07T23:26:39.547Z"}
{"error":{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"test@example.com"}},"level":"error","message":"Error creating user","timestamp":"2025-03-07T23:33:43.009Z"}
{"error":"Scuola non trovata","level":"error","message":"Error in SchoolRepository.findById:","schoolId":"67cb82648b48747704d5494d","timestamp":"2025-03-07T23:33:56.910Z","type":"object"}
{"error":{"code":11000,"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Test School"}},"level":"error","message":"Errore nella creazione di School","timestamp":"2025-03-07T23:33:57.350Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb82668b48747704d549be","timestamp":"2025-03-07T23:33:58.277Z","userId":"67cb82668b48747704d549c4"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb82668b48747704d549d6","timestamp":"2025-03-07T23:33:58.476Z","userId":"67cb82668b48747704d549d0"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb82678b48747704d54a15","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:33:59.125Z","yearData":{"createdBy":"67cb82668b48747704d54a0f","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb82678b48747704d54a26","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:33:59.332Z","yearData":{"createdBy":"67cb82678b48747704d54a20","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}}
{"error":"Anno accademico deve essere nel formato YYYY/YYYY","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb82678b48747704d54a37","timestamp":"2025-03-07T23:33:59.529Z","yearData":{"createdBy":"67cb82678b48747704d54a31","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024-2025"}}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb82678b48747704d54a47","timestamp":"2025-03-07T23:33:59.738Z","userId":"67cb82678b48747704d54a44"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cb82678b48747704d54a5c","timestamp":"2025-03-07T23:33:59.943Z","userId":"67cb82678b48747704d54a56"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cb82688b48747704d54a6d","timestamp":"2025-03-07T23:34:00.161Z","userId":"67cb82678b48747704d54a67"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb82688b48747704d54a7e","sectionName":"A","timestamp":"2025-03-07T23:34:00.374Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb82688b48747704d54a8f","sectionName":"Z","timestamp":"2025-03-07T23:34:00.572Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb82688b48747704d54aa0","sectionName":"A","timestamp":"2025-03-07T23:34:00.773Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb82688b48747704d54ab1","timestamp":"2025-03-07T23:34:00.979Z","userId":"67cb82688b48747704d54aae"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb82698b48747704d54adc","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:01.402Z","yearData":{"createdBy":"67cb82698b48747704d54ad6","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb82698b48747704d54aed","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:01.610Z","yearId":"67cb82698b48747704d54aee"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:02.031Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:02.233Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb826a8b48747704d54b36","timestamp":"2025-03-07T23:34:02.452Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb826a8b48747704d54b47","timestamp":"2025-03-07T23:34:02.648Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb826a8b48747704d54b58","timestamp":"2025-03-07T23:34:02.846Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb826b8b48747704d54b75","timestamp":"2025-03-07T23:34:03.049Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'aggiunta del manager:","schoolId":"67cb826b8b48747704d54b86","timestamp":"2025-03-07T23:34:03.236Z","userId":"67cb826b8b48747704d54b83"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb826b8b48747704d54b97","timestamp":"2025-03-07T23:34:03.429Z"}
{"error":{},"level":"error","message":"Errore nel recupero studenti per sezione:","schoolId":"67cb826b8b48747704d54ba8","sectionName":"A","timestamp":"2025-03-07T23:34:03.632Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb826b8b48747704d54bb8","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:03.829Z","yearId":"67cb826b8b48747704d54bb9"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb826c8b48747704d54bc9","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:04.020Z","yearData":{"createdBy":"67cb826b8b48747704d54bc3","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb826c8b48747704d54bda","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:04.213Z","yearId":"67cb826c8b48747704d54bdb"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb826c8b48747704d54beb","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:04.414Z","yearId":"67cb826c8b48747704d54bec"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb826c8b48747704d54bfc","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:04.603Z","yearId":"67cb826c8b48747704d54bfd"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb826c8b48747704d54c0d","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:04.804Z","yearId":"67cb826c8b48747704d54c0e"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-07T23:34:05.021Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-07T23:34:05.215Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella sincronizzazione assignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:05.805Z"}
{"error":"Scuola non trovata","level":"error","message":"Error in SchoolRepository.findById:","schoolId":"67cb828bc602120bf353349e","timestamp":"2025-03-07T23:34:35.262Z","type":"object"}
{"error":{"code":11000,"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Test School"}},"level":"error","message":"Errore nella creazione di School","timestamp":"2025-03-07T23:34:35.721Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb828cc602120bf353350f","timestamp":"2025-03-07T23:34:36.771Z","userId":"67cb828cc602120bf3533515"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb828cc602120bf3533527","timestamp":"2025-03-07T23:34:36.974Z","userId":"67cb828cc602120bf3533521"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb828dc602120bf3533566","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:37.599Z","yearData":{"createdBy":"67cb828dc602120bf3533560","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb828dc602120bf3533577","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:37.807Z","yearData":{"createdBy":"67cb828dc602120bf3533571","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}}
{"error":"Anno accademico deve essere nel formato YYYY/YYYY","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb828ec602120bf3533588","timestamp":"2025-03-07T23:34:38.004Z","yearData":{"createdBy":"67cb828dc602120bf3533582","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024-2025"}}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb828ec602120bf3533598","timestamp":"2025-03-07T23:34:38.204Z","userId":"67cb828ec602120bf3533595"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cb828ec602120bf35335ad","timestamp":"2025-03-07T23:34:38.404Z","userId":"67cb828ec602120bf35335a7"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cb828ec602120bf35335be","timestamp":"2025-03-07T23:34:38.633Z","userId":"67cb828ec602120bf35335b8"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb828ec602120bf35335cf","sectionName":"A","timestamp":"2025-03-07T23:34:38.842Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb828fc602120bf35335e0","sectionName":"Z","timestamp":"2025-03-07T23:34:39.053Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb828fc602120bf35335f1","sectionName":"A","timestamp":"2025-03-07T23:34:39.256Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb828fc602120bf3533602","timestamp":"2025-03-07T23:34:39.470Z","userId":"67cb828fc602120bf35335ff"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb828fc602120bf353362d","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:39.870Z","yearData":{"createdBy":"67cb828fc602120bf3533627","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb8290c602120bf353363e","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:40.069Z","yearId":"67cb8290c602120bf353363f"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:40.486Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:40.684Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb8290c602120bf3533687","timestamp":"2025-03-07T23:34:40.902Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb8291c602120bf3533698","timestamp":"2025-03-07T23:34:41.101Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb8291c602120bf35336a9","timestamp":"2025-03-07T23:34:41.304Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb8291c602120bf35336c6","timestamp":"2025-03-07T23:34:41.512Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'aggiunta del manager:","schoolId":"67cb8291c602120bf35336d7","timestamp":"2025-03-07T23:34:41.715Z","userId":"67cb8291c602120bf35336d4"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb8291c602120bf35336e8","timestamp":"2025-03-07T23:34:41.912Z"}
{"error":{},"level":"error","message":"Errore nel recupero studenti per sezione:","schoolId":"67cb8292c602120bf35336f9","sectionName":"A","timestamp":"2025-03-07T23:34:42.109Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb8292c602120bf3533709","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:42.306Z","yearId":"67cb8292c602120bf353370a"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb8292c602120bf353371a","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:42.510Z","yearData":{"createdBy":"67cb8292c602120bf3533714","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb8292c602120bf353372b","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:42.706Z","yearId":"67cb8292c602120bf353372c"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb8292c602120bf353373c","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:42.902Z","yearId":"67cb8292c602120bf353373d"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb8293c602120bf353374d","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:43.101Z","yearId":"67cb8293c602120bf353374e"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb8293c602120bf353375e","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:43.301Z","yearId":"67cb8293c602120bf353375f"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-07T23:34:43.501Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-07T23:34:43.699Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella sincronizzazione assignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:34:44.294Z"}
{"error":{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"test@example.com"}},"level":"error","message":"Error creating user","timestamp":"2025-03-07T23:34:58.581Z"}
{"error":"Scuola non trovata","level":"error","message":"Error in SchoolRepository.findById:","schoolId":"67cb8546a3e29e55d218f65f","timestamp":"2025-03-07T23:46:14.294Z","type":"object"}
{"error":{"code":11000,"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Test School"}},"level":"error","message":"Errore nella creazione di School","timestamp":"2025-03-07T23:46:14.746Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb8547a3e29e55d218f6d0","timestamp":"2025-03-07T23:46:15.681Z","userId":"67cb8547a3e29e55d218f6d6"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb8547a3e29e55d218f6e8","timestamp":"2025-03-07T23:46:15.881Z","userId":"67cb8547a3e29e55d218f6e2"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb8548a3e29e55d218f727","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:46:16.501Z","yearData":{"createdBy":"67cb8548a3e29e55d218f721","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb8548a3e29e55d218f738","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:46:16.703Z","yearData":{"createdBy":"67cb8548a3e29e55d218f732","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}}
{"error":"Anno accademico deve essere nel formato YYYY/YYYY","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb8548a3e29e55d218f749","timestamp":"2025-03-07T23:46:16.893Z","yearData":{"createdBy":"67cb8548a3e29e55d218f743","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024-2025"}}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb8549a3e29e55d218f759","timestamp":"2025-03-07T23:46:17.090Z","userId":"67cb8548a3e29e55d218f756"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cb8549a3e29e55d218f76e","timestamp":"2025-03-07T23:46:17.284Z","userId":"67cb8549a3e29e55d218f768"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cb8549a3e29e55d218f77f","timestamp":"2025-03-07T23:46:17.493Z","userId":"67cb8549a3e29e55d218f779"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb8549a3e29e55d218f790","sectionName":"A","timestamp":"2025-03-07T23:46:17.736Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb8549a3e29e55d218f7a1","sectionName":"Z","timestamp":"2025-03-07T23:46:17.935Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb854aa3e29e55d218f7b2","sectionName":"A","timestamp":"2025-03-07T23:46:18.149Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb854aa3e29e55d218f7c3","timestamp":"2025-03-07T23:46:18.345Z","userId":"67cb854aa3e29e55d218f7c0"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb854aa3e29e55d218f7ee","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:46:18.798Z","yearData":{"createdBy":"67cb854aa3e29e55d218f7e8","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb854aa3e29e55d218f7ff","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:46:18.990Z","yearId":"67cb854aa3e29e55d218f800"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:46:19.381Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:46:19.573Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb854ba3e29e55d218f848","timestamp":"2025-03-07T23:46:19.760Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb854ba3e29e55d218f859","timestamp":"2025-03-07T23:46:19.950Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb854ca3e29e55d218f86a","timestamp":"2025-03-07T23:46:20.144Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb854ca3e29e55d218f887","timestamp":"2025-03-07T23:46:20.338Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'aggiunta del manager:","schoolId":"67cb854ca3e29e55d218f898","timestamp":"2025-03-07T23:46:20.527Z","userId":"67cb854ca3e29e55d218f895"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb854ca3e29e55d218f8a9","timestamp":"2025-03-07T23:46:20.717Z"}
{"error":{},"level":"error","message":"Errore nel recupero studenti per sezione:","schoolId":"67cb854ca3e29e55d218f8ba","sectionName":"A","timestamp":"2025-03-07T23:46:20.905Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb854da3e29e55d218f8ca","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:46:21.094Z","yearId":"67cb854da3e29e55d218f8cb"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb854da3e29e55d218f8db","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:46:21.285Z","yearData":{"createdBy":"67cb854da3e29e55d218f8d5","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb854da3e29e55d218f8ec","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:46:21.472Z","yearId":"67cb854da3e29e55d218f8ed"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb854da3e29e55d218f8fd","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:46:21.659Z","yearId":"67cb854da3e29e55d218f8fe"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb854da3e29e55d218f90e","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:46:21.852Z","yearId":"67cb854da3e29e55d218f90f"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb854ea3e29e55d218f91f","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:46:22.045Z","yearId":"67cb854ea3e29e55d218f920"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-07T23:46:22.251Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-07T23:46:22.437Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella sincronizzazione assignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:46:23.024Z"}
{"error":{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"test@example.com"}},"level":"error","message":"Error creating user","timestamp":"2025-03-07T23:51:25.608Z"}
{"error":"Scuola non trovata","level":"error","message":"Error in SchoolRepository.findById:","schoolId":"67cb868b5cfd145b0a47164a","timestamp":"2025-03-07T23:51:39.340Z","type":"object"}
{"error":{"code":11000,"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Test School"}},"level":"error","message":"Errore nella creazione di School","timestamp":"2025-03-07T23:51:39.814Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb868c5cfd145b0a4716bb","timestamp":"2025-03-07T23:51:40.728Z","userId":"67cb868c5cfd145b0a4716c1"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb868c5cfd145b0a4716d3","timestamp":"2025-03-07T23:51:40.926Z","userId":"67cb868c5cfd145b0a4716cd"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb868d5cfd145b0a471712","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:51:41.550Z","yearData":{"createdBy":"67cb868d5cfd145b0a47170c","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb868d5cfd145b0a471723","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:51:41.761Z","yearData":{"createdBy":"67cb868d5cfd145b0a47171d","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}}
{"error":"Anno accademico deve essere nel formato YYYY/YYYY","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb868d5cfd145b0a471734","timestamp":"2025-03-07T23:51:41.964Z","yearData":{"createdBy":"67cb868d5cfd145b0a47172e","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024-2025"}}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb868e5cfd145b0a471744","timestamp":"2025-03-07T23:51:42.170Z","userId":"67cb868e5cfd145b0a471741"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cb868e5cfd145b0a471759","timestamp":"2025-03-07T23:51:42.368Z","userId":"67cb868e5cfd145b0a471753"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cb868e5cfd145b0a47176a","timestamp":"2025-03-07T23:51:42.571Z","userId":"67cb868e5cfd145b0a471764"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb868e5cfd145b0a47177b","sectionName":"A","timestamp":"2025-03-07T23:51:42.777Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb868e5cfd145b0a47178c","sectionName":"Z","timestamp":"2025-03-07T23:51:42.975Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb868f5cfd145b0a47179d","sectionName":"A","timestamp":"2025-03-07T23:51:43.177Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb868f5cfd145b0a4717ae","timestamp":"2025-03-07T23:51:43.381Z","userId":"67cb868f5cfd145b0a4717ab"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb868f5cfd145b0a4717d9","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:51:43.780Z","yearData":{"createdBy":"67cb868f5cfd145b0a4717d3","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb868f5cfd145b0a4717ea","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:51:43.977Z","yearId":"67cb868f5cfd145b0a4717eb"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:51:44.384Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:51:44.586Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb86905cfd145b0a471833","timestamp":"2025-03-07T23:51:44.783Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb86905cfd145b0a471844","timestamp":"2025-03-07T23:51:44.984Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb86915cfd145b0a471855","timestamp":"2025-03-07T23:51:45.183Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb86915cfd145b0a471872","timestamp":"2025-03-07T23:51:45.379Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'aggiunta del manager:","schoolId":"67cb86915cfd145b0a471883","timestamp":"2025-03-07T23:51:45.579Z","userId":"67cb86915cfd145b0a471880"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb86915cfd145b0a471894","timestamp":"2025-03-07T23:51:45.776Z"}
{"error":{},"level":"error","message":"Errore nel recupero studenti per sezione:","schoolId":"67cb86915cfd145b0a4718a5","sectionName":"A","timestamp":"2025-03-07T23:51:45.972Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb86925cfd145b0a4718b5","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:51:46.174Z","yearId":"67cb86925cfd145b0a4718b6"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb86925cfd145b0a4718c6","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:51:46.366Z","yearData":{"createdBy":"67cb86925cfd145b0a4718c0","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb86925cfd145b0a4718d7","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:51:46.562Z","yearId":"67cb86925cfd145b0a4718d8"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb86925cfd145b0a4718e8","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:51:46.756Z","yearId":"67cb86925cfd145b0a4718e9"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb86925cfd145b0a4718f9","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:51:46.947Z","yearId":"67cb86925cfd145b0a4718fa"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb86935cfd145b0a47190a","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:51:47.145Z","yearId":"67cb86935cfd145b0a47190b"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-07T23:51:47.353Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-07T23:51:47.555Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella sincronizzazione assignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:51:48.129Z"}
{"error":{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"test@example.com"}},"level":"error","message":"Error creating user","timestamp":"2025-03-07T23:55:25.920Z"}
{"error":{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"test@example.com"}},"level":"error","message":"Error creating user","timestamp":"2025-03-07T23:56:17.938Z"}
{"error":{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"test@example.com"}},"level":"error","message":"Error creating user","timestamp":"2025-03-07T23:57:09.354Z"}
{"error":"Scuola non trovata","level":"error","message":"Error in SchoolRepository.findById:","schoolId":"67cb87ff82b348c5e37c3007","timestamp":"2025-03-07T23:57:51.789Z","type":"object"}
{"error":{"code":11000,"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Test School"}},"level":"error","message":"Errore nella creazione di School","timestamp":"2025-03-07T23:57:52.192Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb880082b348c5e37c3078","timestamp":"2025-03-07T23:57:53.065Z","userId":"67cb880082b348c5e37c307e"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb880182b348c5e37c3090","timestamp":"2025-03-07T23:57:53.260Z","userId":"67cb880182b348c5e37c308a"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb880182b348c5e37c30cf","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:57:53.883Z","yearData":{"createdBy":"67cb880182b348c5e37c30c9","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb880282b348c5e37c30e0","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:57:54.090Z","yearData":{"createdBy":"67cb880182b348c5e37c30da","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}}
{"error":"Anno accademico deve essere nel formato YYYY/YYYY","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb880282b348c5e37c30f1","timestamp":"2025-03-07T23:57:54.287Z","yearData":{"createdBy":"67cb880282b348c5e37c30eb","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024-2025"}}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb880282b348c5e37c3101","timestamp":"2025-03-07T23:57:54.486Z","userId":"67cb880282b348c5e37c30fe"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cb880282b348c5e37c3116","timestamp":"2025-03-07T23:57:54.694Z","userId":"67cb880282b348c5e37c3110"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cb880282b348c5e37c3127","timestamp":"2025-03-07T23:57:54.892Z","userId":"67cb880282b348c5e37c3121"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb880382b348c5e37c3138","sectionName":"A","timestamp":"2025-03-07T23:57:55.091Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb880382b348c5e37c3149","sectionName":"Z","timestamp":"2025-03-07T23:57:55.292Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cb880382b348c5e37c315a","sectionName":"A","timestamp":"2025-03-07T23:57:55.484Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cb880382b348c5e37c316b","timestamp":"2025-03-07T23:57:55.683Z","userId":"67cb880382b348c5e37c3168"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb880482b348c5e37c3196","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:57:56.088Z","yearData":{"createdBy":"67cb880382b348c5e37c3190","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb880482b348c5e37c31a7","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:57:56.282Z","yearId":"67cb880482b348c5e37c31a8"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:57:56.673Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:57:56.867Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb880582b348c5e37c31f0","timestamp":"2025-03-07T23:57:57.084Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb880582b348c5e37c3201","timestamp":"2025-03-07T23:57:57.278Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb880582b348c5e37c3212","timestamp":"2025-03-07T23:57:57.471Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb880582b348c5e37c322f","timestamp":"2025-03-07T23:57:57.663Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'aggiunta del manager:","schoolId":"67cb880582b348c5e37c3240","timestamp":"2025-03-07T23:57:57.851Z","userId":"67cb880582b348c5e37c323d"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cb880682b348c5e37c3251","timestamp":"2025-03-07T23:57:58.040Z"}
{"error":{},"level":"error","message":"Errore nel recupero studenti per sezione:","schoolId":"67cb880682b348c5e37c3262","sectionName":"A","timestamp":"2025-03-07T23:57:58.238Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb880682b348c5e37c3272","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:57:58.436Z","yearId":"67cb880682b348c5e37c3273"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cb880682b348c5e37c3283","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:57:58.632Z","yearData":{"createdBy":"67cb880682b348c5e37c327d","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cb880682b348c5e37c3294","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:57:58.820Z","yearId":"67cb880682b348c5e37c3295"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb880782b348c5e37c32a5","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:57:59.012Z","yearId":"67cb880782b348c5e37c32a6"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb880782b348c5e37c32b6","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:57:59.204Z","yearId":"67cb880782b348c5e37c32b7"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cb880782b348c5e37c32c7","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:57:59.397Z","yearId":"67cb880782b348c5e37c32c8"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-07T23:57:59.600Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-07T23:57:59.791Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella sincronizzazione assignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-07T23:58:00.369Z"}
{"error":{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"test@example.com"}},"level":"error","message":"Error creating user","timestamp":"2025-03-07T23:59:06.297Z"}
{"error":{"code":"RES_001","message":"School non trovata","metadata":{},"status":404},"level":"error","message":"Errore nel recupero della scuola con utenti","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-08T00:03:50.029Z"}
{"error":{"code":"DB_001","message":"Errore nel recupero della scuola con utenti","metadata":{"originalError":"School non trovata"},"status":500},"level":"error","message":"Errore nel recupero della scuola","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-08T00:03:50.030Z"}
{"error":{"code":"RES_001","message":"School non trovata","metadata":{},"status":404},"level":"error","message":"Errore nel recupero della scuola con utenti","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-08T00:03:51.993Z"}
{"error":{"code":"DB_001","message":"Errore nel recupero della scuola con utenti","metadata":{"originalError":"School non trovata"},"status":500},"level":"error","message":"Errore nel recupero della scuola","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-08T00:03:51.994Z"}
{"error":{"code":"RES_001","message":"School non trovata","metadata":{},"status":404},"level":"error","message":"Errore nel recupero della scuola con utenti","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-08T00:04:36.173Z"}
{"error":{"code":"DB_001","message":"Errore nel recupero della scuola con utenti","metadata":{"originalError":"School non trovata"},"status":500},"level":"error","message":"Errore nel recupero della scuola","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-08T00:04:36.174Z"}
{"error":"Scuola non trovata","level":"error","message":"Error in SchoolRepository.findById:","schoolId":"67cbfd345edbc9e488fe8a11","timestamp":"2025-03-08T08:17:56.845Z","type":"object"}
{"error":{"code":11000,"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Test School"}},"level":"error","message":"Errore nella creazione di School","timestamp":"2025-03-08T08:17:57.669Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cbfd365edbc9e488fe8a82","timestamp":"2025-03-08T08:17:59.015Z","userId":"67cbfd365edbc9e488fe8a88"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cbfd375edbc9e488fe8a9a","timestamp":"2025-03-08T08:17:59.347Z","userId":"67cbfd375edbc9e488fe8a94"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cbfd385edbc9e488fe8ad9","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:18:00.734Z","yearData":{"createdBy":"67cbfd385edbc9e488fe8ad3","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cbfd395edbc9e488fe8aea","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:18:01.144Z","yearData":{"createdBy":"67cbfd385edbc9e488fe8ae4","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}}
{"error":"Anno accademico deve essere nel formato YYYY/YYYY","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cbfd395edbc9e488fe8afb","timestamp":"2025-03-08T08:18:01.647Z","yearData":{"createdBy":"67cbfd395edbc9e488fe8af5","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024-2025"}}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cbfd3a5edbc9e488fe8b0b","timestamp":"2025-03-08T08:18:02.335Z","userId":"67cbfd395edbc9e488fe8b08"}
{"error":"Scuola non trovata","level":"error","message":"Error in SchoolRepository.findById:","schoolId":"67cbfd3a5edbc9e488fe8b0b","timestamp":"2025-03-08T08:18:02.353Z","type":"object"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cbfd3b5edbc9e488fe8b2c","timestamp":"2025-03-08T08:18:03.069Z","userId":"67cbfd3a5edbc9e488fe8b26"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cbfd3b5edbc9e488fe8b3d","sectionName":"A","timestamp":"2025-03-08T08:18:03.456Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cbfd3b5edbc9e488fe8b4e","sectionName":"Z","timestamp":"2025-03-08T08:18:03.822Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cbfd3c5edbc9e488fe8b5f","sectionName":"A","timestamp":"2025-03-08T08:18:04.185Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cbfd3c5edbc9e488fe8b70","timestamp":"2025-03-08T08:18:04.554Z","userId":"67cbfd3c5edbc9e488fe8b6d"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cbfd3d5edbc9e488fe8b9b","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:18:05.312Z","yearData":{"createdBy":"67cbfd3c5edbc9e488fe8b95","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cbfd3d5edbc9e488fe8bac","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:18:05.668Z","yearId":"67cbfd3d5edbc9e488fe8bad"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:18:06.184Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:18:06.496Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cbfd3e5edbc9e488fe8bf5","timestamp":"2025-03-08T08:18:06.717Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cbfd3e5edbc9e488fe8c06","timestamp":"2025-03-08T08:18:06.927Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cbfd3f5edbc9e488fe8c17","timestamp":"2025-03-08T08:18:07.145Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cbfd3f5edbc9e488fe8c34","timestamp":"2025-03-08T08:18:07.359Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'aggiunta del manager:","schoolId":"67cbfd3f5edbc9e488fe8c45","timestamp":"2025-03-08T08:18:07.556Z","userId":"67cbfd3f5edbc9e488fe8c42"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cbfd3f5edbc9e488fe8c56","timestamp":"2025-03-08T08:18:07.812Z"}
{"error":{},"level":"error","message":"Errore nel recupero studenti per sezione:","schoolId":"67cbfd405edbc9e488fe8c67","sectionName":"A","timestamp":"2025-03-08T08:18:08.077Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cbfd405edbc9e488fe8c77","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:18:08.326Z","yearId":"67cbfd405edbc9e488fe8c78"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cbfd405edbc9e488fe8c88","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:18:08.568Z","yearData":{"createdBy":"67cbfd405edbc9e488fe8c82","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cbfd405edbc9e488fe8c99","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:18:08.803Z","yearId":"67cbfd405edbc9e488fe8c9a"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cbfd415edbc9e488fe8caa","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:18:09.035Z","yearId":"67cbfd415edbc9e488fe8cab"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cbfd415edbc9e488fe8cbb","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:18:09.259Z","yearId":"67cbfd415edbc9e488fe8cbc"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cbfd415edbc9e488fe8ccc","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:18:09.474Z","yearId":"67cbfd415edbc9e488fe8ccd"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-08T08:18:09.684Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-08T08:18:09.895Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella sincronizzazione assignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:18:10.598Z"}
{"error":{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"test@example.com"}},"level":"error","message":"Error creating user","timestamp":"2025-03-08T08:28:07.271Z"}
{"error":"Scuola non trovata","level":"error","message":"Error in SchoolRepository.findById:","schoolId":"67cbffa5781d48b009d8e94a","timestamp":"2025-03-08T08:28:21.522Z","type":"object"}
{"error":{"code":11000,"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Test School"}},"level":"error","message":"Errore nella creazione di School","timestamp":"2025-03-08T08:28:21.913Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cbffa6781d48b009d8e9bb","timestamp":"2025-03-08T08:28:22.759Z","userId":"67cbffa6781d48b009d8e9c1"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cbffa6781d48b009d8e9d3","timestamp":"2025-03-08T08:28:22.949Z","userId":"67cbffa6781d48b009d8e9cd"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cbffa7781d48b009d8ea12","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:28:23.511Z","yearData":{"createdBy":"67cbffa7781d48b009d8ea0c","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cbffa7781d48b009d8ea23","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:28:23.695Z","yearData":{"createdBy":"67cbffa7781d48b009d8ea1d","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}}
{"error":"Anno accademico deve essere nel formato YYYY/YYYY","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cbffa7781d48b009d8ea34","timestamp":"2025-03-08T08:28:23.879Z","yearData":{"createdBy":"67cbffa7781d48b009d8ea2e","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024-2025"}}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cbffa8781d48b009d8ea44","timestamp":"2025-03-08T08:28:24.050Z","userId":"67cbffa7781d48b009d8ea41"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cbffa8781d48b009d8ea59","timestamp":"2025-03-08T08:28:24.228Z","userId":"67cbffa8781d48b009d8ea53"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"67cbffa8781d48b009d8ea6a","timestamp":"2025-03-08T08:28:24.414Z","userId":"67cbffa8781d48b009d8ea64"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cbffa8781d48b009d8ea7b","sectionName":"A","timestamp":"2025-03-08T08:28:24.647Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cbffa8781d48b009d8ea8c","sectionName":"Z","timestamp":"2025-03-08T08:28:24.860Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cbffa9781d48b009d8ea9d","sectionName":"A","timestamp":"2025-03-08T08:28:25.048Z"}
{"error":{},"level":"error","message":"Errore nell'aggiunta dell'utente alla scuola","schoolId":"67cbffa9781d48b009d8eaae","timestamp":"2025-03-08T08:28:25.239Z","userId":"67cbffa9781d48b009d8eaab"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cbffa9781d48b009d8ead9","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:28:25.625Z","yearData":{"createdBy":"67cbffa9781d48b009d8ead3","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cbffa9781d48b009d8eaea","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:28:25.804Z","yearId":"67cbffa9781d48b009d8eaeb"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:28:26.206Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:28:26.410Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cbffaa781d48b009d8eb33","timestamp":"2025-03-08T08:28:26.594Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cbffaa781d48b009d8eb44","timestamp":"2025-03-08T08:28:26.829Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cbffab781d48b009d8eb55","timestamp":"2025-03-08T08:28:27.037Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cbffab781d48b009d8eb72","timestamp":"2025-03-08T08:28:27.268Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'aggiunta del manager:","schoolId":"67cbffab781d48b009d8eb83","timestamp":"2025-03-08T08:28:27.470Z","userId":"67cbffab781d48b009d8eb80"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella rimozione del manager:","schoolId":"67cbffab781d48b009d8eb94","timestamp":"2025-03-08T08:28:27.677Z"}
{"error":{},"level":"error","message":"Errore nel recupero studenti per sezione:","schoolId":"67cbffab781d48b009d8eba5","sectionName":"A","timestamp":"2025-03-08T08:28:27.879Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cbffac781d48b009d8ebb5","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:28:28.086Z","yearId":"67cbffac781d48b009d8ebb6"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in setupAcademicYear:","schoolId":"67cbffac781d48b009d8ebc6","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:28:28.276Z","yearData":{"createdBy":"67cbffac781d48b009d8ebc0","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nell'archiviazione dell'anno accademico","schoolId":"67cbffac781d48b009d8ebd7","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:28:28.475Z","yearId":"67cbffac781d48b009d8ebd8"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cbffac781d48b009d8ebe8","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:28:28.677Z","yearId":"67cbffac781d48b009d8ebe9"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cbffac781d48b009d8ebf9","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:28:28.879Z","yearId":"67cbffac781d48b009d8ebfa"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cbffad781d48b009d8ec0a","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:28:29.092Z","yearId":"67cbffad781d48b009d8ec0b"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-08T08:28:29.289Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error in deleteWithClasses:","ok":0,"timestamp":"2025-03-08T08:28:29.492Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore nella sincronizzazione assignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:28:30.100Z"}
{"data":{"academicYear":"2023/2024","section":"A","year":1},"level":"error","message":"Dati classe incompleti","timestamp":"2025-03-08T08:34:21.684Z"}
{"data":{"academicYear":"2023/2024","capacity":25,"isActive":true,"mainTeacher":"67cc010d9eabfc77379ee326","schoolId":"67cc010d9eabfc77379ee32c","section":"A","status":"invalid_status","year":-1},"level":"error","message":"Class validation failed: year: Path `year` (-1) is less than minimum allowed value (1)., status: `invalid_status` is not a valid enum value for path `status`.","stack":"ValidationError: Class validation failed: year: Path `year` (-1) is less than minimum allowed value (1)., status: `invalid_status` is not a valid enum value for path `status`.\n    at model.Object.<anonymous>.Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-08T08:34:21.873Z","validationErrors":{"status":{"kind":"enum","message":"`invalid_status` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["active","planned","archived"],"message":"`invalid_status` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"invalid_status"},"value":"invalid_status"},"year":{"kind":"min","message":"Path `year` (-1) is less than minimum allowed value (1).","name":"ValidatorError","path":"year","properties":{"message":"Path `year` (-1) is less than minimum allowed value (1).","min":1,"path":"year","type":"min","value":-1},"value":-1}}}
{"error":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"invalid-id-format\" (type string) at path \"_id\" for model \"Class\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"invalid-id-format\"","value":"invalid-id-format","valueType":"string"},"level":"error","message":"Errore nel recupero di Class","timestamp":"2025-03-08T08:34:22.368Z"}
{"error":{"_message":"Validation failed","errors":{"capacity":{"kind":"user defined","message":"Parameter \"obj\" to Document() must be an object, got \"School\" (type string)","name":"ValidatorError","path":"capacity","properties":{"fullPath":"capacity","message":"Parameter \"obj\" to Document() must be an object, got \"School\" (type string)","path":"capacity","reason":{},"type":"user defined","value":30},"reason":{},"value":30}},"message":"Validation failed: capacity: Parameter \"obj\" to Document() must be an object, got \"School\" (type string)","name":"ValidationError"},"level":"error","message":"Errore nell'aggiornamento di Class","timestamp":"2025-03-08T08:34:22.523Z"}
{"error":{"_message":"Validation failed","errors":{"capacity":{"kind":"user defined","message":"Parameter \"obj\" to Document() must be an object, got \"School\" (type string)","name":"ValidatorError","path":"capacity","properties":{"fullPath":"capacity","message":"Parameter \"obj\" to Document() must be an object, got \"School\" (type string)","path":"capacity","reason":{},"type":"user defined","value":30},"reason":{},"value":30}},"message":"Validation failed: capacity: Parameter \"obj\" to Document() must be an object, got \"School\" (type string)","name":"ValidationError"},"level":"error","message":"Errore nell'aggiornamento di Class","timestamp":"2025-03-08T08:34:22.678Z"}
{"criteria":{"academicYear":"2023/2024","schoolId":"invalid-id","section":"A","year":1},"error":"ID scuola non valido","level":"error","message":"Errore nella verifica esistenza classe:","timestamp":"2025-03-08T08:34:23.910Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in createInitialClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:34:24.734Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in createInitialClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:34:24.891Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in createInitialClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:34:25.037Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in createInitialClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:34:25.174Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","fromYear":"2023/2024","level":"error","message":"Error in promoteStudents:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:34:25.464Z","toYear":"2024/2025"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","fromYear":"2023/2024","level":"error","message":"Error in promoteStudents:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:34:25.620Z","toYear":"2024/2025"}
{"data":{"academicYear":"2023/2024","section":"A","year":1},"level":"error","message":"Dati classe incompleti","timestamp":"2025-03-08T08:38:53.869Z"}
{"data":{"academicYear":"2023/2024","capacity":25,"isActive":true,"mainTeacher":"67cc021d6ce4854e1fbc8024","schoolId":"67cc021e6ce4854e1fbc802a","section":"A","status":"invalid_status","year":-1},"level":"error","message":"Class validation failed: year: Path `year` (-1) is less than minimum allowed value (1)., status: `invalid_status` is not a valid enum value for path `status`.","stack":"ValidationError: Class validation failed: year: Path `year` (-1) is less than minimum allowed value (1)., status: `invalid_status` is not a valid enum value for path `status`.\n    at model.Object.<anonymous>.Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-08T08:38:54.102Z","validationErrors":{"status":{"kind":"enum","message":"`invalid_status` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["active","planned","archived"],"message":"`invalid_status` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"invalid_status"},"value":"invalid_status"},"year":{"kind":"min","message":"Path `year` (-1) is less than minimum allowed value (1).","name":"ValidatorError","path":"year","properties":{"message":"Path `year` (-1) is less than minimum allowed value (1).","min":1,"path":"year","type":"min","value":-1},"value":-1}}}
{"error":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"invalid-id-format\" (type string) at path \"_id\" for model \"Class\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"invalid-id-format\"","value":"invalid-id-format","valueType":"string"},"level":"error","message":"Errore nel recupero di Class","timestamp":"2025-03-08T08:38:54.853Z"}
{"error":{"_message":"Validation failed","errors":{"capacity":{"kind":"user defined","message":"Parameter \"obj\" to Document() must be an object, got \"School\" (type string)","name":"ValidatorError","path":"capacity","properties":{"fullPath":"capacity","message":"Parameter \"obj\" to Document() must be an object, got \"School\" (type string)","path":"capacity","reason":{},"type":"user defined","value":30},"reason":{},"value":30}},"message":"Validation failed: capacity: Parameter \"obj\" to Document() must be an object, got \"School\" (type string)","name":"ValidationError"},"level":"error","message":"Errore nell'aggiornamento di Class","timestamp":"2025-03-08T08:38:55.058Z"}
{"error":{"_message":"Validation failed","errors":{"capacity":{"kind":"user defined","message":"Parameter \"obj\" to Document() must be an object, got \"School\" (type string)","name":"ValidatorError","path":"capacity","properties":{"fullPath":"capacity","message":"Parameter \"obj\" to Document() must be an object, got \"School\" (type string)","path":"capacity","reason":{},"type":"user defined","value":30},"reason":{},"value":30}},"message":"Validation failed: capacity: Parameter \"obj\" to Document() must be an object, got \"School\" (type string)","name":"ValidationError"},"level":"error","message":"Errore nell'aggiornamento di Class","timestamp":"2025-03-08T08:38:55.241Z"}
{"criteria":{"academicYear":"2023/2024","schoolId":"invalid-id","section":"A","year":1},"error":"ID scuola non valido","level":"error","message":"Errore nella verifica esistenza classe:","timestamp":"2025-03-08T08:38:56.693Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in createInitialClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:38:57.640Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in createInitialClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:38:57.837Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in createInitialClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:38:57.998Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in createInitialClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:38:58.162Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","fromYear":"2023/2024","level":"error","message":"Error in promoteStudents:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:38:58.483Z","toYear":"2024/2025"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","fromYear":"2023/2024","level":"error","message":"Error in promoteStudents:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T08:38:58.670Z","toYear":"2024/2025"}
{"error":{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"test@example.com"}},"level":"error","message":"Error creating user","timestamp":"2025-03-08T08:44:13.088Z"}
{"error":{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"test@example.com"}},"level":"error","message":"Error creating user","timestamp":"2025-03-08T08:56:54.558Z"}
{"error":{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"test@example.com"}},"level":"error","message":"Error creating user","timestamp":"2025-03-08T09:01:28.434Z"}
{"error":{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"test@example.com"}},"level":"error","message":"Error creating user","timestamp":"2025-03-08T09:04:59.944Z"}
{"error":{"message":"Token non più valido","metadata":{}},"level":"error","message":"Logout error","timestamp":"2025-03-08T16:57:44.896Z"}
{"error":{"message":"Token non più valido","metadata":{}},"level":"error","message":"Logout failed","timestamp":"2025-03-08T16:57:44.897Z"}
{"error":{},"level":"error","message":"Auth Route Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-08T16:57:44.898Z"}
{"error":{},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-08T16:57:44.899Z","userId":"677bfe44f6789c907c9f3766"}
{"context":{"id":"invalidid"},"errorMessage":"Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"User\"","errorName":"CastError","level":"error","message":"Errore in UserRepository.findById:","stack":"CastError: Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"User\"\n    at ObjectId.Object.<anonymous>.ObjectId.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\objectid.js:250:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1633:15)\n    at cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\cast.js:389:32)\n    at model.Query.Object.<anonymous>.Query.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4927:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2237:10)\n    at model.Query._findOne (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2533:8)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at UserRepository.findById (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\UserRepository.js:42:26)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\UserRepository.test.js:113:17)","timestamp":"2025-03-08T17:56:34.058Z"}
{"context":{"userData":{"email":"test@example.com","firstName":"Duplicate","lastName":"User","password":"[REDACTED]","role":"teacher","sessionTokens":[{"createdAt":"2025-03-08T17:56:34.519Z","expiresAt":"2025-03-09T17:56:34.519Z","ipAddress":"127.0.0.1","lastUsedAt":"2025-03-08T17:56:34.519Z","token":"17335183-8a30-42b2-afff-5f681520a88e-duplicate","userAgent":"Test Browser"}],"status":"active"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.users index: email_1 dup key: { email: \"test@example.com\" }","errorName":"MongoServerError","level":"error","message":"Errore in UserRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.users index: email_1 dup key: { email: \"test@example.com\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T17:56:34.635Z"}
{"context":{"updateData":{"firstName":"Updated"},"userId":"invalidid"},"errorMessage":"ID utente non valido","level":"error","message":"Errore in UserRepository.update:","timestamp":"2025-03-08T17:56:34.870Z"}
{"context":{"userData":{"email":"test@example.com","firstName":"Duplicate","lastName":"User","password":"[REDACTED]","role":"teacher","sessionTokens":[{"createdAt":"2025-03-08T17:59:38.576Z","expiresAt":"2025-03-09T17:59:38.576Z","ipAddress":"127.0.0.1","lastUsedAt":"2025-03-08T17:59:38.576Z","token":"64cb7c90-51a6-484d-acc2-62addd85a283-duplicate","userAgent":"Test Browser"}],"status":"active"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.users index: email_1 dup key: { email: \"test@example.com\" }","errorName":"MongoServerError","level":"error","message":"Errore in UserRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.users index: email_1 dup key: { email: \"test@example.com\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T17:59:38.690Z"}
{"context":{"userData":{"email":"test@example.com","firstName":"Duplicate","lastName":"User","password":"[REDACTED]","role":"teacher","sessionTokens":[{"createdAt":"2025-03-08T18:04:18.069Z","expiresAt":"2025-03-09T18:04:18.069Z","ipAddress":"127.0.0.1","lastUsedAt":"2025-03-08T18:04:18.069Z","token":"dbfd5c5a-8ba8-49fa-94d1-4e44ff2b7d5d-duplicate","userAgent":"Test Browser"}],"status":"active"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.users index: email_1 dup key: { email: \"test@example.com\" }","errorName":"MongoServerError","level":"error","message":"Errore in UserRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.users index: email_1 dup key: { email: \"test@example.com\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T18:04:18.180Z"}
{"context":{"userData":{"email":"test@example.com","firstName":"Duplicate","lastName":"User","password":"[REDACTED]","role":"teacher","sessionTokens":[{"createdAt":"2025-03-08T18:05:04.822Z","expiresAt":"2025-03-09T18:05:04.822Z","ipAddress":"127.0.0.1","lastUsedAt":"2025-03-08T18:05:04.822Z","token":"a9f989df-6f22-4760-b166-da4b4ee10ec6-duplicate","userAgent":"Test Browser"}],"status":"active"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.users index: email_1 dup key: { email: \"test@example.com\" }","errorName":"MongoServerError","level":"error","message":"Errore in UserRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.users index: email_1 dup key: { email: \"test@example.com\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T18:05:04.930Z"}
{"context":{"userData":{"email":"test@example.com","firstName":"Duplicate","lastName":"User","password":"[REDACTED]","role":"teacher","sessionTokens":[{"createdAt":"2025-03-08T18:08:14.743Z","expiresAt":"2025-03-09T18:08:14.743Z","ipAddress":"127.0.0.1","lastUsedAt":"2025-03-08T18:08:14.743Z","token":"12e122b7-d1c9-4ef2-a305-d1e4ef912eda-duplicate","userAgent":"Test Browser"}],"status":"active"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.users index: email_1 dup key: { email: \"test@example.com\" }","errorName":"MongoServerError","level":"error","message":"Errore in UserRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.users index: email_1 dup key: { email: \"test@example.com\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T18:08:14.865Z"}
{"context":{"userData":{"email":"test@example.com","firstName":"Duplicate","lastName":"User","password":"[REDACTED]","role":"teacher","sessionTokens":[{"createdAt":"2025-03-08T18:11:58.897Z","expiresAt":"2025-03-09T18:11:58.897Z","ipAddress":"127.0.0.1","lastUsedAt":"2025-03-08T18:11:58.897Z","token":"0156297a-814a-4e8f-8da3-ec32ff7a5ee3-duplicate","userAgent":"Test Browser"}],"status":"active"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.users index: email_1 dup key: { email: \"test@example.com\" }","errorName":"MongoServerError","level":"error","message":"Errore in UserRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.users index: email_1 dup key: { email: \"test@example.com\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T18:11:59.002Z"}
{"context":{"data":{"address":"Via Venezia 789","defaultMaxStudentsPerClass":22,"institutionType":"scientific","manager":"67cc88acae64d7f797106ab9","name":"Test School","province":"Venezia","region":"Veneto","schoolType":"high_school"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T18:13:00.565Z"}
{"context":{"data":{"name":"Updated Name"},"id":"67cc88adae64d7f797106b03"},"errorMessage":"School non trovato","errorName":"DocumentNotFoundError","level":"error","message":"Errore in SchoolRepository.update:","stack":"DocumentNotFoundError: School non trovato\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:126:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:311:17)","timestamp":"2025-03-08T18:13:01.274Z"}
{"context":{"role":"teacher","schoolId":"67cc88adae64d7f797106b0f","userId":"67cc88adae64d7f797106b15"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:171:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:344:35)","timestamp":"2025-03-08T18:13:01.619Z"}
{"context":{"role":"teacher","schoolId":"67cc88adae64d7f797106b27","userId":"67cc88adae64d7f797106b21"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:171:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:369:17)","timestamp":"2025-03-08T18:13:01.835Z"}
{"context":{"createClasses":true,"schoolId":"67cc88aeae64d7f797106b66","yearData":{"createdBy":"67cc88aeae64d7f797106b60","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:02.505Z"}
{"context":{"createClasses":false,"schoolId":"67cc88aeae64d7f797106b77","yearData":{"createdBy":"67cc88aeae64d7f797106b71","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:02.732Z"}
{"context":{"role":"teacher","schoolId":"67cc88afae64d7f797106b98","userId":"67cc88afae64d7f797106b95"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:171:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:489:13)","timestamp":"2025-03-08T18:13:03.150Z"}
{"context":{"schoolId":"67cc88afae64d7f797106b98","userId":"67cc88afae64d7f797106b95"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:03.155Z"}
{"context":{"schoolId":"67cc88afae64d7f797106bae","userId":"67cc88afae64d7f797106ba8"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:03.370Z"}
{"context":{"schoolId":"67cc88afae64d7f797106bbf","userId":"67cc88afae64d7f797106bb9"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:03.586Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc88afae64d7f797106bd0","sectionName":"A","timestamp":"2025-03-08T18:13:03.804Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc88b0ae64d7f797106be1","sectionName":"Z","timestamp":"2025-03-08T18:13:04.019Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc88b0ae64d7f797106bf2","sectionName":"A","timestamp":"2025-03-08T18:13:04.236Z"}
{"context":{"role":"teacher","schoolId":"67cc88b0ae64d7f797106c03","userId":"67cc88b0ae64d7f797106c00"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:171:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:599:13)","timestamp":"2025-03-08T18:13:04.448Z"}
{"context":{"createClasses":false,"schoolId":"67cc88b0ae64d7f797106c31","yearData":{"createdBy":"67cc88b0ae64d7f797106c2b","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:04.901Z"}
{"context":{"schoolId":"67cc88b1ae64d7f797106c42","yearId":"67cc88b1ae64d7f797106c43"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:05.135Z"}
{"context":{"institutionType":"none","schoolId":"67cc88b1ae64d7f797106c69","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:05.598Z"}
{"context":{"institutionType":"scientific","schoolId":"67cc88b1ae64d7f797106c7a","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:05.852Z"}
{"context":{"schoolId":"67cc88b2ae64d7f797106c8b"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:06.060Z"}
{"context":{"schoolId":"67cc88b2ae64d7f797106c9c"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:06.276Z"}
{"context":{"schoolId":"67cc88b2ae64d7f797106c9c"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:06.281Z"}
{"context":{"schoolId":"67cc88b2ae64d7f797106cae"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:06.539Z"}
{"context":{"schoolId":"67cc88b2ae64d7f797106ccb"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:06.750Z"}
{"context":{"schoolId":"67cc88b2ae64d7f797106ccb","userId":"67cc88b2ae64d7f797106cc8"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:06.756Z"}
{"context":{"schoolId":"67cc88b2ae64d7f797106cdd","userId":"67cc88b2ae64d7f797106cda"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:06.961Z"}
{"context":{"schoolId":"67cc88b3ae64d7f797106cee"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:07.165Z"}
{"context":{"schoolId":"67cc88b3ae64d7f797106cee","userId":"67cc88b3ae64d7f797106ceb"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:07.168Z"}
{"context":{"schoolId":"67cc88b3ae64d7f797106d05","sectionName":"A"},"errorMessage":"Class.find(...).select is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.getStudentsBySection:","stack":"TypeError: Class.find(...).select is not a function\n    at SchoolRepository.getStudentsBySection (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:946:16)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:914:53)\n    at Promise.then.completed (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-03-08T18:13:07.376Z"}
{"context":{"schoolId":"67cc88b3ae64d7f797106d15","yearId":"67cc88b3ae64d7f797106d16"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:07.583Z"}
{"context":{"schoolId":"67cc88b3ae64d7f797106d15","yearId":"67cc88b3ae64d7f797106d16"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:07.589Z"}
{"context":{"createClasses":false,"schoolId":"67cc88b3ae64d7f797106d27","yearData":{"createdBy":"67cc88b3ae64d7f797106d21","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:07.797Z"}
{"context":{"schoolId":"67cc88b3ae64d7f797106d38","yearId":"67cc88b3ae64d7f797106d39"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:08.006Z"}
{"context":{"schoolId":"67cc88b3ae64d7f797106d38","yearId":"67cc88b3ae64d7f797106d39"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:08.009Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc88b4ae64d7f797106d4f","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:08.222Z","yearId":"67cc88b4ae64d7f797106d50"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc88b4ae64d7f797106d60","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:08.430Z","yearId":"67cc88b4ae64d7f797106d61"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc88b4ae64d7f797106d71","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:08.646Z","yearId":"67cc88b4ae64d7f797106d72"}
{"context":{"schoolId":"67cc88b4ae64d7f797106d82"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:08.859Z"}
{"context":{"schoolId":"67cc88b5ae64d7f797106d92"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:09.065Z"}
{"context":{"totalSchools":2},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.syncAssignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:13:09.711Z"}
{"context":{"options":{},"schoolId":"invalidid"},"errorMessage":"Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"","errorName":"CastError","level":"error","message":"Errore in SchoolRepository.findById:","stack":"CastError: Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"\n    at ObjectId.Object.<anonymous>.ObjectId.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\objectid.js:250:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1633:15)\n    at cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\cast.js:389:32)\n    at model.Query.Object.<anonymous>.Query.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4927:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2237:10)\n    at model.Query._findOne (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2533:8)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at SchoolRepository.findById (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:133:28)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:192:17)","timestamp":"2025-03-08T18:19:25.102Z"}
{"context":{"data":{"address":"Via Venezia 789","defaultMaxStudentsPerClass":22,"institutionType":"scientific","manager":"67cc8a2d7247af67a57b241e","name":"Test School","province":"Venezia","region":"Veneto","schoolType":"high_school"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T18:19:25.916Z"}
{"context":{"data":{"name":"Updated Name"},"id":"invalidid"},"errorMessage":"Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"","errorName":"CastError","level":"error","message":"Errore in SchoolRepository.update:","stack":"CastError: Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"\n    at ObjectId.Object.<anonymous>.ObjectId.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\objectid.js:250:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1633:15)\n    at cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\cast.js:389:32)\n    at model.Query.Object.<anonymous>.Query.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4927:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2237:10)\n    at model.Query._findOneAndUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3319:8)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:115:25)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:304:17)","timestamp":"2025-03-08T18:19:26.445Z"}
{"context":{"data":{"name":"Updated Name"},"id":"67cc8a2e7247af67a57b2468"},"errorMessage":"School non trovato","errorName":"DocumentNotFoundError","level":"error","message":"Errore in SchoolRepository.update:","stack":"DocumentNotFoundError: School non trovato\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:126:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:320:17)","timestamp":"2025-03-08T18:19:26.700Z"}
{"context":{"role":"teacher","schoolId":"67cc8a2e7247af67a57b2474","userId":"67cc8a2e7247af67a57b247a"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:171:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:355:35)","timestamp":"2025-03-08T18:19:27.098Z"}
{"context":{"role":"teacher","schoolId":"67cc8a2f7247af67a57b248c","userId":"67cc8a2f7247af67a57b2486"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:171:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:380:17)","timestamp":"2025-03-08T18:19:27.367Z"}
{"context":{"createClasses":true,"schoolId":"67cc8a307247af67a57b24cb","yearData":{"createdBy":"67cc8a2f7247af67a57b24c5","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:28.133Z"}
{"context":{"createClasses":false,"schoolId":"67cc8a307247af67a57b24dc","yearData":{"createdBy":"67cc8a307247af67a57b24d6","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:28.381Z"}
{"context":{"role":"teacher","schoolId":"67cc8a307247af67a57b24fd","userId":"67cc8a307247af67a57b24fa"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:171:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:512:13)","timestamp":"2025-03-08T18:19:28.869Z"}
{"context":{"schoolId":"67cc8a307247af67a57b24fd","userId":"67cc8a307247af67a57b24fa"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:28.876Z"}
{"context":{"schoolId":"67cc8a317247af67a57b2513","userId":"67cc8a307247af67a57b250d"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:29.117Z"}
{"context":{"schoolId":"67cc8a317247af67a57b2524","userId":"67cc8a317247af67a57b251e"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:29.363Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8a317247af67a57b2535","sectionName":"A","timestamp":"2025-03-08T18:19:29.611Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8a317247af67a57b2546","sectionName":"Z","timestamp":"2025-03-08T18:19:29.858Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8a327247af67a57b2557","sectionName":"A","timestamp":"2025-03-08T18:19:30.127Z"}
{"context":{"role":"teacher","schoolId":"67cc8a327247af67a57b2568","userId":"67cc8a327247af67a57b2565"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:171:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:633:13)","timestamp":"2025-03-08T18:19:30.437Z"}
{"context":{"createClasses":false,"schoolId":"67cc8a327247af67a57b2596","yearData":{"createdBy":"67cc8a327247af67a57b2590","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:31.011Z"}
{"context":{"schoolId":"67cc8a337247af67a57b25a7","yearId":"67cc8a337247af67a57b25a8"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:31.314Z"}
{"context":{"institutionType":"none","schoolId":"67cc8a337247af67a57b25ce","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:31.899Z"}
{"context":{"institutionType":"scientific","schoolId":"67cc8a347247af67a57b25df","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:32.177Z"}
{"context":{"schoolId":"67cc8a347247af67a57b25f0"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:32.455Z"}
{"context":{"schoolId":"67cc8a347247af67a57b2601"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:32.721Z"}
{"context":{"schoolId":"67cc8a347247af67a57b2601"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:32.725Z"}
{"context":{"schoolId":"67cc8a347247af67a57b2613"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:32.996Z"}
{"context":{"schoolId":"67cc8a357247af67a57b2630"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:33.265Z"}
{"context":{"schoolId":"67cc8a357247af67a57b2630","userId":"67cc8a357247af67a57b262d"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:33.271Z"}
{"context":{"schoolId":"67cc8a357247af67a57b2642","userId":"67cc8a357247af67a57b263f"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:33.536Z"}
{"context":{"schoolId":"67cc8a357247af67a57b2653"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:33.795Z"}
{"context":{"schoolId":"67cc8a357247af67a57b2653","userId":"67cc8a357247af67a57b2650"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:33.799Z"}
{"context":{"schoolId":"67cc8a367247af67a57b266a","sectionName":"A"},"errorMessage":"Class.find(...).select is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.getStudentsBySection:","stack":"TypeError: Class.find(...).select is not a function\n    at SchoolRepository.getStudentsBySection (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:946:16)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:948:53)\n    at Promise.then.completed (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-03-08T18:19:34.059Z"}
{"context":{"schoolId":"67cc8a367247af67a57b267a","yearId":"67cc8a367247af67a57b267b"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:34.322Z"}
{"context":{"schoolId":"67cc8a367247af67a57b267a","yearId":"67cc8a367247af67a57b267b"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:34.326Z"}
{"context":{"createClasses":false,"schoolId":"67cc8a367247af67a57b268c","yearData":{"createdBy":"67cc8a367247af67a57b2686","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:34.586Z"}
{"context":{"schoolId":"67cc8a367247af67a57b269d","yearId":"67cc8a367247af67a57b269e"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:34.842Z"}
{"context":{"schoolId":"67cc8a367247af67a57b269d","yearId":"67cc8a367247af67a57b269e"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:34.845Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8a377247af67a57b26b4","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:35.113Z","yearId":"67cc8a377247af67a57b26b5"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8a377247af67a57b26c5","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:35.368Z","yearId":"67cc8a377247af67a57b26c6"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8a377247af67a57b26d6","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:35.621Z","yearId":"67cc8a377247af67a57b26d7"}
{"context":{"schoolId":"67cc8a377247af67a57b26e7"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:35.894Z"}
{"context":{"schoolId":"67cc8a387247af67a57b26f7"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:36.162Z"}
{"context":{"totalSchools":2},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.syncAssignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:19:36.968Z"}
{"context":{"userData":{"email":"test@example.com","firstName":"Duplicate","lastName":"User","password":"[REDACTED]","role":"teacher","sessionTokens":[{"createdAt":"2025-03-08T18:26:57.110Z","expiresAt":"2025-03-09T18:26:57.110Z","ipAddress":"127.0.0.1","lastUsedAt":"2025-03-08T18:26:57.110Z","token":"664f905b-ffaa-4290-b77a-9f7096f7053b-duplicate","userAgent":"Test Browser"}],"status":"active"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.users index: email_1 dup key: { email: \"test@example.com\" }","errorName":"MongoServerError","level":"error","message":"Errore in UserRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.users index: email_1 dup key: { email: \"test@example.com\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T18:26:57.223Z"}
{"context":{"options":{},"schoolId":"invalidid"},"errorMessage":"Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"","errorName":"CastError","level":"error","message":"Errore in SchoolRepository.findById:","stack":"CastError: Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"\n    at ObjectId.Object.<anonymous>.ObjectId.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\objectid.js:250:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1633:15)\n    at cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\cast.js:389:32)\n    at model.Query.Object.<anonymous>.Query.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4927:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2237:10)\n    at model.Query._findOne (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2533:8)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at SchoolRepository.findById (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:133:28)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:192:17)","timestamp":"2025-03-08T18:27:10.313Z"}
{"context":{"data":{"address":"Via Venezia 789","defaultMaxStudentsPerClass":22,"institutionType":"scientific","manager":"67cc8bfe5b3bd95684a2f38f","name":"Test School","province":"Venezia","region":"Veneto","schoolType":"high_school"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T18:27:10.968Z"}
{"context":{"data":{"name":"Updated Name"},"id":"invalidid"},"errorMessage":"Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"","errorName":"CastError","level":"error","message":"Errore in SchoolRepository.update:","stack":"CastError: Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"\n    at ObjectId.Object.<anonymous>.ObjectId.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\objectid.js:250:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1633:15)\n    at cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\cast.js:389:32)\n    at model.Query.Object.<anonymous>.Query.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4927:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2237:10)\n    at model.Query._findOneAndUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3319:8)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:115:25)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:304:17)","timestamp":"2025-03-08T18:27:11.408Z"}
{"context":{"data":{"name":"Updated Name"},"id":"67cc8bff5b3bd95684a2f3d9"},"errorMessage":"School non trovato","errorName":"DocumentNotFoundError","level":"error","message":"Errore in SchoolRepository.update:","stack":"DocumentNotFoundError: School non trovato\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:126:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:320:17)","timestamp":"2025-03-08T18:27:11.615Z"}
{"context":{"role":"teacher","schoolId":"67cc8bff5b3bd95684a2f3e5","userId":"67cc8bff5b3bd95684a2f3eb"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:171:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:355:35)","timestamp":"2025-03-08T18:27:11.918Z"}
{"context":{"role":"teacher","schoolId":"67cc8c005b3bd95684a2f3fd","userId":"67cc8bff5b3bd95684a2f3f7"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:171:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:380:17)","timestamp":"2025-03-08T18:27:12.120Z"}
{"context":{"createClasses":true,"schoolId":"67cc8c005b3bd95684a2f43c","yearData":{"createdBy":"67cc8c005b3bd95684a2f436","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:12.751Z"}
{"context":{"createClasses":false,"schoolId":"67cc8c005b3bd95684a2f44d","yearData":{"createdBy":"67cc8c005b3bd95684a2f447","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:12.957Z"}
{"context":{"role":"teacher","schoolId":"67cc8c015b3bd95684a2f46e","userId":"67cc8c015b3bd95684a2f46b"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:171:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:512:13)","timestamp":"2025-03-08T18:27:13.365Z"}
{"context":{"schoolId":"67cc8c015b3bd95684a2f46e","userId":"67cc8c015b3bd95684a2f46b"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:13.370Z"}
{"context":{"schoolId":"67cc8c015b3bd95684a2f484","userId":"67cc8c015b3bd95684a2f47e"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:13.573Z"}
{"context":{"schoolId":"67cc8c015b3bd95684a2f495","userId":"67cc8c015b3bd95684a2f48f"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:13.796Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8c015b3bd95684a2f4a6","sectionName":"A","timestamp":"2025-03-08T18:27:14.004Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8c025b3bd95684a2f4b7","sectionName":"Z","timestamp":"2025-03-08T18:27:14.211Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8c025b3bd95684a2f4c8","sectionName":"A","timestamp":"2025-03-08T18:27:14.414Z"}
{"context":{"role":"teacher","schoolId":"67cc8c025b3bd95684a2f4d9","userId":"67cc8c025b3bd95684a2f4d6"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:171:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:633:13)","timestamp":"2025-03-08T18:27:14.618Z"}
{"context":{"createClasses":false,"schoolId":"67cc8c035b3bd95684a2f507","yearData":{"createdBy":"67cc8c025b3bd95684a2f501","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:15.064Z"}
{"context":{"schoolId":"67cc8c035b3bd95684a2f518","yearId":"67cc8c035b3bd95684a2f519"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:15.301Z"}
{"context":{"institutionType":"none","schoolId":"67cc8c035b3bd95684a2f53f","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:15.735Z"}
{"context":{"institutionType":"scientific","schoolId":"67cc8c035b3bd95684a2f550","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:15.946Z"}
{"context":{"schoolId":"67cc8c045b3bd95684a2f561"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:16.146Z"}
{"context":{"schoolId":"67cc8c045b3bd95684a2f572"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:16.348Z"}
{"context":{"schoolId":"67cc8c045b3bd95684a2f572"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:16.350Z"}
{"context":{"schoolId":"67cc8c045b3bd95684a2f584"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:16.554Z"}
{"context":{"schoolId":"67cc8c045b3bd95684a2f5a1"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:16.764Z"}
{"context":{"schoolId":"67cc8c045b3bd95684a2f5a1","userId":"67cc8c045b3bd95684a2f59e"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:16.768Z"}
{"context":{"schoolId":"67cc8c045b3bd95684a2f5b3","userId":"67cc8c045b3bd95684a2f5b0"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:16.992Z"}
{"context":{"schoolId":"67cc8c055b3bd95684a2f5c4"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:17.190Z"}
{"context":{"schoolId":"67cc8c055b3bd95684a2f5c4","userId":"67cc8c055b3bd95684a2f5c1"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:17.193Z"}
{"context":{"schoolId":"67cc8c055b3bd95684a2f5db","sectionName":"A"},"errorMessage":"Class.find(...).select is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.getStudentsBySection:","stack":"TypeError: Class.find(...).select is not a function\n    at SchoolRepository.getStudentsBySection (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:946:16)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:948:53)\n    at Promise.then.completed (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-03-08T18:27:17.396Z"}
{"context":{"schoolId":"67cc8c055b3bd95684a2f5eb","yearId":"67cc8c055b3bd95684a2f5ec"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:17.591Z"}
{"context":{"schoolId":"67cc8c055b3bd95684a2f5eb","yearId":"67cc8c055b3bd95684a2f5ec"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:17.594Z"}
{"context":{"createClasses":false,"schoolId":"67cc8c055b3bd95684a2f5fd","yearData":{"createdBy":"67cc8c055b3bd95684a2f5f7","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:17.795Z"}
{"context":{"schoolId":"67cc8c055b3bd95684a2f60e","yearId":"67cc8c055b3bd95684a2f60f"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:17.995Z"}
{"context":{"schoolId":"67cc8c055b3bd95684a2f60e","yearId":"67cc8c055b3bd95684a2f60f"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:17.998Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8c065b3bd95684a2f625","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:18.202Z","yearId":"67cc8c065b3bd95684a2f626"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8c065b3bd95684a2f636","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:18.406Z","yearId":"67cc8c065b3bd95684a2f637"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8c065b3bd95684a2f647","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:18.608Z","yearId":"67cc8c065b3bd95684a2f648"}
{"context":{"schoolId":"67cc8c065b3bd95684a2f658"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:18.813Z"}
{"context":{"schoolId":"67cc8c075b3bd95684a2f668"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:19.011Z"}
{"context":{"totalSchools":2},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.syncAssignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:27:19.614Z"}
{"context":{"options":{},"schoolId":"invalidid"},"errorMessage":"ID scuola non valido (formato non valido)","level":"error","message":"Errore in SchoolRepository.findById:","timestamp":"2025-03-08T18:31:07.119Z"}
{"context":{"data":{"address":"Via Venezia 789","defaultMaxStudentsPerClass":22,"institutionType":"scientific","manager":"67cc8ceb3c32fafbb9feb729","name":"Test School","province":"Venezia","region":"Veneto","schoolType":"high_school"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T18:31:07.863Z"}
{"context":{"data":{"name":"Updated Name"},"id":"invalidid"},"errorMessage":"Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"","errorName":"CastError","level":"error","message":"Errore in SchoolRepository.update:","stack":"CastError: Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"\n    at ObjectId.Object.<anonymous>.ObjectId.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\objectid.js:250:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1633:15)\n    at cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\cast.js:389:32)\n    at model.Query.Object.<anonymous>.Query.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4927:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2237:10)\n    at model.Query._findOneAndUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3319:8)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:115:25)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:304:17)","timestamp":"2025-03-08T18:31:08.343Z"}
{"context":{"data":{"name":"Updated Name"},"id":"67cc8cec3c32fafbb9feb773"},"errorMessage":"School non trovato","errorName":"DocumentNotFoundError","level":"error","message":"Errore in SchoolRepository.update:","stack":"DocumentNotFoundError: School non trovato\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:126:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:320:17)","timestamp":"2025-03-08T18:31:08.576Z"}
{"context":{"role":"teacher","schoolId":"67cc8cec3c32fafbb9feb77f","userId":"67cc8cec3c32fafbb9feb785"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:180:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:355:35)","timestamp":"2025-03-08T18:31:08.960Z"}
{"context":{"role":"teacher","schoolId":"67cc8ced3c32fafbb9feb797","userId":"67cc8cec3c32fafbb9feb791"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:180:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:380:17)","timestamp":"2025-03-08T18:31:09.220Z"}
{"context":{"createClasses":true,"schoolId":"67cc8cee3c32fafbb9feb7d6","yearData":{"createdBy":"67cc8ced3c32fafbb9feb7d0","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:10.043Z"}
{"context":{"createClasses":false,"schoolId":"67cc8cee3c32fafbb9feb7e7","yearData":{"createdBy":"67cc8cee3c32fafbb9feb7e1","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:10.360Z"}
{"context":{"role":"teacher","schoolId":"67cc8cee3c32fafbb9feb808","userId":"67cc8cee3c32fafbb9feb805"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:180:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:512:13)","timestamp":"2025-03-08T18:31:10.961Z"}
{"context":{"schoolId":"67cc8cee3c32fafbb9feb808","userId":"67cc8cee3c32fafbb9feb805"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:10.970Z"}
{"context":{"schoolId":"67cc8cef3c32fafbb9feb81e","userId":"67cc8cee3c32fafbb9feb818"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:11.281Z"}
{"context":{"schoolId":"67cc8cef3c32fafbb9feb82f","userId":"67cc8cef3c32fafbb9feb829"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:11.602Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8cef3c32fafbb9feb840","sectionName":"A","timestamp":"2025-03-08T18:31:11.887Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8cf03c32fafbb9feb851","sectionName":"Z","timestamp":"2025-03-08T18:31:12.199Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8cf03c32fafbb9feb862","sectionName":"A","timestamp":"2025-03-08T18:31:12.507Z"}
{"context":{"role":"teacher","schoolId":"67cc8cf03c32fafbb9feb873","userId":"67cc8cf03c32fafbb9feb870"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:180:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:633:13)","timestamp":"2025-03-08T18:31:12.807Z"}
{"context":{"createClasses":false,"schoolId":"67cc8cf13c32fafbb9feb8a1","yearData":{"createdBy":"67cc8cf13c32fafbb9feb89b","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:13.468Z"}
{"context":{"schoolId":"67cc8cf13c32fafbb9feb8b2","yearId":"67cc8cf13c32fafbb9feb8b3"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:13.731Z"}
{"context":{"institutionType":"none","schoolId":"67cc8cf23c32fafbb9feb8d9","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:14.286Z"}
{"context":{"institutionType":"scientific","schoolId":"67cc8cf23c32fafbb9feb8ea","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:14.575Z"}
{"context":{"schoolId":"67cc8cf23c32fafbb9feb8fb"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:14.854Z"}
{"context":{"schoolId":"67cc8cf33c32fafbb9feb90c"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:15.151Z"}
{"context":{"schoolId":"67cc8cf33c32fafbb9feb90c"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:15.154Z"}
{"context":{"schoolId":"67cc8cf33c32fafbb9feb91e"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:15.438Z"}
{"context":{"schoolId":"67cc8cf33c32fafbb9feb93b"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:15.666Z"}
{"context":{"schoolId":"67cc8cf33c32fafbb9feb93b","userId":"67cc8cf33c32fafbb9feb938"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:15.668Z"}
{"context":{"schoolId":"67cc8cf33c32fafbb9feb94d","userId":"67cc8cf33c32fafbb9feb94a"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:15.879Z"}
{"context":{"schoolId":"67cc8cf43c32fafbb9feb95e"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:16.088Z"}
{"context":{"schoolId":"67cc8cf43c32fafbb9feb95e","userId":"67cc8cf33c32fafbb9feb95b"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:16.092Z"}
{"context":{"schoolId":"67cc8cf43c32fafbb9feb975","sectionName":"A"},"errorMessage":"Class.find(...).select is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.getStudentsBySection:","stack":"TypeError: Class.find(...).select is not a function\n    at SchoolRepository.getStudentsBySection (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:955:16)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:948:53)\n    at Promise.then.completed (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-03-08T18:31:16.300Z"}
{"context":{"schoolId":"67cc8cf43c32fafbb9feb985","yearId":"67cc8cf43c32fafbb9feb986"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:16.504Z"}
{"context":{"schoolId":"67cc8cf43c32fafbb9feb985","yearId":"67cc8cf43c32fafbb9feb986"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:16.506Z"}
{"context":{"createClasses":false,"schoolId":"67cc8cf43c32fafbb9feb997","yearData":{"createdBy":"67cc8cf43c32fafbb9feb991","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:16.712Z"}
{"context":{"schoolId":"67cc8cf43c32fafbb9feb9a8","yearId":"67cc8cf43c32fafbb9feb9a9"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:16.921Z"}
{"context":{"schoolId":"67cc8cf43c32fafbb9feb9a8","yearId":"67cc8cf43c32fafbb9feb9a9"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:16.923Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8cf53c32fafbb9feb9bf","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:17.139Z","yearId":"67cc8cf53c32fafbb9feb9c0"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8cf53c32fafbb9feb9d0","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:17.347Z","yearId":"67cc8cf53c32fafbb9feb9d1"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8cf53c32fafbb9feb9e1","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:17.552Z","yearId":"67cc8cf53c32fafbb9feb9e2"}
{"context":{"schoolId":"67cc8cf53c32fafbb9feb9f2"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:17.766Z"}
{"context":{"schoolId":"67cc8cf53c32fafbb9feba02"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:17.972Z"}
{"context":{"totalSchools":2},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.syncAssignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:31:18.642Z"}
{"context":{"data":{"address":"Via Venezia 789","defaultMaxStudentsPerClass":22,"institutionType":"scientific","manager":"67cc8d7d8b3e691fce58df6e","name":"Test School","province":"Venezia","region":"Veneto","schoolType":"high_school"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T18:33:33.823Z"}
{"context":{"data":{"name":"Updated Name"},"id":"invalidid"},"errorMessage":"Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"","errorName":"CastError","level":"error","message":"Errore in SchoolRepository.update:","stack":"CastError: Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"\n    at ObjectId.Object.<anonymous>.ObjectId.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\objectid.js:250:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1633:15)\n    at cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\cast.js:389:32)\n    at model.Query.Object.<anonymous>.Query.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4927:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2237:10)\n    at model.Query._findOneAndUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3319:8)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:115:25)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:304:17)","timestamp":"2025-03-08T18:33:34.259Z"}
{"context":{"data":{"name":"Updated Name"},"id":"67cc8d7e8b3e691fce58dfb8"},"errorMessage":"School non trovato","errorName":"DocumentNotFoundError","level":"error","message":"Errore in SchoolRepository.update:","stack":"DocumentNotFoundError: School non trovato\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:126:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:320:17)","timestamp":"2025-03-08T18:33:34.475Z"}
{"context":{"role":"teacher","schoolId":"67cc8d7e8b3e691fce58dfc4","userId":"67cc8d7e8b3e691fce58dfca"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:179:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:355:35)","timestamp":"2025-03-08T18:33:34.785Z"}
{"context":{"role":"teacher","schoolId":"67cc8d7e8b3e691fce58dfdc","userId":"67cc8d7e8b3e691fce58dfd6"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:179:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:380:17)","timestamp":"2025-03-08T18:33:34.993Z"}
{"context":{"createClasses":true,"schoolId":"67cc8d7f8b3e691fce58e01b","yearData":{"createdBy":"67cc8d7f8b3e691fce58e015","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:35.631Z"}
{"context":{"createClasses":false,"schoolId":"67cc8d7f8b3e691fce58e02c","yearData":{"createdBy":"67cc8d7f8b3e691fce58e026","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:35.836Z"}
{"context":{"role":"teacher","schoolId":"67cc8d808b3e691fce58e04d","userId":"67cc8d808b3e691fce58e04a"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:179:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:512:13)","timestamp":"2025-03-08T18:33:36.252Z"}
{"context":{"schoolId":"67cc8d808b3e691fce58e04d","userId":"67cc8d808b3e691fce58e04a"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:36.256Z"}
{"context":{"schoolId":"67cc8d808b3e691fce58e063","userId":"67cc8d808b3e691fce58e05d"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:36.459Z"}
{"context":{"schoolId":"67cc8d808b3e691fce58e074","userId":"67cc8d808b3e691fce58e06e"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:36.673Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8d808b3e691fce58e085","sectionName":"A","timestamp":"2025-03-08T18:33:36.884Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8d818b3e691fce58e096","sectionName":"Z","timestamp":"2025-03-08T18:33:37.084Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8d818b3e691fce58e0a7","sectionName":"A","timestamp":"2025-03-08T18:33:37.287Z"}
{"context":{"role":"teacher","schoolId":"67cc8d818b3e691fce58e0b8","userId":"67cc8d818b3e691fce58e0b5"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:179:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:633:13)","timestamp":"2025-03-08T18:33:37.508Z"}
{"context":{"createClasses":false,"schoolId":"67cc8d818b3e691fce58e0e6","yearData":{"createdBy":"67cc8d818b3e691fce58e0e0","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:37.948Z"}
{"context":{"schoolId":"67cc8d828b3e691fce58e0f7","yearId":"67cc8d828b3e691fce58e0f8"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:38.151Z"}
{"context":{"institutionType":"none","schoolId":"67cc8d828b3e691fce58e11e","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:38.585Z"}
{"context":{"institutionType":"scientific","schoolId":"67cc8d828b3e691fce58e12f","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:38.789Z"}
{"context":{"schoolId":"67cc8d828b3e691fce58e140"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:38.986Z"}
{"context":{"schoolId":"67cc8d838b3e691fce58e151"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:39.190Z"}
{"context":{"schoolId":"67cc8d838b3e691fce58e151"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:39.194Z"}
{"context":{"schoolId":"67cc8d838b3e691fce58e163"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:39.397Z"}
{"context":{"schoolId":"67cc8d838b3e691fce58e180"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:39.600Z"}
{"context":{"schoolId":"67cc8d838b3e691fce58e180","userId":"67cc8d838b3e691fce58e17d"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:39.603Z"}
{"context":{"schoolId":"67cc8d838b3e691fce58e192","userId":"67cc8d838b3e691fce58e18f"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:39.800Z"}
{"context":{"schoolId":"67cc8d838b3e691fce58e1a3"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:40.001Z"}
{"context":{"schoolId":"67cc8d838b3e691fce58e1a3","userId":"67cc8d838b3e691fce58e1a0"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:40.004Z"}
{"context":{"schoolId":"67cc8d848b3e691fce58e1ba","sectionName":"A"},"errorMessage":"Class.find(...).select is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.getStudentsBySection:","stack":"TypeError: Class.find(...).select is not a function\n    at SchoolRepository.getStudentsBySection (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:954:16)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:948:53)\n    at Promise.then.completed (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-03-08T18:33:40.201Z"}
{"context":{"schoolId":"67cc8d848b3e691fce58e1ca","yearId":"67cc8d848b3e691fce58e1cb"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:40.401Z"}
{"context":{"schoolId":"67cc8d848b3e691fce58e1ca","yearId":"67cc8d848b3e691fce58e1cb"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:40.404Z"}
{"context":{"createClasses":false,"schoolId":"67cc8d848b3e691fce58e1dc","yearData":{"createdBy":"67cc8d848b3e691fce58e1d6","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:40.605Z"}
{"context":{"schoolId":"67cc8d848b3e691fce58e1ed","yearId":"67cc8d848b3e691fce58e1ee"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:40.809Z"}
{"context":{"schoolId":"67cc8d848b3e691fce58e1ed","yearId":"67cc8d848b3e691fce58e1ee"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:40.813Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8d858b3e691fce58e204","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:41.017Z","yearId":"67cc8d858b3e691fce58e205"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8d858b3e691fce58e215","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:41.217Z","yearId":"67cc8d858b3e691fce58e216"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8d858b3e691fce58e226","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:41.419Z","yearId":"67cc8d858b3e691fce58e227"}
{"context":{"schoolId":"67cc8d858b3e691fce58e237"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:41.633Z"}
{"context":{"schoolId":"67cc8d858b3e691fce58e247"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:41.832Z"}
{"context":{"totalSchools":2},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.syncAssignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:33:42.447Z"}
{"context":{"data":{"address":"Via Venezia 789","defaultMaxStudentsPerClass":22,"institutionType":"scientific","manager":"67cc8e581acf2fd6db6ef31a","name":"Test School","province":"Venezia","region":"Veneto","schoolType":"high_school"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T18:37:12.404Z"}
{"context":{"data":{"name":"Updated Name"},"id":"invalidid"},"errorMessage":"Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"","errorName":"CastError","level":"error","message":"Errore in SchoolRepository.update:","stack":"CastError: Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"\n    at ObjectId.Object.<anonymous>.ObjectId.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\objectid.js:250:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1633:15)\n    at cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\cast.js:389:32)\n    at model.Query.Object.<anonymous>.Query.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4927:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2237:10)\n    at model.Query._findOneAndUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3319:8)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:115:25)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:304:17)","timestamp":"2025-03-08T18:37:12.860Z"}
{"context":{"data":{"name":"Updated Name"},"id":"67cc8e591acf2fd6db6ef364"},"errorMessage":"School non trovato","errorName":"DocumentNotFoundError","level":"error","message":"Errore in SchoolRepository.update:","stack":"DocumentNotFoundError: School non trovato\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:126:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:320:17)","timestamp":"2025-03-08T18:37:13.074Z"}
{"context":{"role":"teacher","schoolId":"67cc8e591acf2fd6db6ef370","userId":"67cc8e591acf2fd6db6ef376"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:355:35)","timestamp":"2025-03-08T18:37:13.382Z"}
{"context":{"role":"teacher","schoolId":"67cc8e591acf2fd6db6ef388","userId":"67cc8e591acf2fd6db6ef382"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:380:17)","timestamp":"2025-03-08T18:37:13.613Z"}
{"context":{"createClasses":true,"schoolId":"67cc8e5a1acf2fd6db6ef3c7","yearData":{"createdBy":"67cc8e5a1acf2fd6db6ef3c1","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:14.338Z"}
{"context":{"createClasses":false,"schoolId":"67cc8e5a1acf2fd6db6ef3d8","yearData":{"createdBy":"67cc8e5a1acf2fd6db6ef3d2","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:14.546Z"}
{"context":{"role":"teacher","schoolId":"67cc8e5a1acf2fd6db6ef3f9","userId":"67cc8e5a1acf2fd6db6ef3f6"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:512:13)","timestamp":"2025-03-08T18:37:14.956Z"}
{"context":{"schoolId":"67cc8e5a1acf2fd6db6ef3f9","userId":"67cc8e5a1acf2fd6db6ef3f6"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:14.961Z"}
{"context":{"schoolId":"67cc8e5b1acf2fd6db6ef40f","userId":"67cc8e5a1acf2fd6db6ef409"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:15.169Z"}
{"context":{"schoolId":"67cc8e5b1acf2fd6db6ef420","userId":"67cc8e5b1acf2fd6db6ef41a"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:15.435Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8e5b1acf2fd6db6ef431","sectionName":"A","timestamp":"2025-03-08T18:37:15.691Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8e5b1acf2fd6db6ef442","sectionName":"Z","timestamp":"2025-03-08T18:37:15.963Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8e5c1acf2fd6db6ef453","sectionName":"A","timestamp":"2025-03-08T18:37:16.198Z"}
{"context":{"role":"teacher","schoolId":"67cc8e5c1acf2fd6db6ef464","userId":"67cc8e5c1acf2fd6db6ef461"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:633:13)","timestamp":"2025-03-08T18:37:16.402Z"}
{"context":{"createClasses":false,"schoolId":"67cc8e5c1acf2fd6db6ef492","yearData":{"createdBy":"67cc8e5c1acf2fd6db6ef48c","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:16.871Z"}
{"context":{"schoolId":"67cc8e5d1acf2fd6db6ef4a3","yearId":"67cc8e5d1acf2fd6db6ef4a4"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:17.087Z"}
{"context":{"institutionType":"none","schoolId":"67cc8e5d1acf2fd6db6ef4ca","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:17.544Z"}
{"context":{"institutionType":"scientific","schoolId":"67cc8e5d1acf2fd6db6ef4db","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:17.798Z"}
{"context":{"schoolId":"67cc8e5e1acf2fd6db6ef4ec"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:18.077Z"}
{"context":{"schoolId":"67cc8e5e1acf2fd6db6ef4fd"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:18.310Z"}
{"context":{"schoolId":"67cc8e5e1acf2fd6db6ef4fd"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:18.314Z"}
{"context":{"schoolId":"67cc8e5e1acf2fd6db6ef50f"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:18.536Z"}
{"context":{"schoolId":"67cc8e5e1acf2fd6db6ef52c"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:18.762Z"}
{"context":{"schoolId":"67cc8e5e1acf2fd6db6ef52c","userId":"67cc8e5e1acf2fd6db6ef529"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:18.766Z"}
{"context":{"schoolId":"67cc8e5e1acf2fd6db6ef53e","userId":"67cc8e5e1acf2fd6db6ef53b"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:18.967Z"}
{"context":{"schoolId":"67cc8e5f1acf2fd6db6ef54f"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:19.168Z"}
{"context":{"schoolId":"67cc8e5f1acf2fd6db6ef54f","userId":"67cc8e5f1acf2fd6db6ef54c"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:19.171Z"}
{"context":{"schoolId":"67cc8e5f1acf2fd6db6ef566","sectionName":"A"},"errorMessage":"Class.find(...).select is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.getStudentsBySection:","stack":"TypeError: Class.find(...).select is not a function\n    at SchoolRepository.getStudentsBySection (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:960:16)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:948:53)\n    at Promise.then.completed (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-03-08T18:37:19.372Z"}
{"context":{"schoolId":"67cc8e5f1acf2fd6db6ef576","yearId":"67cc8e5f1acf2fd6db6ef577"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:19.572Z"}
{"context":{"schoolId":"67cc8e5f1acf2fd6db6ef576","yearId":"67cc8e5f1acf2fd6db6ef577"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:19.576Z"}
{"context":{"createClasses":false,"schoolId":"67cc8e5f1acf2fd6db6ef588","yearData":{"createdBy":"67cc8e5f1acf2fd6db6ef582","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:19.778Z"}
{"context":{"schoolId":"67cc8e5f1acf2fd6db6ef599","yearId":"67cc8e5f1acf2fd6db6ef59a"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:19.986Z"}
{"context":{"schoolId":"67cc8e5f1acf2fd6db6ef599","yearId":"67cc8e5f1acf2fd6db6ef59a"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:19.989Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8e601acf2fd6db6ef5b0","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:20.199Z","yearId":"67cc8e601acf2fd6db6ef5b1"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8e601acf2fd6db6ef5c1","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:20.397Z","yearId":"67cc8e601acf2fd6db6ef5c2"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8e601acf2fd6db6ef5d2","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:20.604Z","yearId":"67cc8e601acf2fd6db6ef5d3"}
{"context":{"schoolId":"67cc8e601acf2fd6db6ef5e3"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:20.805Z"}
{"context":{"schoolId":"67cc8e601acf2fd6db6ef5f3"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:21.003Z"}
{"context":{"totalSchools":2},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.syncAssignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:37:21.676Z"}
{"context":{"data":{"address":"Via Venezia 789","defaultMaxStudentsPerClass":22,"institutionType":"scientific","manager":"67cc8f90204d0cbb2d96930f","name":"Test School","province":"Venezia","region":"Veneto","schoolType":"high_school"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T18:42:24.635Z"}
{"context":{"data":{"name":"Updated Name"},"id":"invalidid"},"errorMessage":"Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"","errorName":"CastError","level":"error","message":"Errore in SchoolRepository.update:","stack":"CastError: Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"\n    at ObjectId.Object.<anonymous>.ObjectId.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\objectid.js:250:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1633:15)\n    at cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\cast.js:389:32)\n    at model.Query.Object.<anonymous>.Query.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4927:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2237:10)\n    at model.Query._findOneAndUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3319:8)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:115:25)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:304:17)","timestamp":"2025-03-08T18:42:25.070Z"}
{"context":{"data":{"name":"Updated Name"},"id":"67cc8f91204d0cbb2d969359"},"errorMessage":"School non trovato","errorName":"DocumentNotFoundError","level":"error","message":"Errore in SchoolRepository.update:","stack":"DocumentNotFoundError: School non trovato\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:126:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:320:17)","timestamp":"2025-03-08T18:42:25.283Z"}
{"context":{"role":"teacher","schoolId":"67cc8f91204d0cbb2d969365","userId":"67cc8f91204d0cbb2d96936b"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:359:35)","timestamp":"2025-03-08T18:42:25.597Z"}
{"context":{"role":"teacher","schoolId":"67cc8f91204d0cbb2d969382","userId":"67cc8f91204d0cbb2d96937f"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:382:13)","timestamp":"2025-03-08T18:42:25.809Z"}
{"context":{"role":"teacher","schoolId":"67cc8f91204d0cbb2d969382","userId":"67cc8f91204d0cbb2d96937f"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:390:17)","timestamp":"2025-03-08T18:42:25.811Z"}
{"context":{"createClasses":true,"schoolId":"67cc8f92204d0cbb2d9693c4","yearData":{"createdBy":"67cc8f92204d0cbb2d9693be","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:26.450Z"}
{"context":{"createClasses":false,"schoolId":"67cc8f92204d0cbb2d9693d5","yearData":{"createdBy":"67cc8f92204d0cbb2d9693cf","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:26.670Z"}
{"context":{"role":"teacher","schoolId":"67cc8f93204d0cbb2d9693f6","userId":"67cc8f92204d0cbb2d9693f3"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:522:13)","timestamp":"2025-03-08T18:42:27.095Z"}
{"context":{"schoolId":"67cc8f93204d0cbb2d9693f6","userId":"67cc8f92204d0cbb2d9693f3"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:27.100Z"}
{"context":{"schoolId":"67cc8f93204d0cbb2d96940c","userId":"67cc8f93204d0cbb2d969406"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:27.302Z"}
{"context":{"schoolId":"67cc8f93204d0cbb2d96941d","userId":"67cc8f93204d0cbb2d969417"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:27.516Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8f93204d0cbb2d96942e","sectionName":"A","timestamp":"2025-03-08T18:42:27.730Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8f93204d0cbb2d96943f","sectionName":"Z","timestamp":"2025-03-08T18:42:27.946Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8f94204d0cbb2d969450","sectionName":"A","timestamp":"2025-03-08T18:42:28.158Z"}
{"context":{"role":"teacher","schoolId":"67cc8f94204d0cbb2d969461","userId":"67cc8f94204d0cbb2d96945e"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:643:13)","timestamp":"2025-03-08T18:42:28.360Z"}
{"context":{"createClasses":false,"schoolId":"67cc8f94204d0cbb2d96948f","yearData":{"createdBy":"67cc8f94204d0cbb2d969489","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:28.789Z"}
{"context":{"schoolId":"67cc8f94204d0cbb2d9694a0","yearId":"67cc8f94204d0cbb2d9694a1"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:28.993Z"}
{"context":{"institutionType":"none","schoolId":"67cc8f95204d0cbb2d9694c7","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:29.427Z"}
{"context":{"institutionType":"scientific","schoolId":"67cc8f95204d0cbb2d9694d8","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:29.630Z"}
{"context":{"schoolId":"67cc8f95204d0cbb2d9694e9"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:29.829Z"}
{"context":{"schoolId":"67cc8f96204d0cbb2d9694fa"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:30.046Z"}
{"context":{"schoolId":"67cc8f96204d0cbb2d9694fa"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:30.049Z"}
{"context":{"schoolId":"67cc8f96204d0cbb2d96950c"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:30.265Z"}
{"context":{"schoolId":"67cc8f96204d0cbb2d969529"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:30.481Z"}
{"context":{"schoolId":"67cc8f96204d0cbb2d969529","userId":"67cc8f96204d0cbb2d969526"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:30.483Z"}
{"context":{"schoolId":"67cc8f96204d0cbb2d96953b","userId":"67cc8f96204d0cbb2d969538"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:30.691Z"}
{"context":{"schoolId":"67cc8f96204d0cbb2d96954c"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:30.890Z"}
{"context":{"schoolId":"67cc8f96204d0cbb2d96954c","userId":"67cc8f96204d0cbb2d969549"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:30.892Z"}
{"context":{"schoolId":"67cc8f97204d0cbb2d969563","sectionName":"A"},"errorMessage":"Class.find(...).select is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.getStudentsBySection:","stack":"TypeError: Class.find(...).select is not a function\n    at SchoolRepository.getStudentsBySection (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:960:16)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:958:53)\n    at Promise.then.completed (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-03-08T18:42:31.102Z"}
{"context":{"schoolId":"67cc8f97204d0cbb2d969573","yearId":"67cc8f97204d0cbb2d969574"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:31.311Z"}
{"context":{"schoolId":"67cc8f97204d0cbb2d969573","yearId":"67cc8f97204d0cbb2d969574"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:31.315Z"}
{"context":{"createClasses":false,"schoolId":"67cc8f97204d0cbb2d969585","yearData":{"createdBy":"67cc8f97204d0cbb2d96957f","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:31.515Z"}
{"context":{"schoolId":"67cc8f97204d0cbb2d969596","yearId":"67cc8f97204d0cbb2d969597"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:31.723Z"}
{"context":{"schoolId":"67cc8f97204d0cbb2d969596","yearId":"67cc8f97204d0cbb2d969597"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:31.726Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8f97204d0cbb2d9695ad","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:31.931Z","yearId":"67cc8f97204d0cbb2d9695ae"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8f98204d0cbb2d9695be","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:32.132Z","yearId":"67cc8f98204d0cbb2d9695bf"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8f98204d0cbb2d9695cf","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:32.339Z","yearId":"67cc8f98204d0cbb2d9695d0"}
{"context":{"schoolId":"67cc8f98204d0cbb2d9695e0"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:32.544Z"}
{"context":{"schoolId":"67cc8f98204d0cbb2d9695f0"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:32.740Z"}
{"context":{"totalSchools":2},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.syncAssignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:42:33.422Z"}
{"context":{"data":{"address":"Via Venezia 789","defaultMaxStudentsPerClass":22,"institutionType":"scientific","manager":"67cc8fc1731e8c3f81975c75","name":"Test School","province":"Venezia","region":"Veneto","schoolType":"high_school"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T18:43:14.035Z"}
{"context":{"data":{"name":"Updated Name"},"id":"invalidid"},"errorMessage":"Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"","errorName":"CastError","level":"error","message":"Errore in SchoolRepository.update:","stack":"CastError: Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"\n    at ObjectId.Object.<anonymous>.ObjectId.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\objectid.js:250:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1633:15)\n    at cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\cast.js:389:32)\n    at model.Query.Object.<anonymous>.Query.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4927:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2237:10)\n    at model.Query._findOneAndUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3319:8)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:115:25)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:304:17)","timestamp":"2025-03-08T18:43:14.597Z"}
{"context":{"data":{"name":"Updated Name"},"id":"67cc8fc2731e8c3f81975cbf"},"errorMessage":"School non trovato","errorName":"DocumentNotFoundError","level":"error","message":"Errore in SchoolRepository.update:","stack":"DocumentNotFoundError: School non trovato\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:126:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:320:17)","timestamp":"2025-03-08T18:43:14.800Z"}
{"context":{"role":"teacher","schoolId":"67cc8fc3731e8c3f81975ccb","userId":"67cc8fc3731e8c3f81975cd1"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:359:35)","timestamp":"2025-03-08T18:43:15.112Z"}
{"context":{"role":"teacher","schoolId":"67cc8fc3731e8c3f81975ce8","userId":"67cc8fc3731e8c3f81975ce5"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:382:13)","timestamp":"2025-03-08T18:43:15.331Z"}
{"context":{"role":"teacher","schoolId":"67cc8fc3731e8c3f81975ce8","userId":"67cc8fc3731e8c3f81975ce5"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:390:17)","timestamp":"2025-03-08T18:43:15.333Z"}
{"context":{"createClasses":true,"schoolId":"67cc8fc3731e8c3f81975d2a","yearData":{"createdBy":"67cc8fc3731e8c3f81975d24","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:15.983Z"}
{"context":{"createClasses":false,"schoolId":"67cc8fc4731e8c3f81975d3b","yearData":{"createdBy":"67cc8fc3731e8c3f81975d35","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:16.206Z"}
{"context":{"role":"teacher","schoolId":"67cc8fc4731e8c3f81975d5c","userId":"67cc8fc4731e8c3f81975d59"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:522:13)","timestamp":"2025-03-08T18:43:16.667Z"}
{"context":{"schoolId":"67cc8fc4731e8c3f81975d5c","userId":"67cc8fc4731e8c3f81975d59"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:16.674Z"}
{"context":{"schoolId":"67cc8fc4731e8c3f81975d72","userId":"67cc8fc4731e8c3f81975d6c"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:16.877Z"}
{"context":{"schoolId":"67cc8fc5731e8c3f81975d83","userId":"67cc8fc4731e8c3f81975d7d"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:17.096Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8fc5731e8c3f81975d94","sectionName":"A","timestamp":"2025-03-08T18:43:17.310Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8fc5731e8c3f81975da5","sectionName":"Z","timestamp":"2025-03-08T18:43:17.526Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc8fc5731e8c3f81975db6","sectionName":"A","timestamp":"2025-03-08T18:43:17.743Z"}
{"context":{"role":"teacher","schoolId":"67cc8fc5731e8c3f81975dc7","userId":"67cc8fc5731e8c3f81975dc4"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:643:13)","timestamp":"2025-03-08T18:43:17.948Z"}
{"context":{"createClasses":false,"schoolId":"67cc8fc6731e8c3f81975df5","yearData":{"createdBy":"67cc8fc6731e8c3f81975def","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:18.392Z"}
{"context":{"schoolId":"67cc8fc6731e8c3f81975e06","yearId":"67cc8fc6731e8c3f81975e07"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:18.596Z"}
{"context":{"institutionType":"none","schoolId":"67cc8fc7731e8c3f81975e2d","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:19.026Z"}
{"context":{"institutionType":"scientific","schoolId":"67cc8fc7731e8c3f81975e3e","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:19.239Z"}
{"context":{"schoolId":"67cc8fc7731e8c3f81975e4f"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:19.440Z"}
{"context":{"schoolId":"67cc8fc7731e8c3f81975e60"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:19.643Z"}
{"context":{"schoolId":"67cc8fc7731e8c3f81975e60"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:19.646Z"}
{"context":{"schoolId":"67cc8fc7731e8c3f81975e72"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:19.854Z"}
{"context":{"schoolId":"67cc8fc8731e8c3f81975e8f"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:20.063Z"}
{"context":{"schoolId":"67cc8fc8731e8c3f81975e8f","userId":"67cc8fc7731e8c3f81975e8c"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:20.068Z"}
{"context":{"schoolId":"67cc8fc8731e8c3f81975ea1","userId":"67cc8fc8731e8c3f81975e9e"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:20.267Z"}
{"context":{"schoolId":"67cc8fc8731e8c3f81975eb2"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:20.474Z"}
{"context":{"schoolId":"67cc8fc8731e8c3f81975eb2","userId":"67cc8fc8731e8c3f81975eaf"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:20.477Z"}
{"context":{"schoolId":"67cc8fc8731e8c3f81975ec9","sectionName":"A"},"errorMessage":"Class.find(...).select is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.getStudentsBySection:","stack":"TypeError: Class.find(...).select is not a function\n    at SchoolRepository.getStudentsBySection (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:960:16)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:958:53)\n    at Promise.then.completed (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-03-08T18:43:20.677Z"}
{"context":{"schoolId":"67cc8fc8731e8c3f81975ed9","yearId":"67cc8fc8731e8c3f81975eda"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:20.878Z"}
{"context":{"schoolId":"67cc8fc8731e8c3f81975ed9","yearId":"67cc8fc8731e8c3f81975eda"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:20.881Z"}
{"context":{"createClasses":false,"schoolId":"67cc8fc9731e8c3f81975eeb","yearData":{"createdBy":"67cc8fc8731e8c3f81975ee5","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:21.084Z"}
{"context":{"schoolId":"67cc8fc9731e8c3f81975efc","yearId":"67cc8fc9731e8c3f81975efd"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:21.290Z"}
{"context":{"schoolId":"67cc8fc9731e8c3f81975efc","yearId":"67cc8fc9731e8c3f81975efd"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:21.292Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8fc9731e8c3f81975f13","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:21.506Z","yearId":"67cc8fc9731e8c3f81975f14"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8fc9731e8c3f81975f24","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:21.705Z","yearId":"67cc8fc9731e8c3f81975f25"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc8fc9731e8c3f81975f35","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:21.911Z","yearId":"67cc8fc9731e8c3f81975f36"}
{"context":{"schoolId":"67cc8fca731e8c3f81975f46"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:22.121Z"}
{"context":{"schoolId":"67cc8fca731e8c3f81975f56"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:22.327Z"}
{"context":{"totalSchools":2},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.syncAssignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:43:22.936Z"}
{"context":{"data":{"address":"Via Venezia 789","defaultMaxStudentsPerClass":22,"institutionType":"scientific","manager":"67cc91ecead58948416355de","name":"Test School","province":"Venezia","region":"Veneto","schoolType":"high_school"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T18:52:28.516Z"}
{"context":{"data":{"name":"Updated Name"},"id":"invalidid"},"errorMessage":"Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"","errorName":"CastError","level":"error","message":"Errore in SchoolRepository.update:","stack":"CastError: Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"\n    at ObjectId.Object.<anonymous>.ObjectId.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\objectid.js:250:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1633:15)\n    at cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\cast.js:389:32)\n    at model.Query.Object.<anonymous>.Query.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4927:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2237:10)\n    at model.Query._findOneAndUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3319:8)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:115:25)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:304:17)","timestamp":"2025-03-08T18:52:28.930Z"}
{"context":{"data":{"name":"Updated Name"},"id":"67cc91edead5894841635628"},"errorMessage":"School non trovato","errorName":"DocumentNotFoundError","level":"error","message":"Errore in SchoolRepository.update:","stack":"DocumentNotFoundError: School non trovato\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:126:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:320:17)","timestamp":"2025-03-08T18:52:29.124Z"}
{"context":{"role":"teacher","schoolId":"67cc91edead5894841635634","userId":"67cc91edead589484163563a"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:355:28)","timestamp":"2025-03-08T18:52:29.389Z"}
{"context":{"role":"teacher","schoolId":"67cc91edead589484163564c","userId":"67cc91edead5894841635649"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:384:13)","timestamp":"2025-03-08T18:52:29.573Z"}
{"context":{"role":"teacher","schoolId":"67cc91edead589484163564c","userId":"67cc91edead5894841635649"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:392:17)","timestamp":"2025-03-08T18:52:29.574Z"}
{"context":{"createClasses":true,"schoolId":"67cc91eeead589484163568e","yearData":{"createdBy":"67cc91edead5894841635688","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:30.155Z"}
{"context":{"createClasses":false,"schoolId":"67cc91eeead589484163569f","yearData":{"createdBy":"67cc91eeead5894841635699","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:30.359Z"}
{"context":{"role":"teacher","schoolId":"67cc91eeead58948416356c0","userId":"67cc91eeead58948416356bd"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:527:13)","timestamp":"2025-03-08T18:52:30.778Z"}
{"context":{"schoolId":"67cc91eeead58948416356c0","userId":"67cc91eeead58948416356bd"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:30.783Z"}
{"context":{"schoolId":"67cc91eeead58948416356d6","userId":"67cc91eeead58948416356d0"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:30.993Z"}
{"context":{"schoolId":"67cc91efead58948416356e7","userId":"67cc91efead58948416356e1"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:31.195Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc91efead58948416356f8","sectionName":"A","timestamp":"2025-03-08T18:52:31.414Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc91efead5894841635709","sectionName":"Z","timestamp":"2025-03-08T18:52:31.626Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc91efead589484163571a","sectionName":"A","timestamp":"2025-03-08T18:52:31.826Z"}
{"context":{"role":"teacher","schoolId":"67cc91f0ead589484163572b","userId":"67cc91efead5894841635728"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:648:13)","timestamp":"2025-03-08T18:52:32.036Z"}
{"context":{"createClasses":false,"schoolId":"67cc91f0ead5894841635759","yearData":{"createdBy":"67cc91f0ead5894841635753","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:32.479Z"}
{"context":{"schoolId":"67cc91f0ead589484163576a","yearId":"67cc91f0ead589484163576b"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:32.677Z"}
{"context":{"institutionType":"none","schoolId":"67cc91f1ead5894841635791","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:33.091Z"}
{"context":{"institutionType":"scientific","schoolId":"67cc91f1ead58948416357a2","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:33.281Z"}
{"context":{"schoolId":"67cc91f1ead58948416357b3"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:33.480Z"}
{"context":{"schoolId":"67cc91f1ead58948416357c4"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:33.664Z"}
{"context":{"schoolId":"67cc91f1ead58948416357c4"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:33.667Z"}
{"context":{"schoolId":"67cc91f1ead58948416357d6"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:33.860Z"}
{"context":{"schoolId":"67cc91f2ead58948416357f3"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:34.082Z"}
{"context":{"schoolId":"67cc91f2ead58948416357f3","userId":"67cc91f1ead58948416357f0"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:34.085Z"}
{"context":{"schoolId":"67cc91f2ead5894841635805","userId":"67cc91f2ead5894841635802"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:34.294Z"}
{"context":{"schoolId":"67cc91f2ead5894841635816"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:34.518Z"}
{"context":{"schoolId":"67cc91f2ead5894841635816","userId":"67cc91f2ead5894841635813"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:34.523Z"}
{"context":{"schoolId":"67cc91f2ead589484163582d","sectionName":"A"},"errorMessage":"Class.find(...).select is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.getStudentsBySection:","stack":"TypeError: Class.find(...).select is not a function\n    at SchoolRepository.getStudentsBySection (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:966:16)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:963:53)\n    at Promise.then.completed (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-03-08T18:52:34.751Z"}
{"context":{"schoolId":"67cc91f2ead589484163583d","yearId":"67cc91f2ead589484163583e"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:34.986Z"}
{"context":{"schoolId":"67cc91f2ead589484163583d","yearId":"67cc91f2ead589484163583e"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:34.989Z"}
{"context":{"createClasses":false,"schoolId":"67cc91f3ead589484163584f","yearData":{"createdBy":"67cc91f2ead5894841635849","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:35.172Z"}
{"context":{"schoolId":"67cc91f3ead5894841635860","yearId":"67cc91f3ead5894841635861"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:35.357Z"}
{"context":{"schoolId":"67cc91f3ead5894841635860","yearId":"67cc91f3ead5894841635861"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:35.360Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc91f3ead5894841635877","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:35.548Z","yearId":"67cc91f3ead5894841635878"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc91f3ead5894841635888","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:35.733Z","yearId":"67cc91f3ead5894841635889"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc91f3ead5894841635899","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:35.917Z","yearId":"67cc91f3ead589484163589a"}
{"context":{"schoolId":"67cc91f4ead58948416358aa"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:36.106Z"}
{"context":{"schoolId":"67cc91f4ead58948416358ba"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:36.298Z"}
{"context":{"totalSchools":2},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.syncAssignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T18:52:36.939Z"}
{"level":"error","message":"Ruolo non valido. Valori accettati: teacher, admin","metadata":{},"timestamp":"2025-03-08T18:53:15.934Z"}
{"context":{"role":"admin","schoolId":"679fdad474255ebc8afab683","userId":"67c02995250c5746c3d9647c"},"errorMessage":"this.findById(...).session is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.addUser:","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.addUser (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:185:58)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async SchoolController.addUserToSchool (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\schoolController.js:757:35)","timestamp":"2025-03-08T18:57:03.109Z"}
{"level":"error","message":"Ruolo non valido. Valori accettati: teacher, admin","metadata":{},"timestamp":"2025-03-08T19:06:05.343Z"}
{"level":"error","message":"Ruolo non valido. Valori accettati: teacher, admin","metadata":{},"timestamp":"2025-03-08T19:07:35.389Z"}
{"level":"error","message":"Ruolo non valido. Valori accettati: teacher, admin","metadata":{},"timestamp":"2025-03-08T19:08:05.974Z"}
{"level":"error","message":"Ruolo non valido. Valori accettati: teacher, admin","metadata":{},"timestamp":"2025-03-08T19:09:29.326Z"}
{"level":"error","message":"Ruolo non valido. Valori accettati: teacher, admin","metadata":{},"timestamp":"2025-03-08T19:12:38.228Z"}
{"error":"Caused by :: Write conflict during plan execution and yielding is disabled. :: Please retry your operation or multi-document transaction.","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"679fdad474255ebc8afab683","timestamp":"2025-03-08T19:13:13.739Z","userId":"67c0c560285a82c16495c615"}
{"$clusterTime":{"clusterTime":{"$timestamp":"7479518871188144260"},"signature":{"hash":"VD+ZmWeSvQMwRlTIsg/ApZSTdv0=","keyId":{"high":1731944570,"low":59,"unsigned":false}}},"code":112,"codeName":"WriteConflict","level":"error","message":"Error adding user to school","ok":0,"operationTime":{"$timestamp":"7479518871188144260"},"timestamp":"2025-03-08T19:13:13.740Z"}
{"context":{"userData":{"email":"test@example.com","firstName":"Duplicate","lastName":"User","password":"[REDACTED]","role":"teacher","sessionTokens":[{"createdAt":"2025-03-08T19:17:53.777Z","expiresAt":"2025-03-09T19:17:53.777Z","ipAddress":"127.0.0.1","lastUsedAt":"2025-03-08T19:17:53.777Z","token":"da2d69ef-c641-4750-b0e4-4a39197d14d3-duplicate","userAgent":"Test Browser"}],"status":"active"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.users index: email_1 dup key: { email: \"test@example.com\" }","errorName":"MongoServerError","level":"error","message":"Errore in UserRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.users index: email_1 dup key: { email: \"test@example.com\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T19:17:53.895Z"}
{"context":{"data":{"address":"Via Venezia 789","defaultMaxStudentsPerClass":22,"institutionType":"scientific","manager":"67cc97f0f3e461b3bc18add3","name":"Test School","province":"Venezia","region":"Veneto","schoolType":"high_school"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T19:18:08.909Z"}
{"context":{"data":{"name":"Updated Name"},"id":"invalidid"},"errorMessage":"Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"","errorName":"CastError","level":"error","message":"Errore in SchoolRepository.update:","stack":"CastError: Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"\n    at ObjectId.Object.<anonymous>.ObjectId.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\objectid.js:250:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1633:15)\n    at cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\cast.js:389:32)\n    at model.Query.Object.<anonymous>.Query.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4927:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2237:10)\n    at model.Query._findOneAndUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3319:8)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:115:25)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:304:17)","timestamp":"2025-03-08T19:18:09.345Z"}
{"context":{"data":{"name":"Updated Name"},"id":"67cc97f1f3e461b3bc18ae1d"},"errorMessage":"School non trovato","errorName":"DocumentNotFoundError","level":"error","message":"Errore in SchoolRepository.update:","stack":"DocumentNotFoundError: School non trovato\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:126:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:320:17)","timestamp":"2025-03-08T19:18:09.554Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc97f1f3e461b3bc18ae29","timestamp":"2025-03-08T19:18:09.956Z","userId":"67cc97f1f3e461b3bc18ae2f"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc97f2f3e461b3bc18ae3d","timestamp":"2025-03-08T19:18:10.279Z","userId":"67cc97f2f3e461b3bc18ae43"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc97f2f3e461b3bc18ae50","timestamp":"2025-03-08T19:18:10.484Z","userId":"67cc97f2f3e461b3bc18ae4d"}
{"context":{"createClasses":true,"schoolId":"67cc97f3f3e461b3bc18ae89","yearData":{"createdBy":"67cc97f2f3e461b3bc18ae83","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:11.115Z"}
{"context":{"createClasses":false,"schoolId":"67cc97f3f3e461b3bc18ae9a","yearData":{"createdBy":"67cc97f3f3e461b3bc18ae94","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:11.329Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc97f3f3e461b3bc18aebb","timestamp":"2025-03-08T19:18:11.736Z","userId":"67cc97f3f3e461b3bc18aeb8"}
{"context":{"schoolId":"67cc97f3f3e461b3bc18aecc","userId":"67cc97f3f3e461b3bc18aec6"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:11.953Z"}
{"context":{"schoolId":"67cc97f4f3e461b3bc18aedd","userId":"67cc97f3f3e461b3bc18aed7"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:12.167Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc97f4f3e461b3bc18aeee","sectionName":"A","timestamp":"2025-03-08T19:18:12.370Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc97f4f3e461b3bc18aeff","sectionName":"Z","timestamp":"2025-03-08T19:18:12.582Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc97f4f3e461b3bc18af10","sectionName":"A","timestamp":"2025-03-08T19:18:12.785Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc97f4f3e461b3bc18af21","timestamp":"2025-03-08T19:18:12.993Z","userId":"67cc97f4f3e461b3bc18af1e"}
{"context":{"createClasses":false,"schoolId":"67cc97f5f3e461b3bc18af48","yearData":{"createdBy":"67cc97f5f3e461b3bc18af42","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:13.439Z"}
{"context":{"schoolId":"67cc97f5f3e461b3bc18af59","yearId":"67cc97f5f3e461b3bc18af5a"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:13.643Z"}
{"context":{"institutionType":"none","schoolId":"67cc97f6f3e461b3bc18af80","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:14.066Z"}
{"context":{"institutionType":"scientific","schoolId":"67cc97f6f3e461b3bc18af91","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:14.274Z"}
{"context":{"schoolId":"67cc97f6f3e461b3bc18afa2"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:14.479Z"}
{"context":{"schoolId":"67cc97f6f3e461b3bc18afb3"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:14.679Z"}
{"context":{"schoolId":"67cc97f6f3e461b3bc18afb3"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:14.682Z"}
{"context":{"schoolId":"67cc97f6f3e461b3bc18afc5"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:14.884Z"}
{"context":{"schoolId":"67cc97f7f3e461b3bc18afe2"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:15.091Z"}
{"context":{"schoolId":"67cc97f7f3e461b3bc18afe2","userId":"67cc97f6f3e461b3bc18afdf"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:15.096Z"}
{"context":{"schoolId":"67cc97f7f3e461b3bc18aff4","userId":"67cc97f7f3e461b3bc18aff1"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:15.297Z"}
{"context":{"schoolId":"67cc97f7f3e461b3bc18b005"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:15.496Z"}
{"context":{"schoolId":"67cc97f7f3e461b3bc18b005","userId":"67cc97f7f3e461b3bc18b002"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:15.499Z"}
{"context":{"schoolId":"67cc97f7f3e461b3bc18b01c","sectionName":"A"},"errorMessage":"Class.find(...).select is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.getStudentsBySection:","stack":"TypeError: Class.find(...).select is not a function\n    at SchoolRepository.getStudentsBySection (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:1027:16)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:995:53)\n    at Promise.then.completed (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-03-08T19:18:15.712Z"}
{"context":{"schoolId":"67cc97f7f3e461b3bc18b02c","yearId":"67cc97f7f3e461b3bc18b02d"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:15.914Z"}
{"context":{"schoolId":"67cc97f7f3e461b3bc18b02c","yearId":"67cc97f7f3e461b3bc18b02d"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:15.916Z"}
{"context":{"createClasses":false,"schoolId":"67cc97f8f3e461b3bc18b03e","yearData":{"createdBy":"67cc97f7f3e461b3bc18b038","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:16.117Z"}
{"context":{"schoolId":"67cc97f8f3e461b3bc18b04f","yearId":"67cc97f8f3e461b3bc18b050"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:16.322Z"}
{"context":{"schoolId":"67cc97f8f3e461b3bc18b04f","yearId":"67cc97f8f3e461b3bc18b050"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:16.326Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc97f8f3e461b3bc18b066","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:16.532Z","yearId":"67cc97f8f3e461b3bc18b067"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc97f8f3e461b3bc18b077","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:16.733Z","yearId":"67cc97f8f3e461b3bc18b078"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc97f8f3e461b3bc18b088","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:16.935Z","yearId":"67cc97f8f3e461b3bc18b089"}
{"context":{"schoolId":"67cc97f9f3e461b3bc18b099"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:17.137Z"}
{"context":{"schoolId":"67cc97f9f3e461b3bc18b0a9"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:17.346Z"}
{"context":{"totalSchools":2},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.syncAssignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:18:17.944Z"}
{"context":{"data":{"address":"Via Venezia 789","defaultMaxStudentsPerClass":22,"institutionType":"scientific","manager":"67cc989e845a06112d0bd3d5","name":"Test School","province":"Venezia","region":"Veneto","schoolType":"high_school"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T19:21:02.728Z"}
{"context":{"data":{"name":"Updated Name"},"id":"invalidid"},"errorMessage":"Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"","errorName":"CastError","level":"error","message":"Errore in SchoolRepository.update:","stack":"CastError: Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"\n    at ObjectId.Object.<anonymous>.ObjectId.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\objectid.js:250:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1633:15)\n    at cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\cast.js:389:32)\n    at model.Query.Object.<anonymous>.Query.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4927:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2237:10)\n    at model.Query._findOneAndUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3319:8)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:115:25)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:304:17)","timestamp":"2025-03-08T19:21:03.163Z"}
{"context":{"data":{"name":"Updated Name"},"id":"67cc989f845a06112d0bd41f"},"errorMessage":"School non trovato","errorName":"DocumentNotFoundError","level":"error","message":"Errore in SchoolRepository.update:","stack":"DocumentNotFoundError: School non trovato\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:126:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:320:17)","timestamp":"2025-03-08T19:21:03.374Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc989f845a06112d0bd42b","timestamp":"2025-03-08T19:21:03.678Z","userId":"67cc989f845a06112d0bd431"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc989f845a06112d0bd43f","timestamp":"2025-03-08T19:21:03.996Z","userId":"67cc989f845a06112d0bd445"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc98a0845a06112d0bd452","timestamp":"2025-03-08T19:21:04.199Z","userId":"67cc98a0845a06112d0bd44f"}
{"context":{"createClasses":true,"schoolId":"67cc98a0845a06112d0bd48b","yearData":{"createdBy":"67cc98a0845a06112d0bd485","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:04.832Z"}
{"context":{"createClasses":false,"schoolId":"67cc98a1845a06112d0bd49c","yearData":{"createdBy":"67cc98a0845a06112d0bd496","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:05.051Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc98a1845a06112d0bd4bd","timestamp":"2025-03-08T19:21:05.463Z","userId":"67cc98a1845a06112d0bd4ba"}
{"context":{"schoolId":"67cc98a1845a06112d0bd4ce","userId":"67cc98a1845a06112d0bd4c8"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:05.676Z"}
{"context":{"schoolId":"67cc98a1845a06112d0bd4df","userId":"67cc98a1845a06112d0bd4d9"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:05.888Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc98a2845a06112d0bd4f0","sectionName":"A","timestamp":"2025-03-08T19:21:06.097Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc98a2845a06112d0bd501","sectionName":"Z","timestamp":"2025-03-08T19:21:06.306Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc98a2845a06112d0bd512","sectionName":"A","timestamp":"2025-03-08T19:21:06.513Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc98a2845a06112d0bd523","timestamp":"2025-03-08T19:21:06.724Z","userId":"67cc98a2845a06112d0bd520"}
{"context":{"createClasses":false,"schoolId":"67cc98a3845a06112d0bd54a","yearData":{"createdBy":"67cc98a2845a06112d0bd544","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:07.143Z"}
{"context":{"schoolId":"67cc98a3845a06112d0bd55b","yearId":"67cc98a3845a06112d0bd55c"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:07.354Z"}
{"context":{"schoolId":"67cc98a3845a06112d0bd571","yearId":"67cc98a3845a06112d0bd577"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:07.578Z"}
{"context":{"schoolId":"67cc98a3845a06112d0bd583","yearId":"67cc98a3845a06112d0bd584"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:07.793Z"}
{"context":{"institutionType":"none","schoolId":"67cc98a4845a06112d0bd5aa","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:08.205Z"}
{"context":{"institutionType":"scientific","schoolId":"67cc98a4845a06112d0bd5bb","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:08.408Z"}
{"context":{"schoolId":"67cc98a4845a06112d0bd5cc"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:08.615Z"}
{"context":{"schoolId":"67cc98a4845a06112d0bd5dd"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:08.821Z"}
{"context":{"schoolId":"67cc98a4845a06112d0bd5dd"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:08.823Z"}
{"context":{"schoolId":"67cc98a5845a06112d0bd5ef"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:09.029Z"}
{"context":{"schoolId":"67cc98a5845a06112d0bd60c"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:09.240Z"}
{"context":{"schoolId":"67cc98a5845a06112d0bd60c","userId":"67cc98a5845a06112d0bd609"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:09.243Z"}
{"context":{"schoolId":"67cc98a5845a06112d0bd61e","userId":"67cc98a5845a06112d0bd61b"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:09.445Z"}
{"context":{"schoolId":"67cc98a5845a06112d0bd62f"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:09.655Z"}
{"context":{"schoolId":"67cc98a5845a06112d0bd62f","userId":"67cc98a5845a06112d0bd62c"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:09.658Z"}
{"context":{"schoolId":"67cc98a5845a06112d0bd646","sectionName":"A"},"errorMessage":"Class.find(...).select is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.getStudentsBySection:","stack":"TypeError: Class.find(...).select is not a function\n    at SchoolRepository.getStudentsBySection (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:1027:16)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:1030:53)\n    at Promise.then.completed (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-03-08T19:21:09.862Z"}
{"context":{"schoolId":"67cc98a6845a06112d0bd656","yearId":"67cc98a6845a06112d0bd657"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:10.073Z"}
{"context":{"schoolId":"67cc98a6845a06112d0bd656","yearId":"67cc98a6845a06112d0bd657"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:10.076Z"}
{"context":{"createClasses":false,"schoolId":"67cc98a6845a06112d0bd668","yearData":{"createdBy":"67cc98a6845a06112d0bd662","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:10.292Z"}
{"context":{"schoolId":"67cc98a6845a06112d0bd679","yearId":"67cc98a6845a06112d0bd67a"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:10.503Z"}
{"context":{"schoolId":"67cc98a6845a06112d0bd679","yearId":"67cc98a6845a06112d0bd67a"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:10.506Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc98a6845a06112d0bd690","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:10.721Z","yearId":"67cc98a6845a06112d0bd691"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc98a6845a06112d0bd6a1","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:10.923Z","yearId":"67cc98a6845a06112d0bd6a2"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc98a7845a06112d0bd6b2","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:11.140Z","yearId":"67cc98a7845a06112d0bd6b3"}
{"context":{"schoolId":"67cc98a7845a06112d0bd6c3"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:11.348Z"}
{"context":{"schoolId":"67cc98a7845a06112d0bd6d3"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:11.553Z"}
{"context":{"totalSchools":2},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.syncAssignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:21:12.187Z"}
{"context":{"criteria":{"name":"Test School"},"options":{}},"errorMessage":"criterias is not defined","errorName":"ReferenceError","level":"error","message":"Errore in SchoolRepository.findOne:","stack":"ReferenceError: criterias is not defined\n    at SchoolRepository.findOne (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:28:44)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:158:51)\n    at Promise.then.completed (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-03-08T19:42:52.431Z"}
{"context":{"criteria":{"name":"Non-existent School"},"options":{}},"errorMessage":"criterias is not defined","errorName":"ReferenceError","level":"error","message":"Errore in SchoolRepository.findOne:","stack":"ReferenceError: criterias is not defined\n    at SchoolRepository.findOne (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:28:44)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:165:51)\n    at Promise.then.completed (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-03-08T19:42:52.903Z"}
{"context":{"criteria":{"_id":"67cc9dbdf8aad54b66f36b47"},"options":{"populate":"manager"}},"errorMessage":"criterias is not defined","errorName":"ReferenceError","level":"error","message":"Errore in SchoolRepository.findOne:","stack":"ReferenceError: criterias is not defined\n    at SchoolRepository.findOne (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:28:44)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:171:51)\n    at Promise.then.completed (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-03-08T19:42:53.148Z"}
{"context":{"data":{"address":"Via Venezia 789","defaultMaxStudentsPerClass":22,"institutionType":"scientific","manager":"67cc9dbef8aad54b66f36bad","name":"Test School","province":"Venezia","region":"Veneto","schoolType":"high_school"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T19:42:54.489Z"}
{"context":{"data":{"name":"Updated Name"},"id":"invalidid"},"errorMessage":"Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"","errorName":"CastError","level":"error","message":"Errore in SchoolRepository.update:","stack":"CastError: Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"\n    at ObjectId.Object.<anonymous>.ObjectId.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\objectid.js:250:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1633:15)\n    at cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\cast.js:389:32)\n    at model.Query.Object.<anonymous>.Query.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4927:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2237:10)\n    at model.Query._findOneAndUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3319:8)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:115:25)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:304:17)","timestamp":"2025-03-08T19:42:54.943Z"}
{"context":{"data":{"name":"Updated Name"},"id":"67cc9dbff8aad54b66f36bf7"},"errorMessage":"School non trovato","errorName":"DocumentNotFoundError","level":"error","message":"Errore in SchoolRepository.update:","stack":"DocumentNotFoundError: School non trovato\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:126:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:320:17)","timestamp":"2025-03-08T19:42:55.152Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc9dbff8aad54b66f36c03","timestamp":"2025-03-08T19:42:55.471Z","userId":"67cc9dbff8aad54b66f36c09"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc9dbff8aad54b66f36c17","timestamp":"2025-03-08T19:42:55.790Z","userId":"67cc9dbff8aad54b66f36c1d"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc9dbff8aad54b66f36c2a","timestamp":"2025-03-08T19:42:56.007Z","userId":"67cc9dbff8aad54b66f36c27"}
{"context":{"createClasses":true,"schoolId":"67cc9dc0f8aad54b66f36c63","yearData":{"createdBy":"67cc9dc0f8aad54b66f36c5d","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:42:56.624Z"}
{"context":{"createClasses":false,"schoolId":"67cc9dc0f8aad54b66f36c74","yearData":{"createdBy":"67cc9dc0f8aad54b66f36c6e","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:42:56.826Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc9dc1f8aad54b66f36c95","timestamp":"2025-03-08T19:42:57.228Z","userId":"67cc9dc1f8aad54b66f36c92"}
{"context":{"schoolId":"67cc9dc1f8aad54b66f36ca6","userId":"67cc9dc1f8aad54b66f36ca0"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:42:57.438Z"}
{"context":{"schoolId":"67cc9dc1f8aad54b66f36cb7","userId":"67cc9dc1f8aad54b66f36cb1"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:42:57.648Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc9dc1f8aad54b66f36cc8","sectionName":"A","timestamp":"2025-03-08T19:42:57.853Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc9dc2f8aad54b66f36cd9","sectionName":"Z","timestamp":"2025-03-08T19:42:58.072Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc9dc2f8aad54b66f36cea","sectionName":"A","timestamp":"2025-03-08T19:42:58.275Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc9dc2f8aad54b66f36cfb","timestamp":"2025-03-08T19:42:58.476Z","userId":"67cc9dc2f8aad54b66f36cf8"}
{"context":{"createClasses":false,"schoolId":"67cc9dc2f8aad54b66f36d22","yearData":{"createdBy":"67cc9dc2f8aad54b66f36d1c","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:42:58.885Z"}
{"context":{"schoolId":"67cc9dc3f8aad54b66f36d33","yearId":"67cc9dc3f8aad54b66f36d34"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:42:59.087Z"}
{"context":{"schoolId":"67cc9dc3f8aad54b66f36d49","yearId":"67cc9dc3f8aad54b66f36d4f"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:42:59.285Z"}
{"context":{"schoolId":"67cc9dc3f8aad54b66f36d5b","yearId":"67cc9dc3f8aad54b66f36d5c"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:42:59.486Z"}
{"context":{"institutionType":"none","schoolId":"67cc9dc3f8aad54b66f36d82","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:42:59.888Z"}
{"context":{"institutionType":"scientific","schoolId":"67cc9dc4f8aad54b66f36d93","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:00.108Z"}
{"context":{"schoolId":"67cc9dc4f8aad54b66f36da4"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:00.331Z"}
{"context":{"schoolId":"67cc9dc4f8aad54b66f36db5"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:00.528Z"}
{"context":{"schoolId":"67cc9dc4f8aad54b66f36db5"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:00.531Z"}
{"context":{"schoolId":"67cc9dc4f8aad54b66f36dc7"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:00.732Z"}
{"context":{"schoolId":"67cc9dc4f8aad54b66f36de4"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:00.946Z"}
{"context":{"schoolId":"67cc9dc4f8aad54b66f36de4","userId":"67cc9dc4f8aad54b66f36de1"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:00.950Z"}
{"context":{"schoolId":"67cc9dc5f8aad54b66f36df6","userId":"67cc9dc5f8aad54b66f36df3"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:01.153Z"}
{"context":{"schoolId":"67cc9dc5f8aad54b66f36e07"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:01.351Z"}
{"context":{"schoolId":"67cc9dc5f8aad54b66f36e07","userId":"67cc9dc5f8aad54b66f36e04"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:01.354Z"}
{"context":{"schoolId":"67cc9dc5f8aad54b66f36e1e","sectionName":"A"},"errorMessage":"Class.find(...).select is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.getStudentsBySection:","stack":"TypeError: Class.find(...).select is not a function\n    at SchoolRepository.getStudentsBySection (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:1027:16)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:1030:53)\n    at Promise.then.completed (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-03-08T19:43:01.552Z"}
{"context":{"schoolId":"67cc9dc5f8aad54b66f36e2e","yearId":"67cc9dc5f8aad54b66f36e2f"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:01.754Z"}
{"context":{"schoolId":"67cc9dc5f8aad54b66f36e2e","yearId":"67cc9dc5f8aad54b66f36e2f"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:01.758Z"}
{"context":{"createClasses":false,"schoolId":"67cc9dc5f8aad54b66f36e40","yearData":{"createdBy":"67cc9dc5f8aad54b66f36e3a","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:01.998Z"}
{"context":{"schoolId":"67cc9dc6f8aad54b66f36e51","yearId":"67cc9dc6f8aad54b66f36e52"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:02.198Z"}
{"context":{"schoolId":"67cc9dc6f8aad54b66f36e51","yearId":"67cc9dc6f8aad54b66f36e52"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:02.201Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc9dc6f8aad54b66f36e68","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:02.417Z","yearId":"67cc9dc6f8aad54b66f36e69"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc9dc6f8aad54b66f36e79","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:02.611Z","yearId":"67cc9dc6f8aad54b66f36e7a"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc9dc6f8aad54b66f36e8a","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:02.812Z","yearId":"67cc9dc6f8aad54b66f36e8b"}
{"context":{"schoolId":"67cc9dc7f8aad54b66f36e9b"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:03.012Z"}
{"context":{"schoolId":"67cc9dc7f8aad54b66f36eab"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:03.213Z"}
{"context":{"totalSchools":2},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.syncAssignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:03.810Z"}
{"context":{"data":{"address":"Via Venezia 789","defaultMaxStudentsPerClass":22,"institutionType":"scientific","manager":"67cc9dec9da6b2726f528513","name":"Test School","province":"Venezia","region":"Veneto","schoolType":"high_school"}},"errorCode":11000,"errorMessage":"E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.create:","stack":"MongoServerError: E11000 duplicate key error collection: test.schools index: name_1 dup key: { name: \"Test School\" }\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-08T19:43:41.017Z"}
{"context":{"data":{"name":"Updated Name"},"id":"invalidid"},"errorMessage":"Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"","errorName":"CastError","level":"error","message":"Errore in SchoolRepository.update:","stack":"CastError: Cast to ObjectId failed for value \"invalidid\" (type string) at path \"_id\" for model \"School\"\n    at ObjectId.Object.<anonymous>.ObjectId.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\objectid.js:250:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1633:15)\n    at cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\cast.js:389:32)\n    at model.Query.Object.<anonymous>.Query.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4927:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2237:10)\n    at model.Query._findOneAndUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3319:8)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:115:25)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:304:17)","timestamp":"2025-03-08T19:43:41.442Z"}
{"context":{"data":{"name":"Updated Name"},"id":"67cc9ded9da6b2726f52855d"},"errorMessage":"School non trovato","errorName":"DocumentNotFoundError","level":"error","message":"Errore in SchoolRepository.update:","stack":"DocumentNotFoundError: School non trovato\n    at SchoolRepository.update (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:126:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:320:17)","timestamp":"2025-03-08T19:43:41.648Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc9ded9da6b2726f528569","timestamp":"2025-03-08T19:43:41.951Z","userId":"67cc9ded9da6b2726f52856f"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc9dee9da6b2726f52857d","timestamp":"2025-03-08T19:43:42.281Z","userId":"67cc9dee9da6b2726f528583"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc9dee9da6b2726f528590","timestamp":"2025-03-08T19:43:42.485Z","userId":"67cc9dee9da6b2726f52858d"}
{"context":{"createClasses":true,"schoolId":"67cc9def9da6b2726f5285c9","yearData":{"createdBy":"67cc9dee9da6b2726f5285c3","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:43.111Z"}
{"context":{"createClasses":false,"schoolId":"67cc9def9da6b2726f5285da","yearData":{"createdBy":"67cc9def9da6b2726f5285d4","endDate":"2024-06-15T00:00:00.000Z","startDate":"2023-09-01T00:00:00.000Z","status":"planned","year":"2023/2024"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:43.320Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc9def9da6b2726f5285fb","timestamp":"2025-03-08T19:43:43.735Z","userId":"67cc9def9da6b2726f5285f8"}
{"context":{"schoolId":"67cc9def9da6b2726f52860c","userId":"67cc9def9da6b2726f528606"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:43.953Z"}
{"context":{"schoolId":"67cc9df09da6b2726f52861d","userId":"67cc9def9da6b2726f528617"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeUser:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:44.168Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc9df09da6b2726f52862e","sectionName":"A","timestamp":"2025-03-08T19:43:44.376Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc9df09da6b2726f52863f","sectionName":"Z","timestamp":"2025-03-08T19:43:44.584Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error in deactivateSection:","schoolId":"67cc9df09da6b2726f528650","sectionName":"A","timestamp":"2025-03-08T19:43:44.824Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Errore durante l'aggiunta utente alla scuola","schoolId":"67cc9df19da6b2726f528661","timestamp":"2025-03-08T19:43:45.061Z","userId":"67cc9df09da6b2726f52865e"}
{"context":{"createClasses":false,"schoolId":"67cc9df19da6b2726f528688","yearData":{"createdBy":"67cc9df19da6b2726f528682","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:45.477Z"}
{"context":{"schoolId":"67cc9df19da6b2726f528699","yearId":"67cc9df19da6b2726f52869a"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:45.686Z"}
{"context":{"schoolId":"67cc9df19da6b2726f5286af","yearId":"67cc9df19da6b2726f5286b5"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:45.926Z"}
{"context":{"schoolId":"67cc9df29da6b2726f5286c1","yearId":"67cc9df29da6b2726f5286c2"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:46.152Z"}
{"context":{"institutionType":"none","schoolId":"67cc9df29da6b2726f5286e8","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:46.568Z"}
{"context":{"institutionType":"scientific","schoolId":"67cc9df29da6b2726f5286f9","schoolType":"middle_school"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.changeSchoolType:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:46.776Z"}
{"context":{"schoolId":"67cc9df29da6b2726f52870a"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:46.986Z"}
{"context":{"schoolId":"67cc9df39da6b2726f52871b"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:47.197Z"}
{"context":{"schoolId":"67cc9df39da6b2726f52871b"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:47.199Z"}
{"context":{"schoolId":"67cc9df39da6b2726f52872d"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:47.407Z"}
{"context":{"schoolId":"67cc9df39da6b2726f52874a"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:47.611Z"}
{"context":{"schoolId":"67cc9df39da6b2726f52874a","userId":"67cc9df39da6b2726f528747"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:47.613Z"}
{"context":{"schoolId":"67cc9df39da6b2726f52875c","userId":"67cc9df39da6b2726f528759"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:47.814Z"}
{"context":{"schoolId":"67cc9df49da6b2726f52876d"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.removeManagerFromSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:48.025Z"}
{"context":{"schoolId":"67cc9df49da6b2726f52876d","userId":"67cc9df39da6b2726f52876a"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.addManagerToSchool:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:48.028Z"}
{"context":{"schoolId":"67cc9df49da6b2726f528784","sectionName":"A"},"errorMessage":"Class.find(...).select is not a function","errorName":"TypeError","level":"error","message":"Errore in SchoolRepository.getStudentsBySection:","stack":"TypeError: Class.find(...).select is not a function\n    at SchoolRepository.getStudentsBySection (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:1027:16)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\SchoolRepository.test.js:1030:53)\n    at Promise.then.completed (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-03-08T19:43:48.229Z"}
{"context":{"schoolId":"67cc9df49da6b2726f528794","yearId":"67cc9df49da6b2726f528795"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:48.444Z"}
{"context":{"schoolId":"67cc9df49da6b2726f528794","yearId":"67cc9df49da6b2726f528795"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:48.447Z"}
{"context":{"createClasses":false,"schoolId":"67cc9df49da6b2726f5287a6","yearData":{"createdBy":"67cc9df49da6b2726f5287a0","endDate":"2025-06-15T00:00:00.000Z","startDate":"2024-09-01T00:00:00.000Z","status":"planned","year":"2024/2025"}},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.setupAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:48.656Z"}
{"context":{"schoolId":"67cc9df49da6b2726f5287b7","yearId":"67cc9df49da6b2726f5287b8"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.archiveAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:48.863Z"}
{"context":{"schoolId":"67cc9df49da6b2726f5287b7","yearId":"67cc9df49da6b2726f5287b8"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.reactivateAcademicYear:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:48.866Z"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc9df59da6b2726f5287ce","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:49.076Z","yearId":"67cc9df59da6b2726f5287cf"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc9df59da6b2726f5287df","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:49.288Z","yearId":"67cc9df59da6b2726f5287e0"}
{"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error updating academic year:","schoolId":"67cc9df59da6b2726f5287f0","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:49.492Z","yearId":"67cc9df59da6b2726f5287f1"}
{"context":{"schoolId":"67cc9df59da6b2726f528801"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:49.698Z"}
{"context":{"schoolId":"67cc9df59da6b2726f528811"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.deleteWithClasses:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:49.898Z"}
{"context":{"totalSchools":2},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in SchoolRepository.syncAssignedSchoolIds:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:43:50.524Z"}
{"context":{"data":{"academicYear":"2023/2024","section":"A","year":1}},"errorMessage":"Dati classe incompleti","level":"error","message":"Errore in ClassRepository.create:","timestamp":"2025-03-08T19:44:25.354Z"}
{"context":{"id":"67cc9e19b5909350c3ca3392","options":{}},"errorMessage":"Class non trovato","errorName":"DocumentNotFoundError","level":"error","message":"Errore in ClassRepository.findById:","stack":"DocumentNotFoundError: Class non trovato\n    at ClassRepository.findById (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:53:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\ClassRepository.test.js:163:17)","timestamp":"2025-03-08T19:44:25.798Z"}
{"context":{"id":"invalid-id-format","options":{}},"errorMessage":"Cast to ObjectId failed for value \"invalid-id-format\" (type string) at path \"_id\" for model \"Class\"","errorName":"CastError","level":"error","message":"Errore in ClassRepository.findById:","stack":"CastError: Cast to ObjectId failed for value \"invalid-id-format\" (type string) at path \"_id\" for model \"Class\"\n    at ObjectId.Object.<anonymous>.ObjectId.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\objectid.js:250:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1633:15)\n    at cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\cast.js:389:32)\n    at model.Query.Object.<anonymous>.Query.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4927:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2237:10)\n    at model.Query._findOne (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2533:8)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at ClassRepository.findById (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:49:25)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\ClassRepository.test.js:169:17)","timestamp":"2025-03-08T19:44:25.924Z"}
{"context":{"data":{"capacity":30,"status":"planned"},"id":"67cc9e1ab5909350c3ca33b2"},"errorMessage":"Validation failed: capacity: Parameter \"obj\" to Document() must be an object, got \"School\" (type string)","errorName":"ValidationError","level":"error","message":"Errore in ClassRepository.update:","stack":"ValidationError: Validation failed: capacity: Parameter \"obj\" to Document() must be an object, got \"School\" (type string)\n    at _done (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:228:19)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:204:11\n    at schemaPath.doValidate.updateValidator (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:162:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-08T19:44:26.058Z"}
{"context":{"data":{"capacity":30},"id":"67cc9e1ab5909350c3ca33ca"},"errorMessage":"Validation failed: capacity: Parameter \"obj\" to Document() must be an object, got \"School\" (type string)","errorName":"ValidationError","level":"error","message":"Errore in ClassRepository.update:","stack":"ValidationError: Validation failed: capacity: Parameter \"obj\" to Document() must be an object, got \"School\" (type string)\n    at _done (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:228:19)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:204:11\n    at schemaPath.doValidate.updateValidator (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:162:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-08T19:44:26.184Z"}
{"context":{"id":"67cc9e1ab5909350c3ca33f1"},"errorMessage":"Class non trovato","errorName":"DocumentNotFoundError","level":"error","message":"Errore in ClassRepository.delete:","stack":"DocumentNotFoundError: Class non trovato\n    at ClassRepository.delete (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\base\\BaseRepository.js:147:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\systemTests\\unit\\repositories\\ClassRepository.test.js:248:17)","timestamp":"2025-03-08T19:44:26.438Z"}
{"context":{"criteria":{"academicYear":"2023/2024","schoolId":"invalid-id","section":"A","year":1}},"errorMessage":"ID scuola non valido","level":"error","message":"Errore in ClassRepository.exists:","timestamp":"2025-03-08T19:44:27.174Z"}
{"context":{"fromYear":"2023/2024","toYear":"2024/2025"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in ClassRepository.promoteStudents:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:44:28.396Z"}
{"context":{"fromYear":"2023/2024","toYear":"2024/2025"},"errorCode":20,"errorMessage":"Transaction numbers are only allowed on a replica set member or mongos","errorName":"MongoServerError","level":"error","message":"Errore in ClassRepository.promoteStudents:","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:413:18)\n    at MessageStream.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:243:56)\n    at MessageStream.emit (node:events:524:28)\n    at processIncomingData (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:193:12)\n    at MessageStream._write (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:524:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-03-08T19:44:28.528Z"}

{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"school","timestamp":"2025-01-18T23:21:50.665Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"user","timestamp":"2025-01-18T23:21:50.681Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"class","timestamp":"2025-01-18T23:21:50.685Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"student","timestamp":"2025-01-18T23:21:50.688Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"test","timestamp":"2025-01-18T23:21:50.693Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-18T23:21:50.696Z"}
{"controllers":["auth","school","user","class","student","test"],"level":"info","message":"Controllers caricati con successo","timestamp":"2025-01-18T23:21:50.771Z"}
{"level":"info","message":"Routes caricate:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth"],"timestamp":"2025-01-18T23:21:50.816Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-01-18T23:21:51.589Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-18T23:21:51.619Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-18T23:21:51.620Z"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T23:22:22.729Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/132.0.0.0 Safari/537.36 Edg/132.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:22:22.783Z","tokenExpiresIn":"73.08694999999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T23:22:22.784Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:22:26.433Z","tokenExpiresIn":"73.02611666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:22:26.461Z","tokenExpiresIn":"73.02565 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:22:26.474Z","tokenExpiresIn":"73.02543333333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:22:26.483Z","tokenExpiresIn":"73.02528333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:22:26.498Z","tokenExpiresIn":"73.02503333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:22:26.521Z","tokenExpiresIn":"73.02465000000001 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:22:26.586Z","tokenExpiresIn":"73.02356666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:22:26.606Z","tokenExpiresIn":"73.02323333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:22:26.620Z","tokenExpiresIn":"73.023 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:22:26.635Z","tokenExpiresIn":"73.02275 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:22:26.713Z","tokenExpiresIn":"73.02145 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:22:26.743Z","tokenExpiresIn":"73.02095 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:25:07.781Z","tokenExpiresIn":"70.33698333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:25:07.825Z","tokenExpiresIn":"70.33626666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:25:09.983Z","tokenExpiresIn":"70.30028333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:25:10.023Z","tokenExpiresIn":"70.29961666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:26:31.748Z","tokenExpiresIn":"68.93753333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:26:31.806Z","tokenExpiresIn":"68.93656666666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:26:32.123Z","tokenExpiresIn":"68.93128333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:26:32.185Z","tokenExpiresIn":"68.93024999999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"academicYear":"2024/2025","level":"info","message":"Inizializzazione classi per la scuola","schoolId":"678c38a771d2e167491cc0a3","sectionsCount":8,"timestamp":"2025-01-18T23:26:32.192Z"}
{"classesCreated":40,"level":"info","message":"Classi iniziali create con successo","schoolId":"678c38a771d2e167491cc0a3","timestamp":"2025-01-18T23:26:33.882Z"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:26:34.374Z","tokenExpiresIn":"68.89376666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:26:34.432Z","tokenExpiresIn":"68.89280000000001 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:26:37.650Z","tokenExpiresIn":"68.83916666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:26:37.683Z","tokenExpiresIn":"68.83861666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:26:39.462Z","tokenExpiresIn":"68.80896666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:26:39.509Z","tokenExpiresIn":"68.80818333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:26:41.173Z","tokenExpiresIn":"68.78045 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:26:41.209Z","tokenExpiresIn":"68.77985 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:26:43.960Z","tokenExpiresIn":"68.734 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:26:43.996Z","tokenExpiresIn":"68.73341666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:27:30.018Z","tokenExpiresIn":"67.96636666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:27:30.056Z","tokenExpiresIn":"67.96573333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:28:49.387Z","tokenExpiresIn":"66.64354999999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:28:49.416Z","tokenExpiresIn":"66.64306666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:03.016Z","tokenExpiresIn":"66.4164 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:03.055Z","tokenExpiresIn":"66.41575 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:06.867Z","tokenExpiresIn":"66.35221666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:06.940Z","tokenExpiresIn":"66.351 minutes","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T23:29:08.648Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/132.0.0.0 Safari/537.36 Edg/132.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:08.682Z","tokenExpiresIn":"66.32196666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T23:29:08.683Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:08.997Z","tokenExpiresIn":"66.31671666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:09.012Z","tokenExpiresIn":"66.31646666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:09.026Z","tokenExpiresIn":"66.31623333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:09.039Z","tokenExpiresIn":"66.31601666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:09.047Z","tokenExpiresIn":"66.31588333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:09.055Z","tokenExpiresIn":"66.31575000000001 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:09.120Z","tokenExpiresIn":"66.31466666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:09.135Z","tokenExpiresIn":"66.31441666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:09.151Z","tokenExpiresIn":"66.31415 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:09.163Z","tokenExpiresIn":"66.31395 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:09.240Z","tokenExpiresIn":"66.31266666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:09.268Z","tokenExpiresIn":"66.3122 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:45.838Z","tokenExpiresIn":"65.7027 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:45.883Z","tokenExpiresIn":"65.70195 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Student created successfully:","school":"67843ee4e18f3b833160dda8","studentId":"678c396971d2e167491cc718","timestamp":"2025-01-18T23:29:46.055Z"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:46.151Z","tokenExpiresIn":"65.69748333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:29:46.208Z","tokenExpiresIn":"65.69653333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:30:32.853Z","tokenExpiresIn":"64.91911666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:30:32.895Z","tokenExpiresIn":"64.91841666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"_message":"Validation failed","errors":{"currentYear":{"kind":"user defined","message":"1 non è un anno valido per il tipo di scuola","name":"ValidatorError","path":"currentYear","properties":{"fullPath":"currentYear","message":"1 non è un anno valido per il tipo di scuola","path":"currentYear","type":"user defined","value":1},"value":1}},"message":"Validation failed: currentYear: 1 non è un anno valido per il tipo di scuola","name":"ValidationError"},"level":"error","message":"Error in update student:","studentId":"678c396971d2e167491cc718","timestamp":"2025-01-18T23:30:33.038Z","updateData":{"currentYear":1,"dateOfBirth":"2012-10-04T00:00:00.000Z","email":"leo@marangon.it","firstName":"Leonardo","fiscalCode":null,"gender":"M","isActive":true,"lastName":"Marangon","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":null,"schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]}}
{"_message":"Validation failed","errors":{"currentYear":{"kind":"user defined","message":"1 non è un anno valido per il tipo di scuola","name":"ValidatorError","path":"currentYear","properties":{"fullPath":"currentYear","message":"1 non è un anno valido per il tipo di scuola","path":"currentYear","type":"user defined","value":1},"value":1}},"level":"error","message":"Error updating student:","timestamp":"2025-01-18T23:30:33.046Z"}
{"error":"Validation failed: currentYear: 1 non è un anno valido per il tipo di scuola","level":"error","message":"Student route error:","method":"PUT","path":"/678c396971d2e167491cc718","stack":"ValidationError: Validation failed: currentYear: 1 non è un anno valido per il tipo di scuola\n    at _done (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:228:19)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:204:11\n    at schemaPath.doValidate.updateValidator (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:162:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-01-18T23:30:33.053Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"258ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"PUT","requestId":"req_1737243032809_9066ib5zt","responseSize":"131 Bytes","statusCode":400,"timestamp":"2025-01-18T23:30:33.068Z","url":"/api/v1/students/678c396971d2e167491cc718","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/132.0.0.0 Safari/537.36 Edg/132.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:30:41.736Z","tokenExpiresIn":"64.77106666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T23:30:41.766Z","tokenExpiresIn":"64.77056666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T00:14:03.249Z","tokenExpiresIn":"21.412516666666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T00:14:03.285Z","tokenExpiresIn":"21.411916666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T00:14:08.356Z","tokenExpiresIn":"21.3274 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T00:14:08.390Z","tokenExpiresIn":"21.326833333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T00:14:10.307Z","tokenExpiresIn":"21.294883333333335 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T00:14:10.347Z","tokenExpiresIn":"21.294216666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T00:14:10.467Z","tokenExpiresIn":"21.292216666666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T00:14:10.514Z","tokenExpiresIn":"21.291433333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"error","message":"Error getting unassigned students:","timestamp":"2025-01-19T00:14:10.520Z"}
{"error":"Cannot read properties of undefined (reading 'repository')","level":"error","message":"Student route error:","method":"GET","path":"/unassigned/67843ee4e18f3b833160dda8","stack":"TypeError: Cannot read properties of undefined (reading 'repository')\n    at getUnassignedStudents (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:324:41)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:185:9\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:365:14)","timestamp":"2025-01-19T00:14:10.523Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"111ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1737245650418_euvj4hnp8","responseSize":"112 Bytes","statusCode":400,"timestamp":"2025-01-19T00:14:10.529Z","url":"/api/v1/students/unassigned/67843ee4e18f3b833160dda8","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/132.0.0.0 Safari/537.36 Edg/132.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T00:14:20.502Z","tokenExpiresIn":"21.12496666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T00:14:20.531Z","tokenExpiresIn":"21.124483333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T00:14:27.265Z","tokenExpiresIn":"21.012249999999998 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T00:14:27.312Z","tokenExpiresIn":"21.011466666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T00:14:34.993Z","tokenExpiresIn":"20.88345 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T00:14:35.036Z","tokenExpiresIn":"20.88273333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T00:14:35.856Z","tokenExpiresIn":"20.869066666666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T00:14:35.889Z","tokenExpiresIn":"20.868516666666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T00:14:36.015Z","tokenExpiresIn":"20.866416666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T00:14:36.072Z","tokenExpiresIn":"20.86546666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"error","message":"Error getting unassigned students:","timestamp":"2025-01-19T00:14:36.077Z"}
{"error":"Cannot read properties of undefined (reading 'repository')","level":"error","message":"Student route error:","method":"GET","path":"/unassigned/67843ee4e18f3b833160dda8","stack":"TypeError: Cannot read properties of undefined (reading 'repository')\n    at getUnassignedStudents (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:324:41)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:185:9\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:365:14)","timestamp":"2025-01-19T00:14:36.081Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"135ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1737245675955_rqj7c2kmy","responseSize":"112 Bytes","statusCode":400,"timestamp":"2025-01-19T00:14:36.090Z","url":"/api/v1/students/unassigned/67843ee4e18f3b833160dda8","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/132.0.0.0 Safari/537.36 Edg/132.0.0.0"}
{"level":"warn","message":"Mongoose connection disconnected","timestamp":"2025-01-19T00:53:26.303Z"}
{"level":"info","message":"Mongoose connected to MongoDB Atlas","timestamp":"2025-01-19T00:53:36.491Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"school","timestamp":"2025-01-19T09:27:35.590Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"user","timestamp":"2025-01-19T09:27:35.595Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"class","timestamp":"2025-01-19T09:27:35.597Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"student","timestamp":"2025-01-19T09:27:35.599Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"test","timestamp":"2025-01-19T09:27:35.601Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-19T09:27:35.602Z"}
{"controllers":["auth","school","user","class","student","test"],"level":"info","message":"Controllers caricati con successo","timestamp":"2025-01-19T09:27:35.643Z"}
{"level":"info","message":"Routes caricate:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth"],"timestamp":"2025-01-19T09:27:35.668Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-01-19T09:27:36.197Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-19T09:27:36.211Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-19T09:27:36.212Z"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-19T09:27:52.033Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/132.0.0.0 Safari/537.36 Edg/132.0.0.0"}
{"errorMessage":"jwt expired","errorType":"TokenExpiredError","level":"error","message":"🔥 Authentication Error","stack":"TokenExpiredError: jwt expired\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jsonwebtoken\\verify.js:190:21\n    at getSecret (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at protect (C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:52:29)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-01-19T09:27:52.045Z","tokenInfo":{"expiredAt":"2025-01-19T00:35:28.000Z","now":"2025-01-19T09:27:52.045Z"}}
{"duration":"22ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1737278872029_gbqfq6plx","responseSize":"115 Bytes","statusCode":401,"timestamp":"2025-01-19T09:27:52.051Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/132.0.0.0 Safari/537.36 Edg/132.0.0.0"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"POST","path":"/api/v1/auth/login","timestamp":"2025-01-19T09:34:55.969Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/132.0.0.0 Safari/537.36 Edg/132.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T09:44:25.503Z","tokenExpiresIn":"1430.5082833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T09:44:25.512Z","tokenExpiresIn":"1430.5081333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T09:44:25.523Z","tokenExpiresIn":"1430.50795 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T09:44:25.534Z","tokenExpiresIn":"1430.5077666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T09:44:25.540Z","tokenExpiresIn":"1430.5076666666669 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T09:44:25.550Z","tokenExpiresIn":"1430.5075 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T09:44:25.621Z","tokenExpiresIn":"1430.5063166666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T09:44:25.631Z","tokenExpiresIn":"1430.5061500000002 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T09:44:25.653Z","tokenExpiresIn":"1430.5057833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T09:44:25.658Z","tokenExpiresIn":"1430.5057000000002 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T09:44:25.724Z","tokenExpiresIn":"1430.5046 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T09:44:25.751Z","tokenExpiresIn":"1430.50415 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"school","timestamp":"2025-01-19T09:59:06.637Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"user","timestamp":"2025-01-19T09:59:06.641Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"class","timestamp":"2025-01-19T09:59:06.642Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"student","timestamp":"2025-01-19T09:59:06.644Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"test","timestamp":"2025-01-19T09:59:06.645Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-19T09:59:06.646Z"}
{"controllers":["auth","school","user","class","student","test"],"level":"info","message":"Controllers caricati con successo","timestamp":"2025-01-19T09:59:06.673Z"}
{"level":"info","message":"Routes caricate:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth"],"timestamp":"2025-01-19T09:59:06.688Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-01-19T09:59:07.067Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-19T09:59:07.077Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-19T09:59:07.077Z"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-19T09:59:32.584Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/132.0.0.0 Safari/537.36 Edg/132.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T09:59:32.625Z","tokenExpiresIn":"1415.3895833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-19T09:59:32.626Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T09:59:35.342Z","tokenExpiresIn":"1415.3443 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T09:59:35.547Z","tokenExpiresIn":"1415.3408833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T09:59:36.364Z","tokenExpiresIn":"1415.3272666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T09:59:36.563Z","tokenExpiresIn":"1415.3239500000002 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T09:59:48.955Z","tokenExpiresIn":"1415.1174166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T09:59:48.983Z","tokenExpiresIn":"1415.11695 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:00:08.881Z","tokenExpiresIn":"1414.7853166666669 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:00:08.908Z","tokenExpiresIn":"1414.7848666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Student created successfully:","school":"67843ee4e18f3b833160dda8","studentId":"678ccd28e32aff82045c93f3","timestamp":"2025-01-19T10:00:08.987Z"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:00:09.022Z","tokenExpiresIn":"1414.7829666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:00:09.047Z","tokenExpiresIn":"1414.78255 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:00:21.225Z","tokenExpiresIn":"1414.5795833333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:00:21.251Z","tokenExpiresIn":"1414.57915 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:00:21.376Z","tokenExpiresIn":"1414.5770666666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:00:21.403Z","tokenExpiresIn":"1414.5766166666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:00:28.489Z","tokenExpiresIn":"1414.4585166666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:00:28.513Z","tokenExpiresIn":"1414.4581166666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:00:28.610Z","tokenExpiresIn":"1414.4565 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:00:28.636Z","tokenExpiresIn":"1414.4560666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:00:59.270Z","tokenExpiresIn":"1413.9455 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:00:59.295Z","tokenExpiresIn":"1413.9450833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:01:03.698Z","tokenExpiresIn":"1413.8717 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:01:03.721Z","tokenExpiresIn":"1413.8713166666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:01:28.162Z","tokenExpiresIn":"1413.4639666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:01:28.188Z","tokenExpiresIn":"1413.4635333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:57:45.802Z","tokenExpiresIn":"1357.1699666666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:57:45.827Z","tokenExpiresIn":"1357.1695499999998 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:57:47.026Z","tokenExpiresIn":"1357.1495666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:57:47.051Z","tokenExpiresIn":"1357.14915 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:57:53.170Z","tokenExpiresIn":"1357.0471666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:57:53.193Z","tokenExpiresIn":"1357.0467833333335 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:58:57.398Z","tokenExpiresIn":"1355.9767 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:58:57.430Z","tokenExpiresIn":"1355.9761666666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:59:00.355Z","tokenExpiresIn":"1355.9274166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-19T10:59:00.378Z","tokenExpiresIn":"1355.9270333333334 minutes","userId":"677bfe44f6789c907c9f3766"}

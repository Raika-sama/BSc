{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-02-26T07:53:13.137Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-02-26T07:53:13.241Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-02-26T07:53:14.438Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-02-26T07:53:14.440Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-02-26T07:53:14.441Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-02-26T07:53:14.826Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-02-26T07:53:14.835Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-02-26T07:53:14.835Z"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-02-26T08:04:47.642Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-02-26T08:04:47.713Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-02-26T08:04:48.583Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-02-26T08:04:48.585Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-02-26T08:04:48.587Z"}
{"error":"requireAdminAccess is not a function","level":"error","message":"Errore durante l'avvio del server:","stack":"TypeError: requireAdminAccess is not a function\n    at createUserRouter (C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\userRoutes.js:58:16)\n    at createRouter (C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\index.js:44:47)\n    at startServer (C:\\Users\\ricca\\Desktop\\BSc\\src\\app.js:297:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-02-26T08:04:48.853Z"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-02-26T08:05:50.622Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-02-26T08:05:50.673Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-02-26T08:05:51.560Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-02-26T08:05:51.562Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-02-26T08:05:51.563Z"}
{"error":"hasPermission is not a function","level":"error","message":"Errore durante l'avvio del server:","stack":"TypeError: hasPermission is not a function\n    at createUserRouter (C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\userRoutes.js:81:9)\n    at createRouter (C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\index.js:44:47)\n    at startServer (C:\\Users\\ricca\\Desktop\\BSc\\src\\app.js:297:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-02-26T08:05:51.800Z"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-02-26T08:07:26.507Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-02-26T08:07:26.548Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-02-26T08:07:27.351Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-02-26T08:07:27.352Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-02-26T08:07:27.354Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-02-26T08:07:27.716Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-02-26T08:07:27.721Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-02-26T08:07:27.721Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-02-26T08:31:08.228Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-02-26T08:31:08.229Z"}
{"duration":"16ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740558668220_h7glelf9t","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-02-26T08:31:08.238Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-02-26T08:31:08.244Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-02-26T08:31:08.245Z"}
{"duration":"5ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740558668241_vidcs5okf","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-02-26T08:31:08.247Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"email":"riccardonicolilb@gmail.com","error":"User validation failed: permissions.0.resource: Path `resource` is required., permissions.1.resource: Path `resource` is required., permissions.2.resource: Path `resource` is required., permissions.3.resource: Path `resource` is required., permissions.4.resource: Path `resource` is required., permissions.5.resource: Path `resource` is required., permissions.6.resource: Path `resource` is required., permissions.7.resource: Path `resource` is required., permissions.8.resource: Path `resource` is required., permissions.9.resource: Path `resource` is required.","level":"error","message":"Login error:","stack":"ValidationError: User validation failed: permissions.0.resource: Path `resource` is required., permissions.1.resource: Path `resource` is required., permissions.2.resource: Path `resource` is required., permissions.3.resource: Path `resource` is required., permissions.4.resource: Path `resource` is required., permissions.5.resource: Path `resource` is required., permissions.6.resource: Path `resource` is required., permissions.7.resource: Path `resource` is required., permissions.8.resource: Path `resource` is required., permissions.9.resource: Path `resource` is required.\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at Subdocument.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-02-26T08:31:47.767Z"}
{"_message":"User validation failed","errors":{"permissions.0.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.1.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.2.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.3.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.4.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.5.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.6.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.7.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.8.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.9.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}}},"level":"error","message":"Login error details:","timestamp":"2025-02-26T08:31:47.769Z"}
{"error":{"message":"Errore durante il login","metadata":{"originalError":{"_message":"User validation failed","errors":{"permissions.0.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.1.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.2.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.3.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.4.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.5.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.6.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.7.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.8.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.9.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}}},"message":"User validation failed: permissions.0.resource: Path `resource` is required., permissions.1.resource: Path `resource` is required., permissions.2.resource: Path `resource` is required., permissions.3.resource: Path `resource` is required., permissions.4.resource: Path `resource` is required., permissions.5.resource: Path `resource` is required., permissions.6.resource: Path `resource` is required., permissions.7.resource: Path `resource` is required., permissions.8.resource: Path `resource` is required., permissions.9.resource: Path `resource` is required.","name":"ValidationError"}}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/login","timestamp":"2025-02-26T08:31:47.771Z"}
{"duration":"244ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740558707529_0i70psd22","responseSize":"143 Bytes","statusCode":500,"timestamp":"2025-02-26T08:31:47.773Z","url":"/api/v1/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"email":"riccardonicolilb@gmail.com","error":"User validation failed: permissions.1.actions.0: `write` is not a valid enum value for path `actions.0`., permissions.2.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.3.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.4.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.5.resource: `results` is not a valid enum value for path `resource`., permissions.5.actions.1: `write` is not a valid enum value for path `actions.1`.","level":"error","message":"Login error:","stack":"ValidationError: User validation failed: permissions.1.actions.0: `write` is not a valid enum value for path `actions.0`., permissions.2.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.3.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.4.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.5.resource: `results` is not a valid enum value for path `resource`., permissions.5.actions.1: `write` is not a valid enum value for path `actions.1`.\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at Subdocument.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-02-26T08:35:53.674Z"}
{"_message":"User validation failed","errors":{"permissions.1.actions.0":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.0`.","name":"ValidatorError","path":"actions.0","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.0`.","path":"actions.0","type":"enum","value":"write"},"value":"write"},"permissions.2.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.3.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.4.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.resource":{"kind":"enum","message":"`results` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`results` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"results"},"value":"results"}},"level":"error","message":"Login error details:","timestamp":"2025-02-26T08:35:53.675Z"}
{"error":{"message":"Errore durante il login","metadata":{"originalError":{"_message":"User validation failed","errors":{"permissions.1.actions.0":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.0`.","name":"ValidatorError","path":"actions.0","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.0`.","path":"actions.0","type":"enum","value":"write"},"value":"write"},"permissions.2.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.3.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.4.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.resource":{"kind":"enum","message":"`results` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`results` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"results"},"value":"results"}},"message":"User validation failed: permissions.1.actions.0: `write` is not a valid enum value for path `actions.0`., permissions.2.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.3.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.4.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.5.resource: `results` is not a valid enum value for path `resource`., permissions.5.actions.1: `write` is not a valid enum value for path `actions.1`.","name":"ValidationError"}}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/login","timestamp":"2025-02-26T08:35:53.678Z"}
{"duration":"133ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740558953550_xj4aow9x7","responseSize":"143 Bytes","statusCode":500,"timestamp":"2025-02-26T08:35:53.683Z","url":"/api/v1/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-02-26T08:36:18.670Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-02-26T08:36:18.738Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-02-26T08:36:19.713Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-02-26T08:36:19.714Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-02-26T08:36:19.715Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-02-26T08:36:20.065Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-02-26T08:36:20.069Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-02-26T08:36:20.069Z"}
{"email":"riccardonicolilb@gmail.com","error":"User validation failed: permissions.0.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.1.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.2.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.3.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.4.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.5.resource: `results` is not a valid enum value for path `resource`., permissions.5.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.6.resource: `engines` is not a valid enum value for path `resource`., permissions.6.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.7.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.8.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.9.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.10.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.11.actions.1: `write` is not a valid enum value for path `actions.1`.","level":"error","message":"Login error:","stack":"ValidationError: User validation failed: permissions.0.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.1.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.2.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.3.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.4.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.5.resource: `results` is not a valid enum value for path `resource`., permissions.5.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.6.resource: `engines` is not a valid enum value for path `resource`., permissions.6.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.7.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.8.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.9.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.10.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.11.actions.1: `write` is not a valid enum value for path `actions.1`.\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at Subdocument.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-02-26T08:37:56.553Z"}
{"_message":"User validation failed","errors":{"permissions.0.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.1.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.10.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.11.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.2.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.3.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.4.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.resource":{"kind":"enum","message":"`results` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`results` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"results"},"value":"results"},"permissions.6.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.6.resource":{"kind":"enum","message":"`engines` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`engines` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"engines"},"value":"engines"},"permissions.7.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.8.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.9.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"}},"level":"error","message":"Login error details:","timestamp":"2025-02-26T08:37:56.554Z"}
{"error":{"message":"Errore durante il login","metadata":{"originalError":{"_message":"User validation failed","errors":{"permissions.0.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.1.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.10.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.11.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.2.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.3.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.4.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.resource":{"kind":"enum","message":"`results` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`results` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"results"},"value":"results"},"permissions.6.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.6.resource":{"kind":"enum","message":"`engines` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`engines` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"engines"},"value":"engines"},"permissions.7.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.8.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.9.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"}},"message":"User validation failed: permissions.0.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.1.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.2.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.3.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.4.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.5.resource: `results` is not a valid enum value for path `resource`., permissions.5.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.6.resource: `engines` is not a valid enum value for path `resource`., permissions.6.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.7.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.8.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.9.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.10.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.11.actions.1: `write` is not a valid enum value for path `actions.1`.","name":"ValidationError"}}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/login","timestamp":"2025-02-26T08:37:56.561Z"}
{"duration":"205ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740559076365_b0itm92c7","responseSize":"143 Bytes","statusCode":500,"timestamp":"2025-02-26T08:37:56.571Z","url":"/api/v1/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-02-26T08:38:30.112Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-02-26T08:38:30.170Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-02-26T08:38:31.242Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-02-26T08:38:31.243Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-02-26T08:38:31.244Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-02-26T08:38:31.562Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-02-26T08:38:31.566Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-02-26T08:38:31.566Z"}
{"email":"riccardonicolilb@gmail.com","error":"User validation failed: permissions.0.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.1.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.2.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.3.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.4.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.5.resource: `results` is not a valid enum value for path `resource`., permissions.5.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.6.resource: `engines` is not a valid enum value for path `resource`., permissions.6.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.7.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.8.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.9.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.10.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.11.actions.1: `write` is not a valid enum value for path `actions.1`.","level":"error","message":"Login error:","stack":"ValidationError: User validation failed: permissions.0.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.1.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.2.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.3.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.4.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.5.resource: `results` is not a valid enum value for path `resource`., permissions.5.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.6.resource: `engines` is not a valid enum value for path `resource`., permissions.6.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.7.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.8.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.9.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.10.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.11.actions.1: `write` is not a valid enum value for path `actions.1`.\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at Subdocument.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-02-26T08:38:37.218Z"}
{"_message":"User validation failed","errors":{"permissions.0.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.1.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.10.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.11.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.2.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.3.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.4.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.resource":{"kind":"enum","message":"`results` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`results` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"results"},"value":"results"},"permissions.6.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.6.resource":{"kind":"enum","message":"`engines` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`engines` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"engines"},"value":"engines"},"permissions.7.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.8.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.9.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"}},"level":"error","message":"Login error details:","timestamp":"2025-02-26T08:38:37.219Z"}
{"error":{"message":"Errore durante il login","metadata":{"originalError":{"_message":"User validation failed","errors":{"permissions.0.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.1.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.10.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.11.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.2.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.3.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.4.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.resource":{"kind":"enum","message":"`results` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`results` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"results"},"value":"results"},"permissions.6.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.6.resource":{"kind":"enum","message":"`engines` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`engines` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"engines"},"value":"engines"},"permissions.7.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.8.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.9.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"}},"message":"User validation failed: permissions.0.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.1.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.2.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.3.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.4.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.5.resource: `results` is not a valid enum value for path `resource`., permissions.5.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.6.resource: `engines` is not a valid enum value for path `resource`., permissions.6.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.7.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.8.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.9.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.10.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.11.actions.1: `write` is not a valid enum value for path `actions.1`.","name":"ValidationError"}}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/login","timestamp":"2025-02-26T08:38:37.226Z"}
{"duration":"217ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740559117021_41n09mq3g","responseSize":"143 Bytes","statusCode":500,"timestamp":"2025-02-26T08:38:37.239Z","url":"/api/v1/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-02-26T08:40:28.175Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-02-26T08:40:28.225Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-02-26T08:40:29.106Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-02-26T08:40:29.108Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-02-26T08:40:29.110Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-02-26T08:40:29.388Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-02-26T08:40:29.392Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-02-26T08:40:29.392Z"}
{"hasSessionToken":true,"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-02-26T08:40:33.009Z","userId":"677bfe44f6789c907c9f3766"}

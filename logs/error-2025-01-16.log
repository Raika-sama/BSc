{"level":"error","message":"Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":"atlas-ewe2jc-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"timestamp":"2025-01-16T19:33:06.214Z"}
{"kind":"ObjectId","level":"error","message":"Error fetching class details:","path":"_id","reason":{},"stringValue":"\":classId\"","timestamp":"2025-01-16T22:09:57.454Z","value":":classId","valueType":"string"}
{"classId":":classId","error":"Cast to ObjectId failed for value \":classId\" (type string) at path \"_id\" for model \"Class\"","level":"error","message":"Error getting class details:","timestamp":"2025-01-16T22:09:57.456Z"}
{"error":"Cast to ObjectId failed for value \":classId\" (type string) at path \"_id\" for model \"Class\"","level":"error","message":"Class Route Error:","method":"GET","path":"/:classId","role":"admin","stack":"CastError: Cast to ObjectId failed for value \":classId\" (type string) at path \"_id\" for model \"Class\"\n    at ObjectId.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\objectid.js:250:11)\n    at SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at SchemaType.castForQuery (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1633:15)\n    at cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\cast.js:389:32)\n    at Query.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4927:12)\n    at Query._castConditions (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2237:10)\n    at model.Query._findOne (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2533:8)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ClassRepository.findWithDetails (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\ClassRepository.js:132:27)","timestamp":"2025-01-16T22:09:57.461Z","userId":"677bfe44f6789c907c9f3766"}
{"error":"Errori di validazione","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-16T22:43:51.963Z","userId":"677bfe44f6789c907c9f3766"}
{"body":{"currentYear":1,"dateOfBirth":"2012-03-12","email":"luigi@verdi.it","firstName":"Luigi","fiscalCode":"","gender":"M","lastName":"Verdi","parentEmail":"","schoolId":"67843ee4e18f3b833160dda8"},"error":{"message":"ErrorTypes is not defined","stack":"ReferenceError: ErrorTypes is not defined\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:102:22\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:67:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:147:13)\n    at validateCreate (C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\studentValidation.js:65:13)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1737067431908_cr7mmqfvn","timestamp":"2025-01-16T22:43:51.966Z","url":"/api/v1/students"}
{"level":"error","message":"ErrorTypes is not defined","stack":"ReferenceError: ErrorTypes is not defined\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:102:22\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:67:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:147:13)\n    at validateCreate (C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\studentValidation.js:65:13)","timestamp":"2025-01-16T22:43:51.967Z"}
{"error":"Errori di validazione","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-16T22:44:53.421Z","userId":"677bfe44f6789c907c9f3766"}
{"body":{"currentYear":1,"dateOfBirth":"2012-03-12","email":"luigi@verdi.it","firstName":"Luigi","fiscalCode":"","gender":"M","lastName":"Verdi","parentEmail":"","schoolId":"67843ee4e18f3b833160dda8"},"error":{"message":"ErrorTypes is not defined","stack":"ReferenceError: ErrorTypes is not defined\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:102:22\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:67:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:147:13)\n    at validateCreate (C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\studentValidation.js:65:13)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1737067493322_3d3z565w3","timestamp":"2025-01-16T22:44:53.422Z","url":"/api/v1/students"}
{"level":"error","message":"ErrorTypes is not defined","stack":"ReferenceError: ErrorTypes is not defined\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:102:22\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:67:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:147:13)\n    at validateCreate (C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\studentValidation.js:65:13)","timestamp":"2025-01-16T22:44:53.431Z"}
{"error":"Errori di validazione","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-16T22:49:10.011Z","userId":"677bfe44f6789c907c9f3766"}
{"body":{"currentYear":1,"dateOfBirth":"2012-02-12","email":"luigi@verdi.it","firstName":"Luigi","fiscalCode":"","gender":"M","lastName":"Verdi","parentEmail":"","schoolId":"67843ee4e18f3b833160dda8"},"error":{"message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:67:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:147:13)\n    at validateCreate (C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\studentValidation.js:65:13)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1737067749954_j1lgzpw64","timestamp":"2025-01-16T22:49:10.012Z","url":"/api/v1/students"}
{"level":"error","message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:67:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:147:13)\n    at validateCreate (C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\studentValidation.js:65:13)","timestamp":"2025-01-16T22:49:10.014Z"}

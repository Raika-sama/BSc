{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-02-28T19:18:20.382Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-02-28T19:18:20.383Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-02-28T19:18:20.406Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-02-28T19:18:20.407Z"}
{"level":"error","message":"ID utente non valido","metadata":{},"timestamp":"2025-02-28T19:53:44.291Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-02-28T20:28:32.606Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-02-28T20:28:32.609Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-02-28T20:28:32.633Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-02-28T20:28:32.634Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-02-28T21:37:30.646Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"institutionType":"","limit":"10","page":"1","populate":"manager","region":"","schoolType":""},"requestId":"req_1740778650634_kifgnbczn","timestamp":"2025-02-28T21:37:30.657Z","url":"/api/v1/schools?page=1&limit=10&populate=manager&region=&schoolType=&institutionType="}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-02-28T21:37:30.661Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-02-28T21:37:36.214Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-02-28T21:37:36.221Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-02-28T21:37:36.238Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-02-28T21:37:36.240Z"}
{"error":"La scuola ha gi√† un manager","level":"error","message":"Errore nell'aggiunta del manager:","schoolId":"67a7a35c242b430cbd8c5791","timestamp":"2025-02-28T22:18:28.607Z"}
{"error":"User validation failed: assignedSchoolIds: Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","level":"error","message":"Session validation error","stack":"ValidationError: User validation failed: assignedSchoolIds: Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at _init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:791:18)\n    at init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:737:5)\n    at Document.$__init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:693:3)\n    at model.syncWrapper [as $__init] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\kareem\\index.js:331:25)\n    at Document.init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:637:8)\n    at Document.$init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:653:42)\n    at Object.createModelAndInit (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\queryhelpers.js:138:12)\n    at completeOne (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3142:11)\n    at Query._completeOne (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2501:7)","timestamp":"2025-02-28T22:34:00.322Z"}
{"error":{"_message":"User validation failed","errors":{"assignedSchoolIds":{"kind":"cast","message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"ValidatorError","path":"assignedSchoolIds","properties":{"message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","path":"assignedSchoolIds","reason":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"CastError","path":"assignedSchoolIds","reason":{},"stringValue":"\"[]\"","value":[],"valueType":"Array"},"type":"cast","value":[]},"reason":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"CastError","path":"assignedSchoolIds","reason":{},"stringValue":"\"[]\"","value":[],"valueType":"Array"},"value":[]}},"message":"User validation failed: assignedSchoolIds: Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"ValidationError"},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-02-28T22:34:00.323Z"}
{"error":{"_message":"User validation failed","errors":{"assignedSchoolIds":{"kind":"cast","message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"ValidatorError","path":"assignedSchoolIds","properties":{"message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","path":"assignedSchoolIds","reason":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"CastError","path":"assignedSchoolIds","reason":{},"stringValue":"\"[]\"","value":[],"valueType":"Array"},"type":"cast","value":[]},"reason":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"CastError","path":"assignedSchoolIds","reason":{},"stringValue":"\"[]\"","value":[],"valueType":"Array"},"value":[]}},"message":"User validation failed: assignedSchoolIds: Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"ValidationError"},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-02-28T22:34:00.326Z"}
{"error":"User validation failed: assignedSchoolIds: Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","level":"error","message":"Session validation error","stack":"ValidationError: User validation failed: assignedSchoolIds: Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at _init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:791:18)\n    at init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:737:5)\n    at Document.$__init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:693:3)\n    at model.syncWrapper [as $__init] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\kareem\\index.js:331:25)\n    at Document.init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:637:8)\n    at Document.$init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:653:42)\n    at Object.createModelAndInit (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\queryhelpers.js:138:12)\n    at completeOne (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3142:11)\n    at Query._completeOne (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2501:7)","timestamp":"2025-02-28T22:34:00.362Z"}
{"error":{"_message":"User validation failed","errors":{"assignedSchoolIds":{"kind":"cast","message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"ValidatorError","path":"assignedSchoolIds","properties":{"message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","path":"assignedSchoolIds","reason":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"CastError","path":"assignedSchoolIds","reason":{},"stringValue":"\"[]\"","value":[],"valueType":"Array"},"type":"cast","value":[]},"reason":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"CastError","path":"assignedSchoolIds","reason":{},"stringValue":"\"[]\"","value":[],"valueType":"Array"},"value":[]}},"message":"User validation failed: assignedSchoolIds: Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"ValidationError"},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-02-28T22:34:00.363Z"}
{"error":{"_message":"User validation failed","errors":{"assignedSchoolIds":{"kind":"cast","message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"ValidatorError","path":"assignedSchoolIds","properties":{"message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","path":"assignedSchoolIds","reason":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"CastError","path":"assignedSchoolIds","reason":{},"stringValue":"\"[]\"","value":[],"valueType":"Array"},"type":"cast","value":[]},"reason":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"CastError","path":"assignedSchoolIds","reason":{},"stringValue":"\"[]\"","value":[],"valueType":"Array"},"value":[]}},"message":"User validation failed: assignedSchoolIds: Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"ValidationError"},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-02-28T22:34:00.366Z"}
{"email":"riccardonicolilb@gmail.com","error":"User validation failed: assignedSchoolIds: Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","level":"error","message":"Login error:","stack":"ValidationError: User validation failed: assignedSchoolIds: Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at _init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:791:18)\n    at init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:737:5)\n    at Document.$__init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:693:3)\n    at model.syncWrapper [as $__init] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\kareem\\index.js:331:25)\n    at Document.init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:637:8)\n    at Document.$init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:653:42)\n    at Object.createModelAndInit (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\queryhelpers.js:138:12)\n    at completeOne (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3142:11)\n    at Query._completeOne (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2501:7)","timestamp":"2025-02-28T22:34:02.083Z"}
{"error":"User validation failed: assignedSchoolIds: Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","level":"error","message":"Login error:","stack":"ValidationError: User validation failed: assignedSchoolIds: Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at _init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:791:18)\n    at init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:737:5)\n    at Document.$__init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:693:3)\n    at model.syncWrapper [as $__init] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\kareem\\index.js:331:25)\n    at Document.init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:637:8)\n    at Document.$init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:653:42)\n    at Object.createModelAndInit (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\queryhelpers.js:138:12)\n    at completeOne (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3142:11)\n    at Query._completeOne (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2501:7)","timestamp":"2025-02-28T22:34:02.085Z"}
{"error":{"_message":"User validation failed","errors":{"assignedSchoolIds":{"kind":"cast","message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"ValidatorError","path":"assignedSchoolIds","properties":{"message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","path":"assignedSchoolIds","reason":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"CastError","path":"assignedSchoolIds","reason":{},"stringValue":"\"[]\"","value":[],"valueType":"Array"},"type":"cast","value":[]},"reason":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"CastError","path":"assignedSchoolIds","reason":{},"stringValue":"\"[]\"","value":[],"valueType":"Array"},"value":[]}},"message":"User validation failed: assignedSchoolIds: Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"ValidationError"},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/login","timestamp":"2025-02-28T22:34:02.086Z"}
{"email":"riccardonicolilb@gmail.com","error":"User validation failed: assignedSchoolIds: Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","level":"error","message":"Login error:","stack":"ValidationError: User validation failed: assignedSchoolIds: Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at _init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:791:18)\n    at init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:737:5)\n    at Document.$__init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:693:3)\n    at model.syncWrapper [as $__init] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\kareem\\index.js:331:25)\n    at Document.init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:637:8)\n    at Document.$init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:653:42)\n    at Object.createModelAndInit (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\queryhelpers.js:138:12)\n    at completeOne (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3142:11)\n    at Query._completeOne (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2501:7)","timestamp":"2025-02-28T22:34:12.516Z"}
{"error":"User validation failed: assignedSchoolIds: Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","level":"error","message":"Login error:","stack":"ValidationError: User validation failed: assignedSchoolIds: Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at _init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:791:18)\n    at init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:737:5)\n    at Document.$__init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:693:3)\n    at model.syncWrapper [as $__init] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\kareem\\index.js:331:25)\n    at Document.init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:637:8)\n    at Document.$init (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:653:42)\n    at Object.createModelAndInit (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\queryhelpers.js:138:12)\n    at completeOne (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3142:11)\n    at Query._completeOne (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:2501:7)","timestamp":"2025-02-28T22:34:12.517Z"}
{"error":{"_message":"User validation failed","errors":{"assignedSchoolIds":{"kind":"cast","message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"ValidatorError","path":"assignedSchoolIds","properties":{"message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","path":"assignedSchoolIds","reason":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"CastError","path":"assignedSchoolIds","reason":{},"stringValue":"\"[]\"","value":[],"valueType":"Array"},"type":"cast","value":[]},"reason":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"CastError","path":"assignedSchoolIds","reason":{},"stringValue":"\"[]\"","value":[],"valueType":"Array"},"value":[]}},"message":"User validation failed: assignedSchoolIds: Cast to ObjectId failed for value \"[]\" (type Array) at path \"assignedSchoolIds\" because of \"BSONError\"","name":"ValidationError"},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/login","timestamp":"2025-02-28T22:34:12.518Z"}
{"error":"Impossibile rimuovere l'ultimo admin della scuola","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"679fdad474255ebc8afab683","timestamp":"2025-02-28T22:49:32.113Z","userId":"67c0c5d1285a82c16495c6dc"}
{"error":"Impossibile rimuovere l'ultimo admin della scuola","level":"error","message":"Errore nella rimozione dell'utente dalla scuola:","schoolId":"679fdad474255ebc8afab683","timestamp":"2025-02-28T22:49:32.114Z","userId":"67c0c5d1285a82c16495c6dc"}

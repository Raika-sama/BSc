{"error":"requireAdminAccess is not a function","level":"error","message":"Errore durante l'avvio del server:","stack":"TypeError: requireAdminAccess is not a function\n    at createUserRouter (C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\userRoutes.js:58:16)\n    at createRouter (C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\index.js:44:47)\n    at startServer (C:\\Users\\ricca\\Desktop\\BSc\\src\\app.js:297:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-02-26T08:04:48.853Z"}
{"error":"hasPermission is not a function","level":"error","message":"Errore durante l'avvio del server:","stack":"TypeError: hasPermission is not a function\n    at createUserRouter (C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\userRoutes.js:81:9)\n    at createRouter (C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\index.js:44:47)\n    at startServer (C:\\Users\\ricca\\Desktop\\BSc\\src\\app.js:297:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-02-26T08:05:51.800Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-02-26T08:31:08.228Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-02-26T08:31:08.229Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-02-26T08:31:08.244Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-02-26T08:31:08.245Z"}
{"email":"riccardonicolilb@gmail.com","error":"User validation failed: permissions.0.resource: Path `resource` is required., permissions.1.resource: Path `resource` is required., permissions.2.resource: Path `resource` is required., permissions.3.resource: Path `resource` is required., permissions.4.resource: Path `resource` is required., permissions.5.resource: Path `resource` is required., permissions.6.resource: Path `resource` is required., permissions.7.resource: Path `resource` is required., permissions.8.resource: Path `resource` is required., permissions.9.resource: Path `resource` is required.","level":"error","message":"Login error:","stack":"ValidationError: User validation failed: permissions.0.resource: Path `resource` is required., permissions.1.resource: Path `resource` is required., permissions.2.resource: Path `resource` is required., permissions.3.resource: Path `resource` is required., permissions.4.resource: Path `resource` is required., permissions.5.resource: Path `resource` is required., permissions.6.resource: Path `resource` is required., permissions.7.resource: Path `resource` is required., permissions.8.resource: Path `resource` is required., permissions.9.resource: Path `resource` is required.\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at Subdocument.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-02-26T08:31:47.767Z"}
{"_message":"User validation failed","errors":{"permissions.0.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.1.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.2.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.3.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.4.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.5.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.6.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.7.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.8.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.9.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}}},"level":"error","message":"Login error details:","timestamp":"2025-02-26T08:31:47.769Z"}
{"error":{"message":"Errore durante il login","metadata":{"originalError":{"_message":"User validation failed","errors":{"permissions.0.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.1.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.2.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.3.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.4.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.5.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.6.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.7.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.8.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}},"permissions.9.resource":{"kind":"required","message":"Path `resource` is required.","name":"ValidatorError","path":"resource","properties":{"message":"Path `resource` is required.","path":"resource","type":"required"}}},"message":"User validation failed: permissions.0.resource: Path `resource` is required., permissions.1.resource: Path `resource` is required., permissions.2.resource: Path `resource` is required., permissions.3.resource: Path `resource` is required., permissions.4.resource: Path `resource` is required., permissions.5.resource: Path `resource` is required., permissions.6.resource: Path `resource` is required., permissions.7.resource: Path `resource` is required., permissions.8.resource: Path `resource` is required., permissions.9.resource: Path `resource` is required.","name":"ValidationError"}}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/login","timestamp":"2025-02-26T08:31:47.771Z"}
{"email":"riccardonicolilb@gmail.com","error":"User validation failed: permissions.1.actions.0: `write` is not a valid enum value for path `actions.0`., permissions.2.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.3.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.4.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.5.resource: `results` is not a valid enum value for path `resource`., permissions.5.actions.1: `write` is not a valid enum value for path `actions.1`.","level":"error","message":"Login error:","stack":"ValidationError: User validation failed: permissions.1.actions.0: `write` is not a valid enum value for path `actions.0`., permissions.2.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.3.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.4.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.5.resource: `results` is not a valid enum value for path `resource`., permissions.5.actions.1: `write` is not a valid enum value for path `actions.1`.\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at Subdocument.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-02-26T08:35:53.674Z"}
{"_message":"User validation failed","errors":{"permissions.1.actions.0":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.0`.","name":"ValidatorError","path":"actions.0","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.0`.","path":"actions.0","type":"enum","value":"write"},"value":"write"},"permissions.2.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.3.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.4.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.resource":{"kind":"enum","message":"`results` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`results` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"results"},"value":"results"}},"level":"error","message":"Login error details:","timestamp":"2025-02-26T08:35:53.675Z"}
{"error":{"message":"Errore durante il login","metadata":{"originalError":{"_message":"User validation failed","errors":{"permissions.1.actions.0":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.0`.","name":"ValidatorError","path":"actions.0","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.0`.","path":"actions.0","type":"enum","value":"write"},"value":"write"},"permissions.2.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.3.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.4.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.resource":{"kind":"enum","message":"`results` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`results` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"results"},"value":"results"}},"message":"User validation failed: permissions.1.actions.0: `write` is not a valid enum value for path `actions.0`., permissions.2.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.3.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.4.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.5.resource: `results` is not a valid enum value for path `resource`., permissions.5.actions.1: `write` is not a valid enum value for path `actions.1`.","name":"ValidationError"}}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/login","timestamp":"2025-02-26T08:35:53.678Z"}
{"email":"riccardonicolilb@gmail.com","error":"User validation failed: permissions.0.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.1.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.2.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.3.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.4.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.5.resource: `results` is not a valid enum value for path `resource`., permissions.5.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.6.resource: `engines` is not a valid enum value for path `resource`., permissions.6.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.7.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.8.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.9.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.10.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.11.actions.1: `write` is not a valid enum value for path `actions.1`.","level":"error","message":"Login error:","stack":"ValidationError: User validation failed: permissions.0.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.1.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.2.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.3.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.4.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.5.resource: `results` is not a valid enum value for path `resource`., permissions.5.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.6.resource: `engines` is not a valid enum value for path `resource`., permissions.6.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.7.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.8.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.9.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.10.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.11.actions.1: `write` is not a valid enum value for path `actions.1`.\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at Subdocument.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-02-26T08:37:56.553Z"}
{"_message":"User validation failed","errors":{"permissions.0.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.1.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.10.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.11.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.2.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.3.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.4.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.resource":{"kind":"enum","message":"`results` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`results` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"results"},"value":"results"},"permissions.6.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.6.resource":{"kind":"enum","message":"`engines` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`engines` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"engines"},"value":"engines"},"permissions.7.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.8.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.9.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"}},"level":"error","message":"Login error details:","timestamp":"2025-02-26T08:37:56.554Z"}
{"error":{"message":"Errore durante il login","metadata":{"originalError":{"_message":"User validation failed","errors":{"permissions.0.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.1.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.10.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.11.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.2.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.3.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.4.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.resource":{"kind":"enum","message":"`results` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`results` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"results"},"value":"results"},"permissions.6.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.6.resource":{"kind":"enum","message":"`engines` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`engines` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"engines"},"value":"engines"},"permissions.7.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.8.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.9.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"}},"message":"User validation failed: permissions.0.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.1.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.2.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.3.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.4.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.5.resource: `results` is not a valid enum value for path `resource`., permissions.5.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.6.resource: `engines` is not a valid enum value for path `resource`., permissions.6.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.7.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.8.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.9.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.10.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.11.actions.1: `write` is not a valid enum value for path `actions.1`.","name":"ValidationError"}}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/login","timestamp":"2025-02-26T08:37:56.561Z"}
{"email":"riccardonicolilb@gmail.com","error":"User validation failed: permissions.0.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.1.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.2.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.3.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.4.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.5.resource: `results` is not a valid enum value for path `resource`., permissions.5.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.6.resource: `engines` is not a valid enum value for path `resource`., permissions.6.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.7.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.8.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.9.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.10.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.11.actions.1: `write` is not a valid enum value for path `actions.1`.","level":"error","message":"Login error:","stack":"ValidationError: User validation failed: permissions.0.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.1.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.2.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.3.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.4.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.5.resource: `results` is not a valid enum value for path `resource`., permissions.5.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.6.resource: `engines` is not a valid enum value for path `resource`., permissions.6.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.7.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.8.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.9.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.10.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.11.actions.1: `write` is not a valid enum value for path `actions.1`.\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at Subdocument.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-02-26T08:38:37.218Z"}
{"_message":"User validation failed","errors":{"permissions.0.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.1.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.10.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.11.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.2.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.3.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.4.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.resource":{"kind":"enum","message":"`results` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`results` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"results"},"value":"results"},"permissions.6.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.6.resource":{"kind":"enum","message":"`engines` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`engines` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"engines"},"value":"engines"},"permissions.7.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.8.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.9.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"}},"level":"error","message":"Login error details:","timestamp":"2025-02-26T08:38:37.219Z"}
{"error":{"message":"Errore durante il login","metadata":{"originalError":{"_message":"User validation failed","errors":{"permissions.0.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.1.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.10.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.11.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.2.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.3.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.4.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.5.resource":{"kind":"enum","message":"`results` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`results` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"results"},"value":"results"},"permissions.6.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.6.resource":{"kind":"enum","message":"`engines` is not a valid enum value for path `resource`.","name":"ValidatorError","path":"resource","properties":{"enumValues":["users","schools","classes","students","tests","api","finance","services","analytics","materials"],"message":"`engines` is not a valid enum value for path `resource`.","path":"resource","type":"enum","value":"engines"},"value":"engines"},"permissions.7.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.8.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"},"permissions.9.actions.1":{"kind":"enum","message":"`write` is not a valid enum value for path `actions.1`.","name":"ValidatorError","path":"actions.1","properties":{"enumValues":["read","create","update","delete","manage"],"message":"`write` is not a valid enum value for path `actions.1`.","path":"actions.1","type":"enum","value":"write"},"value":"write"}},"message":"User validation failed: permissions.0.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.1.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.2.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.3.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.4.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.5.resource: `results` is not a valid enum value for path `resource`., permissions.5.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.6.resource: `engines` is not a valid enum value for path `resource`., permissions.6.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.7.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.8.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.9.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.10.actions.1: `write` is not a valid enum value for path `actions.1`., permissions.11.actions.1: `write` is not a valid enum value for path `actions.1`.","name":"ValidationError"}}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/login","timestamp":"2025-02-26T08:38:37.226Z"}

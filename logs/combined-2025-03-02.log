{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-01T23:45:19.857Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"limit":"25","page":"1","search":"","sort":"-createdAt"},"requestId":"req_1740872719854_0nd64p80e","timestamp":"2025-03-01T23:45:19.868Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-01T23:45:19.870Z"}
{"duration":"17ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740872719854_0nd64p80e","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-01T23:45:19.872Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-01T23:45:26.154Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-01T23:45:26.155Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740872726151_d0z0pgoqv","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-01T23:45:26.157Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-01T23:45:26.167Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-01T23:45:26.168Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740872726164_0v05e5l4r","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-01T23:45:26.170Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-01T23:45:27.516Z","userId":"67c0296a250c5746c3d96444"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T01:46:33.623Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T01:46:33.875Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-02T01:46:35.696Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T01:46:35.699Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T01:46:35.703Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T01:46:36.247Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T01:46:36.263Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T01:46:36.265Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-02T01:47:15.575Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-02T01:47:15.579Z"}
{"duration":"37ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740880035557_n12s1c6or","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T01:47:15.596Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-02T01:47:15.614Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T01:47:15.616Z"}
{"duration":"17ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740880035603_aryc573cc","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T01:47:15.621Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T01:47:19.669Z","userId":"67c0296a250c5746c3d96444"}
{"error":{"message":"Token non più valido","metadata":{}},"level":"error","message":"Logout error","timestamp":"2025-03-02T02:06:02.751Z"}
{"error":{"message":"Token non più valido","metadata":{}},"level":"error","message":"Logout failed","timestamp":"2025-03-02T02:06:02.756Z"}
{"error":{},"level":"error","message":"Auth Route Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T02:06:02.759Z"}
{"error":{},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T02:06:02.762Z","userId":"67c0296a250c5746c3d96444"}
{"duration":"111ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740881162659_71gk65nwz","responseSize":"401 Bytes","statusCode":500,"timestamp":"2025-03-02T02:06:02.770Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T02:06:15.637Z","userId":"67c0296a250c5746c3d96444"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T11:00:45.132Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T11:00:45.204Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-02T11:00:46.135Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T11:00:46.137Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T11:00:46.138Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T11:00:46.502Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T11:00:46.512Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T11:00:46.513Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-02T11:01:11.343Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-02T11:01:11.345Z"}
{"duration":"19ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740913271335_99z3zbp1c","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T11:01:11.355Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-02T11:01:11.367Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T11:01:11.368Z"}
{"duration":"8ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740913271362_yegat7ohi","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T11:01:11.370Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T11:01:19.236Z","userId":"67c0296a250c5746c3d96444"}
{"error":{"message":"Token non più valido","metadata":{}},"level":"error","message":"Logout error","timestamp":"2025-03-02T11:01:35.750Z"}
{"error":{"message":"Token non più valido","metadata":{}},"level":"error","message":"Logout failed","timestamp":"2025-03-02T11:01:35.752Z"}
{"error":{},"level":"error","message":"Auth Route Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T11:01:35.753Z"}
{"error":{},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T11:01:35.755Z","userId":"67c0296a250c5746c3d96444"}
{"duration":"89ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740913295670_elqls7q7p","responseSize":"401 Bytes","statusCode":500,"timestamp":"2025-03-02T11:01:35.759Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T11:01:38.792Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/tests/csi/results/student/679c7494bdb941a2c47766c8","timestamp":"2025-03-02T11:07:21.588Z"}
{"duration":"433ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740913641157_ua29y8l0h","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-02T11:07:21.590Z","url":"/api/v1/tests/csi/results/student/679c7494bdb941a2c47766c8","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/tests/csi/results/student/679c7494bdb941a2c47766c8","timestamp":"2025-03-02T11:08:02.748Z"}
{"duration":"225ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740913682524_944c026d5","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-02T11:08:02.749Z","url":"/api/v1/tests/csi/results/student/679c7494bdb941a2c47766c8","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/tests/csi/results/student/679c7494bdb941a2c47766c8","timestamp":"2025-03-02T11:08:09.152Z"}
{"duration":"222ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740913688932_xgwauw9pf","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-02T11:08:09.154Z","url":"/api/v1/tests/csi/results/student/679c7494bdb941a2c47766c8","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/users/67c0c5d1285a82c16495c6dc/history","timestamp":"2025-03-02T11:10:01.460Z"}
{"duration":"140ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740913801322_w4judf9t2","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-02T11:10:01.462Z","url":"/api/v1/users/67c0c5d1285a82c16495c6dc/history","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-02T12:01:46.631Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"institutionType":"","limit":"10","page":"1","populate":"manager","region":"","schoolType":""},"requestId":"req_1740916906628_3fhv50pt5","timestamp":"2025-03-02T12:01:46.639Z","url":"/api/v1/schools?page=1&limit=10&populate=manager&region=&schoolType=&institutionType="}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T12:01:46.643Z"}
{"duration":"21ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740916906628_3fhv50pt5","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T12:01:46.650Z","url":"/api/v1/schools?page=1&limit=10&populate=manager&region=&schoolType=&institutionType=","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-02T12:01:50.111Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-02T12:01:50.112Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740916910108_xpfox2gy6","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T12:01:50.114Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-02T12:01:50.124Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T12:01:50.125Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740916910121_wyyu1phai","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T12:01:50.127Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T12:01:51.810Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"warn","message":"Route not found:","method":"POST","path":"/api/v1/schools/679fdad474255ebc8afab683/change-type","timestamp":"2025-03-02T12:03:05.980Z"}
{"duration":"163ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740916985818_cugtxj32x","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-02T12:03:05.981Z","url":"/api/v1/schools/679fdad474255ebc8afab683/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Route not found:","method":"POST","path":"/api/v1/schools/679fdad474255ebc8afab683/change-type","timestamp":"2025-03-02T12:26:17.804Z"}
{"duration":"935ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740918376870_cmhg9dt40","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-02T12:26:17.805Z","url":"/api/v1/schools/679fdad474255ebc8afab683/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T12:34:01.112Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T12:34:01.231Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-02T12:34:02.214Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T12:34:02.215Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T12:34:02.216Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T12:34:02.591Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T12:34:02.603Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T12:34:02.604Z"}
{"error":"this.findById(...).session is not a function","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"679fdad474255ebc8afab683","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.changeSchoolType (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:1077:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async SchoolController.changeSchoolType (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\schoolController.js:1026:28)","timestamp":"2025-03-02T12:34:10.457Z"}
{"duration":"151ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740918850308_vpzczr29q","responseSize":"108 Bytes","statusCode":500,"timestamp":"2025-03-02T12:34:10.460Z","url":"/api/v1/schools/679fdad474255ebc8afab683/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T12:36:43.270Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T12:36:43.316Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-02T12:36:44.069Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T12:36:44.070Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T12:36:44.072Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T12:36:44.362Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T12:36:44.366Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T12:36:44.366Z"}
{"error":"La scuola deve avere un manager","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"679fdad474255ebc8afab683","stack":"Error: La scuola deve avere un manager\n    at model.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\models\\School.js:157:19)\n    at callMiddlewareFunction (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\kareem\\index.js:628:27)\n    at model.next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\kareem\\index.js:93:7)\n    at _next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\kareem\\index.js:146:10)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\kareem\\index.js:653:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-02T12:38:19.552Z"}
{"duration":"200ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740919099355_w3w9pnjh7","responseSize":"95 Bytes","statusCode":500,"timestamp":"2025-03-02T12:38:19.555Z","url":"/api/v1/schools/679fdad474255ebc8afab683/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T12:43:24.957Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T12:43:25.014Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-03-02T12:43:26.035Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T12:43:26.036Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T12:43:26.037Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T12:43:26.319Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T12:43:26.323Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T12:43:26.324Z"}
{"level":"info","message":"Tipo scuola cambiato con successo:","newInstitutionType":"scientific","newType":"high_school","schoolId":"679fdad474255ebc8afab683","timestamp":"2025-03-02T12:43:40.443Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T12:49:19.050Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T12:49:19.097Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-02T12:49:19.812Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T12:49:19.814Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T12:49:19.815Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T12:49:20.091Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T12:49:20.097Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T12:49:20.098Z"}
{"error":"Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T12:49:30.762Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"679fdad474255ebc8afab683","stack":"CastError: Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T12:49:30.762Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"\n    at DocumentArrayPath.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\documentarray.js:498:19)\n    at SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at castUpdateVal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:525:22)\n    at walkUpdatePath (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:280:26)\n    at castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:110:7)\n    at model.Query._castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4727:10)\n    at model.Query._updateThunk (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3892:25)\n    at model.Query._updateMany (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3967:23)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-02T12:49:30.784Z"}
{"duration":"262ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740919770524_1oj8isul9","responseSize":"379 Bytes","statusCode":500,"timestamp":"2025-03-02T12:49:30.787Z","url":"/api/v1/schools/679fdad474255ebc8afab683/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"academicYear":"2024/2025","level":"info","message":"Inizializzazione classi per la scuola","schoolId":"67c454061dbaba04e72dc2ec","sectionsCount":1,"timestamp":"2025-03-02T12:50:14.417Z"}
{"classesCreated":3,"level":"info","message":"Classi iniziali create con successo","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T12:50:14.643Z"}
{"error":"Class validation failed: year: 4 non è un anno valido per questo tipo di scuola","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"67c454061dbaba04e72dc2ec","stack":"ValidationError: Class validation failed: year: 4 non è un anno valido per questo tipo di scuola\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-02T12:50:27.918Z"}
{"duration":"234ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740919827686_0zy4k05uw","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T12:50:27.920Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T12:54:24.631Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T12:54:24.675Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-02T12:54:25.317Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T12:54:25.319Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T12:54:25.320Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T12:54:25.584Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T12:54:25.588Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T12:54:25.589Z"}
{"level":"info","message":"Creazione classi 4-5 per cambio da scuola media a superiore","newType":"high_school","originalType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T12:54:38.232Z"}
{"error":"Class validation failed: year: 4 non è un anno valido per questo tipo di scuola","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"67c454061dbaba04e72dc2ec","stack":"ValidationError: Class validation failed: year: 4 non è un anno valido per questo tipo di scuola\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-02T12:54:38.300Z"}
{"duration":"268ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740920078035_lf46fw07r","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T12:54:38.303Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Creazione classi 4-5 per cambio da scuola media a superiore","newType":"high_school","originalType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T12:54:57.294Z"}
{"error":"Class validation failed: year: 4 non è un anno valido per questo tipo di scuola","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"67c454061dbaba04e72dc2ec","stack":"ValidationError: Class validation failed: year: 4 non è un anno valido per questo tipo di scuola\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-02T12:54:57.352Z"}
{"duration":"249ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740920097105_ejcokbznz","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T12:54:57.354Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T12:58:01.368Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T12:58:01.414Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-02T12:58:02.057Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T12:58:02.058Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T12:58:02.059Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T12:58:02.320Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T12:58:02.326Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T12:58:02.326Z"}
{"level":"info","message":"Creazione classi 4-5 per cambio da scuola media a superiore","newType":"high_school","originalType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T12:58:34.441Z"}
{"error":"Class validation failed: year: 4 non è un anno valido per questo tipo di scuola","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"67c454061dbaba04e72dc2ec","stack":"ValidationError: Class validation failed: year: 4 non è un anno valido per questo tipo di scuola\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-02T12:58:34.523Z"}
{"duration":"386ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740920314139_qc0in6sid","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T12:58:34.525Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Tipo scuola cambiato con successo:","newInstitutionType":"scientific","newType":"high_school","schoolId":"67c236a42373b42426264bf6","timestamp":"2025-03-02T12:58:57.627Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Tipo scuola cambiato con successo:","newInstitutionType":"artistic","newType":"high_school","schoolId":"67c236a42373b42426264bf6","timestamp":"2025-03-02T12:59:07.016Z","userId":"677bfe44f6789c907c9f3766"}
{"error":"Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T12:59:20.254Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"679fdad474255ebc8afab683","stack":"CastError: Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T12:59:20.254Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"\n    at DocumentArrayPath.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\documentarray.js:498:19)\n    at SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at castUpdateVal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:525:22)\n    at walkUpdatePath (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:280:26)\n    at castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:110:7)\n    at model.Query._castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4727:10)\n    at model.Query._updateThunk (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3892:25)\n    at model.Query._updateMany (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3967:23)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-02T12:59:20.274Z"}
{"duration":"237ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740920360039_gt2wp6iaz","responseSize":"379 Bytes","statusCode":500,"timestamp":"2025-03-02T12:59:20.276Z","url":"/api/v1/schools/679fdad474255ebc8afab683/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":"Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T12:59:24.009Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"679fdad474255ebc8afab683","stack":"CastError: Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T12:59:24.009Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"\n    at DocumentArrayPath.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\documentarray.js:498:19)\n    at SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at castUpdateVal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:525:22)\n    at walkUpdatePath (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:280:26)\n    at castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:110:7)\n    at model.Query._castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4727:10)\n    at model.Query._updateThunk (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3892:25)\n    at model.Query._updateMany (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3967:23)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-02T12:59:24.027Z"}
{"duration":"231ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740920363798_c8kwqnh6g","responseSize":"379 Bytes","statusCode":500,"timestamp":"2025-03-02T12:59:24.029Z","url":"/api/v1/schools/679fdad474255ebc8afab683/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Creazione classi 4-5 per cambio da scuola media a superiore","newType":"high_school","originalType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T12:59:36.021Z"}
{"error":"Class validation failed: year: 4 non è un anno valido per questo tipo di scuola","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"67c454061dbaba04e72dc2ec","stack":"ValidationError: Class validation failed: year: 4 non è un anno valido per questo tipo di scuola\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-02T12:59:36.088Z"}
{"duration":"353ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740920375738_cylydg44h","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T12:59:36.091Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T13:02:43.650Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T13:02:43.693Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-03-02T13:02:44.566Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T13:02:44.567Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T13:02:44.568Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T13:02:44.815Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T13:02:44.819Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T13:02:44.819Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-02T13:03:02.196Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-02T13:03:02.197Z"}
{"duration":"11ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740920582191_roz1y45dx","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T13:03:02.203Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-02T13:03:02.210Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T13:03:02.211Z"}
{"duration":"8ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740920582206_swym89iff","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T13:03:02.214Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T13:03:04.451Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Creazione classi 4-5 per cambio da scuola media a superiore","newType":"high_school","originalType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T13:03:10.640Z"}
{"level":"info","message":"Create classi 4 e 5 della sezione A per cambio tipo scuola","schoolId":"67c454061dbaba04e72dc2ec","section":"A","timestamp":"2025-03-02T13:03:10.688Z"}
{"level":"info","message":"Tipo scuola cambiato con successo:","newInstitutionType":"none","newType":"high_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T13:03:10.709Z","userId":"677bfe44f6789c907c9f3766"}
{"error":"Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T13:03:46.532Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"","level":"error","message":"Errore nel cambio tipo scuola:","stack":"CastError: Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T13:03:46.532Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"\n    at DocumentArrayPath.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\documentarray.js:498:19)\n    at SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at castUpdateVal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:525:22)\n    at walkUpdatePath (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:280:26)\n    at castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:110:7)\n    at model.Query._castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4727:10)\n    at model.Query._updateThunk (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3892:25)\n    at model.Query._updateMany (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3967:23)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-02T13:03:46.551Z"}
{"error":"Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T13:03:46.532Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"67c454061dbaba04e72dc2ec","stack":"CastError: Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T13:03:46.532Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"\n    at DocumentArrayPath.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\documentarray.js:498:19)\n    at SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at castUpdateVal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:525:22)\n    at walkUpdatePath (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:280:26)\n    at castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:110:7)\n    at model.Query._castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4727:10)\n    at model.Query._updateThunk (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3892:25)\n    at model.Query._updateMany (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3967:23)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-02T13:03:46.552Z"}
{"duration":"239ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740920626315_fnntcxehz","responseSize":"379 Bytes","statusCode":500,"timestamp":"2025-03-02T13:03:46.554Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T13:06:45.390Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T13:06:45.435Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-02T13:06:46.077Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T13:06:46.079Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T13:06:46.080Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T13:06:46.334Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T13:06:46.338Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T13:06:46.338Z"}
{"level":"info","message":"Tipo scuola cambiato con successo:","newInstitutionType":"none","newType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T13:07:00.244Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Tipo scuola cambiato con successo:","newInstitutionType":"none","newType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T13:08:00.501Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Creazione classi 4-5 per cambio da scuola media a superiore","newType":"high_school","originalType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T13:08:22.170Z"}
{"error":"E11000 duplicate key error collection: brainScannerDB.classes index: schoolId_1_year_1_section_1_academicYear_1 dup key: { schoolId: ObjectId('67c454061dbaba04e72dc2ec'), year: 4, section: \"A\", academicYear: \"2024/2025\" }","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoBulkWriteError: E11000 duplicate key error collection: brainScannerDB.classes index: schoolId_1_year_1_section_1_academicYear_1 dup key: { schoolId: ObjectId('67c454061dbaba04e72dc2ec'), year: 4, section: \"A\", academicYear: \"2024/2025\" }\n    at OrderedBulkOperation.handleWriteError (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\bulk\\common.js:860:22)\n    at resultHandler (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\bulk\\common.js:350:27)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\utils.js:297:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-02T13:08:22.232Z"}
{"error":"E11000 duplicate key error collection: brainScannerDB.classes index: schoolId_1_year_1_section_1_academicYear_1 dup key: { schoolId: ObjectId('67c454061dbaba04e72dc2ec'), year: 4, section: \"A\", academicYear: \"2024/2025\" }","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"67c454061dbaba04e72dc2ec","stack":"MongoBulkWriteError: E11000 duplicate key error collection: brainScannerDB.classes index: schoolId_1_year_1_section_1_academicYear_1 dup key: { schoolId: ObjectId('67c454061dbaba04e72dc2ec'), year: 4, section: \"A\", academicYear: \"2024/2025\" }\n    at OrderedBulkOperation.handleWriteError (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\bulk\\common.js:860:22)\n    at resultHandler (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\bulk\\common.js:350:27)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\utils.js:297:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-02T13:08:22.233Z"}
{"duration":"245ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740920901990_2uaf0b0y0","responseSize":"279 Bytes","statusCode":500,"timestamp":"2025-03-02T13:08:22.235Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T13:16:39.600Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T13:16:39.646Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-02T13:16:40.304Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T13:16:40.306Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T13:16:40.307Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T13:16:40.585Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T13:16:40.589Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T13:16:40.590Z"}
{"level":"info","message":"Gestione classi 4-5 per cambio da scuola media a superiore","newType":"high_school","originalType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T13:17:20.099Z"}
{"error":"Class validation failed: year: 4 non è un anno valido per questo tipo di scuola","level":"error","message":"Errore nel cambio tipo scuola:","stack":"ValidationError: Class validation failed: year: 4 non è un anno valido per questo tipo di scuola\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-02T13:17:20.163Z"}
{"error":"Class validation failed: year: 4 non è un anno valido per questo tipo di scuola","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"67c454061dbaba04e72dc2ec","stack":"ValidationError: Class validation failed: year: 4 non è un anno valido per questo tipo di scuola\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-02T13:17:20.164Z"}
{"duration":"257ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740921439909_943qt7hpa","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T13:17:20.166Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T13:20:59.751Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T13:20:59.795Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-02T13:21:00.466Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T13:21:00.468Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T13:21:00.469Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T13:21:00.731Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T13:21:00.735Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T13:21:00.736Z"}
{"level":"info","message":"Gestione classi 4-5 per cambio da scuola media a superiore","newType":"high_school","originalType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T13:21:28.464Z"}
{"classId":"67c4570ebdd94ab3d528a804","level":"info","message":"Riattivata classe 4A per cambio tipo scuola","schoolId":"67c454061dbaba04e72dc2ec","section":"A","timestamp":"2025-03-02T13:21:28.525Z"}
{"classId":"67c4570ebdd94ab3d528a805","level":"info","message":"Riattivata classe 5A per cambio tipo scuola","schoolId":"67c454061dbaba04e72dc2ec","section":"A","timestamp":"2025-03-02T13:21:28.561Z"}
{"level":"info","message":"Tipo scuola cambiato con successo:","newInstitutionType":"none","newType":"high_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T13:21:28.582Z","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-02T14:04:23.050Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"limit":"25","page":"1","search":"","sort":"-createdAt"},"requestId":"req_1740924263047_rbtxem7fz","timestamp":"2025-03-02T14:04:23.052Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T14:04:23.053Z"}
{"duration":"8ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740924263047_rbtxem7fz","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T14:04:23.055Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-02T14:04:26.345Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-02T14:04:26.346Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740924266341_2wpxnxuft","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T14:04:26.347Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-02T14:04:26.358Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T14:04:26.361Z"}
{"duration":"14ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740924266353_ybopv5po7","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T14:04:26.367Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T14:04:27.679Z","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-02T15:32:50.764Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{},"requestId":"req_1740929570760_qmgwhdd01","timestamp":"2025-03-02T15:32:50.765Z","url":"/api/v1/classes"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T15:32:50.766Z"}
{"duration":"9ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740929570760_qmgwhdd01","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T15:32:50.769Z","url":"/api/v1/classes","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-02T15:35:08.283Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"limit":"25","page":"1","search":"","sort":"-createdAt"},"requestId":"req_1740929708281_tqyzuwozl","timestamp":"2025-03-02T15:35:08.284Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T15:35:08.285Z"}
{"duration":"5ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740929708281_tqyzuwozl","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T15:35:08.286Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/67c02995250c5746c3d9647c","timestamp":"2025-03-02T15:35:29.784Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{},"requestId":"req_1740929729779_bkxxaxotx","timestamp":"2025-03-02T15:35:29.786Z","url":"/api/v1/users/67c02995250c5746c3d9647c"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T15:35:29.787Z"}
{"duration":"10ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740929729779_bkxxaxotx","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T15:35:29.789Z","url":"/api/v1/users/67c02995250c5746c3d9647c","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-02T15:35:36.079Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-02T15:35:36.079Z"}
{"duration":"4ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740929736076_lar7t1j0s","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T15:35:36.080Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-02T15:35:36.086Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T15:35:36.087Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740929736083_0oz2uuxe3","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T15:35:36.089Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T15:35:44.486Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/users/67c02995250c5746c3d9647c/history","timestamp":"2025-03-02T15:37:26.966Z"}
{"duration":"153ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740929846814_plvtdfrpu","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-02T15:37:26.967Z","url":"/api/v1/users/67c02995250c5746c3d9647c/history","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T18:26:24.083Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T18:26:24.111Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-03-02T18:26:25.448Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T18:26:25.449Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T18:26:25.450Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T18:26:25.730Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T18:26:25.733Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T18:26:25.734Z"}
{"error":{},"level":"error","message":"Login error","timestamp":"2025-03-02T18:26:36.592Z"}
{"error":{},"level":"error","message":"Student login error","timestamp":"2025-03-02T18:26:36.593Z"}
{"level":"error","message":"undefined error:","timestamp":"2025-03-02T18:26:36.594Z"}
{"duration":"107ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740939996489_9p82vs3yl","responseSize":"94 Bytes","statusCode":500,"timestamp":"2025-03-02T18:26:36.597Z","url":"/api/v1/student-auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T18:37:43.092Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T18:37:43.127Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-02T18:37:43.689Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T18:37:43.692Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T18:37:43.695Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T18:37:43.964Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T18:37:43.966Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T18:37:43.967Z"}
{"level":"info","message":"Reset password completato","studentId":"67b20991d8fdac4600a0def6","timestamp":"2025-03-02T18:38:13.868Z"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T18:47:05.485Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T18:47:05.513Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-02T18:47:06.128Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T18:47:06.129Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T18:47:06.131Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T18:47:06.407Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T18:47:06.410Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T18:47:06.410Z"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T19:15:09.796Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T19:15:09.828Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-02T19:15:10.384Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T19:15:10.385Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T19:15:10.386Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T19:15:10.640Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T19:15:10.642Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T19:15:10.643Z"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T19:20:43.482Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T19:20:43.513Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-02T19:20:44.139Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T19:20:44.140Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T19:20:44.142Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T19:20:44.420Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T19:20:44.423Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T19:20:44.423Z"}
{"level":"info","message":"Student logged out","studentId":"unknown","timestamp":"2025-03-02T19:29:43.154Z"}
{"level":"info","message":"Student logged out","studentId":"unknown","timestamp":"2025-03-02T19:38:13.031Z"}
{"level":"info","message":"Student logged out","studentId":"unknown","timestamp":"2025-03-02T19:55:51.135Z"}

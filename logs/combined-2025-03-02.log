{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-01T23:45:19.857Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"limit":"25","page":"1","search":"","sort":"-createdAt"},"requestId":"req_1740872719854_0nd64p80e","timestamp":"2025-03-01T23:45:19.868Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-01T23:45:19.870Z"}
{"duration":"17ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740872719854_0nd64p80e","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-01T23:45:19.872Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-01T23:45:26.154Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-01T23:45:26.155Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740872726151_d0z0pgoqv","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-01T23:45:26.157Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-01T23:45:26.167Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-01T23:45:26.168Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740872726164_0v05e5l4r","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-01T23:45:26.170Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-01T23:45:27.516Z","userId":"67c0296a250c5746c3d96444"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T01:46:33.623Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T01:46:33.875Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-02T01:46:35.696Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T01:46:35.699Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T01:46:35.703Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T01:46:36.247Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T01:46:36.263Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T01:46:36.265Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-02T01:47:15.575Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-02T01:47:15.579Z"}
{"duration":"37ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740880035557_n12s1c6or","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T01:47:15.596Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-02T01:47:15.614Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T01:47:15.616Z"}
{"duration":"17ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740880035603_aryc573cc","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T01:47:15.621Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T01:47:19.669Z","userId":"67c0296a250c5746c3d96444"}
{"error":{"message":"Token non più valido","metadata":{}},"level":"error","message":"Logout error","timestamp":"2025-03-02T02:06:02.751Z"}
{"error":{"message":"Token non più valido","metadata":{}},"level":"error","message":"Logout failed","timestamp":"2025-03-02T02:06:02.756Z"}
{"error":{},"level":"error","message":"Auth Route Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T02:06:02.759Z"}
{"error":{},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T02:06:02.762Z","userId":"67c0296a250c5746c3d96444"}
{"duration":"111ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740881162659_71gk65nwz","responseSize":"401 Bytes","statusCode":500,"timestamp":"2025-03-02T02:06:02.770Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T02:06:15.637Z","userId":"67c0296a250c5746c3d96444"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T11:00:45.132Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T11:00:45.204Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-02T11:00:46.135Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T11:00:46.137Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T11:00:46.138Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T11:00:46.502Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T11:00:46.512Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T11:00:46.513Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-02T11:01:11.343Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-02T11:01:11.345Z"}
{"duration":"19ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740913271335_99z3zbp1c","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T11:01:11.355Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-02T11:01:11.367Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T11:01:11.368Z"}
{"duration":"8ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740913271362_yegat7ohi","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T11:01:11.370Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T11:01:19.236Z","userId":"67c0296a250c5746c3d96444"}
{"error":{"message":"Token non più valido","metadata":{}},"level":"error","message":"Logout error","timestamp":"2025-03-02T11:01:35.750Z"}
{"error":{"message":"Token non più valido","metadata":{}},"level":"error","message":"Logout failed","timestamp":"2025-03-02T11:01:35.752Z"}
{"error":{},"level":"error","message":"Auth Route Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T11:01:35.753Z"}
{"error":{},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T11:01:35.755Z","userId":"67c0296a250c5746c3d96444"}
{"duration":"89ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740913295670_elqls7q7p","responseSize":"401 Bytes","statusCode":500,"timestamp":"2025-03-02T11:01:35.759Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T11:01:38.792Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/tests/csi/results/student/679c7494bdb941a2c47766c8","timestamp":"2025-03-02T11:07:21.588Z"}
{"duration":"433ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740913641157_ua29y8l0h","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-02T11:07:21.590Z","url":"/api/v1/tests/csi/results/student/679c7494bdb941a2c47766c8","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/tests/csi/results/student/679c7494bdb941a2c47766c8","timestamp":"2025-03-02T11:08:02.748Z"}
{"duration":"225ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740913682524_944c026d5","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-02T11:08:02.749Z","url":"/api/v1/tests/csi/results/student/679c7494bdb941a2c47766c8","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/tests/csi/results/student/679c7494bdb941a2c47766c8","timestamp":"2025-03-02T11:08:09.152Z"}
{"duration":"222ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740913688932_xgwauw9pf","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-02T11:08:09.154Z","url":"/api/v1/tests/csi/results/student/679c7494bdb941a2c47766c8","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/users/67c0c5d1285a82c16495c6dc/history","timestamp":"2025-03-02T11:10:01.460Z"}
{"duration":"140ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740913801322_w4judf9t2","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-02T11:10:01.462Z","url":"/api/v1/users/67c0c5d1285a82c16495c6dc/history","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-02T12:01:46.631Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"institutionType":"","limit":"10","page":"1","populate":"manager","region":"","schoolType":""},"requestId":"req_1740916906628_3fhv50pt5","timestamp":"2025-03-02T12:01:46.639Z","url":"/api/v1/schools?page=1&limit=10&populate=manager&region=&schoolType=&institutionType="}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T12:01:46.643Z"}
{"duration":"21ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740916906628_3fhv50pt5","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T12:01:46.650Z","url":"/api/v1/schools?page=1&limit=10&populate=manager&region=&schoolType=&institutionType=","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-02T12:01:50.111Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-02T12:01:50.112Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740916910108_xpfox2gy6","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T12:01:50.114Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-02T12:01:50.124Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T12:01:50.125Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740916910121_wyyu1phai","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T12:01:50.127Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T12:01:51.810Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"warn","message":"Route not found:","method":"POST","path":"/api/v1/schools/679fdad474255ebc8afab683/change-type","timestamp":"2025-03-02T12:03:05.980Z"}
{"duration":"163ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740916985818_cugtxj32x","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-02T12:03:05.981Z","url":"/api/v1/schools/679fdad474255ebc8afab683/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"warn","message":"Route not found:","method":"POST","path":"/api/v1/schools/679fdad474255ebc8afab683/change-type","timestamp":"2025-03-02T12:26:17.804Z"}
{"duration":"935ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740918376870_cmhg9dt40","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-02T12:26:17.805Z","url":"/api/v1/schools/679fdad474255ebc8afab683/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T12:34:01.112Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T12:34:01.231Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-02T12:34:02.214Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T12:34:02.215Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T12:34:02.216Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T12:34:02.591Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T12:34:02.603Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T12:34:02.604Z"}
{"error":"this.findById(...).session is not a function","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"679fdad474255ebc8afab683","stack":"TypeError: this.findById(...).session is not a function\n    at SchoolRepository.changeSchoolType (C:\\Users\\ricca\\Desktop\\BSc\\src\\repositories\\SchoolRepository.js:1077:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async SchoolController.changeSchoolType (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\schoolController.js:1026:28)","timestamp":"2025-03-02T12:34:10.457Z"}
{"duration":"151ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740918850308_vpzczr29q","responseSize":"108 Bytes","statusCode":500,"timestamp":"2025-03-02T12:34:10.460Z","url":"/api/v1/schools/679fdad474255ebc8afab683/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T12:36:43.270Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T12:36:43.316Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-02T12:36:44.069Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T12:36:44.070Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T12:36:44.072Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T12:36:44.362Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T12:36:44.366Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T12:36:44.366Z"}
{"error":"La scuola deve avere un manager","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"679fdad474255ebc8afab683","stack":"Error: La scuola deve avere un manager\n    at model.<anonymous> (C:\\Users\\ricca\\Desktop\\BSc\\src\\models\\School.js:157:19)\n    at callMiddlewareFunction (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\kareem\\index.js:628:27)\n    at model.next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\kareem\\index.js:93:7)\n    at _next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\kareem\\index.js:146:10)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\kareem\\index.js:653:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-02T12:38:19.552Z"}
{"duration":"200ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740919099355_w3w9pnjh7","responseSize":"95 Bytes","statusCode":500,"timestamp":"2025-03-02T12:38:19.555Z","url":"/api/v1/schools/679fdad474255ebc8afab683/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T12:43:24.957Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T12:43:25.014Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-03-02T12:43:26.035Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T12:43:26.036Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T12:43:26.037Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T12:43:26.319Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T12:43:26.323Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T12:43:26.324Z"}
{"level":"info","message":"Tipo scuola cambiato con successo:","newInstitutionType":"scientific","newType":"high_school","schoolId":"679fdad474255ebc8afab683","timestamp":"2025-03-02T12:43:40.443Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T12:49:19.050Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T12:49:19.097Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-02T12:49:19.812Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T12:49:19.814Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T12:49:19.815Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T12:49:20.091Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T12:49:20.097Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T12:49:20.098Z"}
{"error":"Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T12:49:30.762Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"679fdad474255ebc8afab683","stack":"CastError: Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T12:49:30.762Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"\n    at DocumentArrayPath.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\documentarray.js:498:19)\n    at SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at castUpdateVal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:525:22)\n    at walkUpdatePath (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:280:26)\n    at castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:110:7)\n    at model.Query._castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4727:10)\n    at model.Query._updateThunk (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3892:25)\n    at model.Query._updateMany (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3967:23)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-02T12:49:30.784Z"}
{"duration":"262ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740919770524_1oj8isul9","responseSize":"379 Bytes","statusCode":500,"timestamp":"2025-03-02T12:49:30.787Z","url":"/api/v1/schools/679fdad474255ebc8afab683/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"academicYear":"2024/2025","level":"info","message":"Inizializzazione classi per la scuola","schoolId":"67c454061dbaba04e72dc2ec","sectionsCount":1,"timestamp":"2025-03-02T12:50:14.417Z"}
{"classesCreated":3,"level":"info","message":"Classi iniziali create con successo","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T12:50:14.643Z"}
{"error":"Class validation failed: year: 4 non è un anno valido per questo tipo di scuola","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"67c454061dbaba04e72dc2ec","stack":"ValidationError: Class validation failed: year: 4 non è un anno valido per questo tipo di scuola\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-02T12:50:27.918Z"}
{"duration":"234ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740919827686_0zy4k05uw","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T12:50:27.920Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T12:54:24.631Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T12:54:24.675Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-02T12:54:25.317Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T12:54:25.319Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T12:54:25.320Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T12:54:25.584Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T12:54:25.588Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T12:54:25.589Z"}
{"level":"info","message":"Creazione classi 4-5 per cambio da scuola media a superiore","newType":"high_school","originalType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T12:54:38.232Z"}
{"error":"Class validation failed: year: 4 non è un anno valido per questo tipo di scuola","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"67c454061dbaba04e72dc2ec","stack":"ValidationError: Class validation failed: year: 4 non è un anno valido per questo tipo di scuola\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-02T12:54:38.300Z"}
{"duration":"268ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740920078035_lf46fw07r","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T12:54:38.303Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Creazione classi 4-5 per cambio da scuola media a superiore","newType":"high_school","originalType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T12:54:57.294Z"}
{"error":"Class validation failed: year: 4 non è un anno valido per questo tipo di scuola","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"67c454061dbaba04e72dc2ec","stack":"ValidationError: Class validation failed: year: 4 non è un anno valido per questo tipo di scuola\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-02T12:54:57.352Z"}
{"duration":"249ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740920097105_ejcokbznz","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T12:54:57.354Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T12:58:01.368Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T12:58:01.414Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-02T12:58:02.057Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T12:58:02.058Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T12:58:02.059Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T12:58:02.320Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T12:58:02.326Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T12:58:02.326Z"}
{"level":"info","message":"Creazione classi 4-5 per cambio da scuola media a superiore","newType":"high_school","originalType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T12:58:34.441Z"}
{"error":"Class validation failed: year: 4 non è un anno valido per questo tipo di scuola","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"67c454061dbaba04e72dc2ec","stack":"ValidationError: Class validation failed: year: 4 non è un anno valido per questo tipo di scuola\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-02T12:58:34.523Z"}
{"duration":"386ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740920314139_qc0in6sid","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T12:58:34.525Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Tipo scuola cambiato con successo:","newInstitutionType":"scientific","newType":"high_school","schoolId":"67c236a42373b42426264bf6","timestamp":"2025-03-02T12:58:57.627Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Tipo scuola cambiato con successo:","newInstitutionType":"artistic","newType":"high_school","schoolId":"67c236a42373b42426264bf6","timestamp":"2025-03-02T12:59:07.016Z","userId":"677bfe44f6789c907c9f3766"}
{"error":"Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T12:59:20.254Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"679fdad474255ebc8afab683","stack":"CastError: Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T12:59:20.254Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"\n    at DocumentArrayPath.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\documentarray.js:498:19)\n    at SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at castUpdateVal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:525:22)\n    at walkUpdatePath (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:280:26)\n    at castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:110:7)\n    at model.Query._castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4727:10)\n    at model.Query._updateThunk (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3892:25)\n    at model.Query._updateMany (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3967:23)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-02T12:59:20.274Z"}
{"duration":"237ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740920360039_gt2wp6iaz","responseSize":"379 Bytes","statusCode":500,"timestamp":"2025-03-02T12:59:20.276Z","url":"/api/v1/schools/679fdad474255ebc8afab683/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":"Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T12:59:24.009Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"679fdad474255ebc8afab683","stack":"CastError: Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T12:59:24.009Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"\n    at DocumentArrayPath.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\documentarray.js:498:19)\n    at SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at castUpdateVal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:525:22)\n    at walkUpdatePath (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:280:26)\n    at castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:110:7)\n    at model.Query._castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4727:10)\n    at model.Query._updateThunk (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3892:25)\n    at model.Query._updateMany (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3967:23)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-02T12:59:24.027Z"}
{"duration":"231ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740920363798_c8kwqnh6g","responseSize":"379 Bytes","statusCode":500,"timestamp":"2025-03-02T12:59:24.029Z","url":"/api/v1/schools/679fdad474255ebc8afab683/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Creazione classi 4-5 per cambio da scuola media a superiore","newType":"high_school","originalType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T12:59:36.021Z"}
{"error":"Class validation failed: year: 4 non è un anno valido per questo tipo di scuola","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"67c454061dbaba04e72dc2ec","stack":"ValidationError: Class validation failed: year: 4 non è un anno valido per questo tipo di scuola\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-02T12:59:36.088Z"}
{"duration":"353ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740920375738_cylydg44h","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T12:59:36.091Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T13:02:43.650Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T13:02:43.693Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-03-02T13:02:44.566Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T13:02:44.567Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T13:02:44.568Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T13:02:44.815Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T13:02:44.819Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T13:02:44.819Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-02T13:03:02.196Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-02T13:03:02.197Z"}
{"duration":"11ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740920582191_roz1y45dx","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T13:03:02.203Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-02T13:03:02.210Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T13:03:02.211Z"}
{"duration":"8ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740920582206_swym89iff","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T13:03:02.214Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T13:03:04.451Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Creazione classi 4-5 per cambio da scuola media a superiore","newType":"high_school","originalType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T13:03:10.640Z"}
{"level":"info","message":"Create classi 4 e 5 della sezione A per cambio tipo scuola","schoolId":"67c454061dbaba04e72dc2ec","section":"A","timestamp":"2025-03-02T13:03:10.688Z"}
{"level":"info","message":"Tipo scuola cambiato con successo:","newInstitutionType":"none","newType":"high_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T13:03:10.709Z","userId":"677bfe44f6789c907c9f3766"}
{"error":"Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T13:03:46.532Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"","level":"error","message":"Errore nel cambio tipo scuola:","stack":"CastError: Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T13:03:46.532Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"\n    at DocumentArrayPath.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\documentarray.js:498:19)\n    at SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at castUpdateVal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:525:22)\n    at walkUpdatePath (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:280:26)\n    at castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:110:7)\n    at model.Query._castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4727:10)\n    at model.Query._updateThunk (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3892:25)\n    at model.Query._updateMany (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3967:23)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-02T13:03:46.551Z"}
{"error":"Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T13:03:46.532Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"67c454061dbaba04e72dc2ec","stack":"CastError: Cast to embedded failed for value \"{\n  fromClass: '$classId',\n  fromSection: '$section',\n  fromYear: '$year',\n  date: 2025-03-02T13:03:46.532Z,\n  reason: 'Disattivazione automatica per cambio tipo scuola',\n  academicYear: '2024/2025'\n}\" (type Object) at path \"classChangeHistory\" because of \"CastError\"\n    at DocumentArrayPath.cast (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schema\\documentarray.js:498:19)\n    at SchemaType.applySetters (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1219:12)\n    at castUpdateVal (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:525:22)\n    at walkUpdatePath (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:280:26)\n    at castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\helpers\\query\\castUpdate.js:110:7)\n    at model.Query._castUpdate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4727:10)\n    at model.Query._updateThunk (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3892:25)\n    at model.Query._updateMany (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:3967:23)\n    at model.Query.exec (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\query.js:4447:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-02T13:03:46.552Z"}
{"duration":"239ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740920626315_fnntcxehz","responseSize":"379 Bytes","statusCode":500,"timestamp":"2025-03-02T13:03:46.554Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T13:06:45.390Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T13:06:45.435Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-02T13:06:46.077Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T13:06:46.079Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T13:06:46.080Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T13:06:46.334Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T13:06:46.338Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T13:06:46.338Z"}
{"level":"info","message":"Tipo scuola cambiato con successo:","newInstitutionType":"none","newType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T13:07:00.244Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Tipo scuola cambiato con successo:","newInstitutionType":"none","newType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T13:08:00.501Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Creazione classi 4-5 per cambio da scuola media a superiore","newType":"high_school","originalType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T13:08:22.170Z"}
{"error":"E11000 duplicate key error collection: brainScannerDB.classes index: schoolId_1_year_1_section_1_academicYear_1 dup key: { schoolId: ObjectId('67c454061dbaba04e72dc2ec'), year: 4, section: \"A\", academicYear: \"2024/2025\" }","level":"error","message":"Errore nel cambio tipo scuola:","stack":"MongoBulkWriteError: E11000 duplicate key error collection: brainScannerDB.classes index: schoolId_1_year_1_section_1_academicYear_1 dup key: { schoolId: ObjectId('67c454061dbaba04e72dc2ec'), year: 4, section: \"A\", academicYear: \"2024/2025\" }\n    at OrderedBulkOperation.handleWriteError (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\bulk\\common.js:860:22)\n    at resultHandler (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\bulk\\common.js:350:27)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\utils.js:297:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-02T13:08:22.232Z"}
{"error":"E11000 duplicate key error collection: brainScannerDB.classes index: schoolId_1_year_1_section_1_academicYear_1 dup key: { schoolId: ObjectId('67c454061dbaba04e72dc2ec'), year: 4, section: \"A\", academicYear: \"2024/2025\" }","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"67c454061dbaba04e72dc2ec","stack":"MongoBulkWriteError: E11000 duplicate key error collection: brainScannerDB.classes index: schoolId_1_year_1_section_1_academicYear_1 dup key: { schoolId: ObjectId('67c454061dbaba04e72dc2ec'), year: 4, section: \"A\", academicYear: \"2024/2025\" }\n    at OrderedBulkOperation.handleWriteError (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\bulk\\common.js:860:22)\n    at resultHandler (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\bulk\\common.js:350:27)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\utils.js:297:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-02T13:08:22.233Z"}
{"duration":"245ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740920901990_2uaf0b0y0","responseSize":"279 Bytes","statusCode":500,"timestamp":"2025-03-02T13:08:22.235Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T13:16:39.600Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T13:16:39.646Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-02T13:16:40.304Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T13:16:40.306Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T13:16:40.307Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T13:16:40.585Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T13:16:40.589Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T13:16:40.590Z"}
{"level":"info","message":"Gestione classi 4-5 per cambio da scuola media a superiore","newType":"high_school","originalType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T13:17:20.099Z"}
{"error":"Class validation failed: year: 4 non è un anno valido per questo tipo di scuola","level":"error","message":"Errore nel cambio tipo scuola:","stack":"ValidationError: Class validation failed: year: 4 non è un anno valido per questo tipo di scuola\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-02T13:17:20.163Z"}
{"error":"Class validation failed: year: 4 non è un anno valido per questo tipo di scuola","level":"error","message":"Errore nel cambio tipo scuola:","schoolId":"67c454061dbaba04e72dc2ec","stack":"ValidationError: Class validation failed: year: 4 non è un anno valido per questo tipo di scuola\n    at Document.invalidate (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-03-02T13:17:20.164Z"}
{"duration":"257ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740921439909_943qt7hpa","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T13:17:20.166Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/change-type","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T13:20:59.751Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T13:20:59.795Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-02T13:21:00.466Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T13:21:00.468Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T13:21:00.469Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T13:21:00.731Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T13:21:00.735Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T13:21:00.736Z"}
{"level":"info","message":"Gestione classi 4-5 per cambio da scuola media a superiore","newType":"high_school","originalType":"middle_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T13:21:28.464Z"}
{"classId":"67c4570ebdd94ab3d528a804","level":"info","message":"Riattivata classe 4A per cambio tipo scuola","schoolId":"67c454061dbaba04e72dc2ec","section":"A","timestamp":"2025-03-02T13:21:28.525Z"}
{"classId":"67c4570ebdd94ab3d528a805","level":"info","message":"Riattivata classe 5A per cambio tipo scuola","schoolId":"67c454061dbaba04e72dc2ec","section":"A","timestamp":"2025-03-02T13:21:28.561Z"}
{"level":"info","message":"Tipo scuola cambiato con successo:","newInstitutionType":"none","newType":"high_school","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T13:21:28.582Z","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-02T14:04:23.050Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"limit":"25","page":"1","search":"","sort":"-createdAt"},"requestId":"req_1740924263047_rbtxem7fz","timestamp":"2025-03-02T14:04:23.052Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T14:04:23.053Z"}
{"duration":"8ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740924263047_rbtxem7fz","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T14:04:23.055Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-02T14:04:26.345Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-02T14:04:26.346Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740924266341_2wpxnxuft","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T14:04:26.347Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-02T14:04:26.358Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T14:04:26.361Z"}
{"duration":"14ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740924266353_ybopv5po7","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T14:04:26.367Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T14:04:27.679Z","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-02T15:32:50.764Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{},"requestId":"req_1740929570760_qmgwhdd01","timestamp":"2025-03-02T15:32:50.765Z","url":"/api/v1/classes"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T15:32:50.766Z"}
{"duration":"9ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740929570760_qmgwhdd01","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T15:32:50.769Z","url":"/api/v1/classes","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-02T15:35:08.283Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"limit":"25","page":"1","search":"","sort":"-createdAt"},"requestId":"req_1740929708281_tqyzuwozl","timestamp":"2025-03-02T15:35:08.284Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T15:35:08.285Z"}
{"duration":"5ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740929708281_tqyzuwozl","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T15:35:08.286Z","url":"/api/v1/users?page=1&limit=25&search=&sort=-createdAt","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/67c02995250c5746c3d9647c","timestamp":"2025-03-02T15:35:29.784Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{},"requestId":"req_1740929729779_bkxxaxotx","timestamp":"2025-03-02T15:35:29.786Z","url":"/api/v1/users/67c02995250c5746c3d9647c"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T15:35:29.787Z"}
{"duration":"10ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740929729779_bkxxaxotx","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T15:35:29.789Z","url":"/api/v1/users/67c02995250c5746c3d9647c","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-02T15:35:36.079Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-02T15:35:36.079Z"}
{"duration":"4ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740929736076_lar7t1j0s","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T15:35:36.080Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-02T15:35:36.086Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T15:35:36.087Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740929736083_0oz2uuxe3","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T15:35:36.089Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T15:35:44.486Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"warn","message":"Route not found:","method":"GET","path":"/api/v1/users/67c02995250c5746c3d9647c/history","timestamp":"2025-03-02T15:37:26.966Z"}
{"duration":"153ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740929846814_plvtdfrpu","responseSize":"95 Bytes","statusCode":404,"timestamp":"2025-03-02T15:37:26.967Z","url":"/api/v1/users/67c02995250c5746c3d9647c/history","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-02T16:45:12.639Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"institutionType":"","limit":"10","page":"1","populate":"manager","region":"","schoolType":""},"requestId":"req_1740933912635_2n0q110ut","timestamp":"2025-03-02T16:45:12.640Z","url":"/api/v1/schools?page=1&limit=10&populate=manager&region=&schoolType=&institutionType="}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T16:45:12.641Z"}
{"duration":"7ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740933912635_2n0q110ut","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T16:45:12.642Z","url":"/api/v1/schools?page=1&limit=10&populate=manager&region=&schoolType=&institutionType=","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-02T16:52:53.576Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-02T16:52:53.577Z"}
{"duration":"8ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740934373570_dyy1rn78d","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T16:52:53.578Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-02T16:52:53.586Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T16:52:53.588Z"}
{"duration":"7ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740934373583_vhfdp61aa","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T16:52:53.590Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T16:52:55.123Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T17:06:57.717Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T17:06:57.767Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-02T17:06:58.618Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T17:06:58.619Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T17:06:58.620Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T17:06:58.968Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T17:06:58.976Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T17:06:58.977Z"}
{"class":"67c454061dbaba04e72dc30c","level":"info","message":"Student created with class successfully:","school":"67c454061dbaba04e72dc2ec","studentId":"67c4908d647e9de1d9422ed8","timestamp":"2025-03-02T17:08:30.061Z"}
{"level":"info","message":"Sezione disattivata con successo:","schoolId":"67c454061dbaba04e72dc2ec","sectionName":"A","studentsUpdated":0,"timestamp":"2025-03-02T17:08:47.761Z"}
{"error":{"code":"RES_001","message":"Record di autenticazione non trovato","metadata":{},"status":404},"level":"error","message":"Error updating password in repository:","studentId":"67c4908d647e9de1d9422ed8","timestamp":"2025-03-02T17:41:21.134Z"}
{"code":"RES_001","level":"error","message":"Record di autenticazione non trovato","studentId":"67c4908d647e9de1d9422ed8","timestamp":"2025-03-02T17:41:21.135Z","type":"Object"}
{"code":"RES_001","level":"error","message":"Record di autenticazione non trovato","metadata":{},"status":404,"timestamp":"2025-03-02T17:41:21.136Z"}
{"error":"this.handleError is not a function","level":"error","message":"StudentAuth Route Error:","method":"POST","path":"/admin/generate/67c4908d647e9de1d9422ed8","timestamp":"2025-03-02T17:41:21.138Z"}
{"error":"this.handleError is not a function","level":"error","message":"StudentAuth error:","method":"POST","path":"/admin/generate/67c4908d647e9de1d9422ed8","stack":"TypeError: this.handleError is not a function\n    at StudentAuthController.generateCredentials (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\StudentAuthController.js:28:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-02T17:41:21.139Z"}
{"duration":"281ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740937280860_23gnjg3jr","responseSize":"436 Bytes","statusCode":500,"timestamp":"2025-03-02T17:41:21.141Z","url":"/api/v1/student-auth/admin/generate/67c4908d647e9de1d9422ed8","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Password reset successful","studentId":"67b20991d8fdac4600a0def6","timestamp":"2025-03-02T17:43:47.480Z","username":"ciccio@pasticcio.it"}
{"error":{"code":"RES_001","message":"Record di autenticazione non trovato","metadata":{},"status":404},"level":"error","message":"Error updating password in repository:","studentId":"67c4908d647e9de1d9422ed8","timestamp":"2025-03-02T17:45:38.958Z"}
{"code":"RES_001","level":"error","message":"Record di autenticazione non trovato","studentId":"67c4908d647e9de1d9422ed8","timestamp":"2025-03-02T17:45:38.962Z","type":"Object"}
{"code":"RES_001","level":"error","message":"Record di autenticazione non trovato","metadata":{},"status":404,"timestamp":"2025-03-02T17:45:38.965Z"}
{"error":"this.handleError is not a function","level":"error","message":"StudentAuth Route Error:","method":"POST","path":"/admin/generate/67c4908d647e9de1d9422ed8","timestamp":"2025-03-02T17:45:38.967Z"}
{"error":"this.handleError is not a function","level":"error","message":"StudentAuth error:","method":"POST","path":"/admin/generate/67c4908d647e9de1d9422ed8","stack":"TypeError: this.handleError is not a function\n    at StudentAuthController.generateCredentials (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\StudentAuthController.js:28:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-02T17:45:38.969Z"}
{"duration":"226ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740937538746_9vram9755","responseSize":"436 Bytes","statusCode":500,"timestamp":"2025-03-02T17:45:38.972Z","url":"/api/v1/student-auth/admin/generate/67c4908d647e9de1d9422ed8","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"code":"RES_001","message":"Record di autenticazione non trovato","metadata":{},"status":404},"level":"error","message":"Error updating password in repository:","studentId":"67c4908d647e9de1d9422ed8","timestamp":"2025-03-02T17:48:13.982Z"}
{"code":"RES_001","level":"error","message":"Record di autenticazione non trovato","studentId":"67c4908d647e9de1d9422ed8","timestamp":"2025-03-02T17:48:13.983Z","type":"Object"}
{"code":"RES_001","level":"error","message":"Record di autenticazione non trovato","metadata":{},"status":404,"timestamp":"2025-03-02T17:48:13.984Z"}
{"error":"this.handleError is not a function","level":"error","message":"StudentAuth Route Error:","method":"POST","path":"/admin/generate/67c4908d647e9de1d9422ed8","timestamp":"2025-03-02T17:48:13.984Z"}
{"error":"this.handleError is not a function","level":"error","message":"StudentAuth error:","method":"POST","path":"/admin/generate/67c4908d647e9de1d9422ed8","stack":"TypeError: this.handleError is not a function\n    at StudentAuthController.generateCredentials (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\StudentAuthController.js:28:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-02T17:48:13.985Z"}
{"duration":"221ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740937693765_ojz1jo78e","responseSize":"436 Bytes","statusCode":500,"timestamp":"2025-03-02T17:48:13.986Z","url":"/api/v1/student-auth/admin/generate/67c4908d647e9de1d9422ed8","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Password reset successful","studentId":"67b20991d8fdac4600a0def6","timestamp":"2025-03-02T17:48:28.147Z","username":"ciccio@pasticcio.it"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/unassigned-to-school","timestamp":"2025-03-02T17:53:45.057Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{},"requestId":"req_1740938025055_31opwfrih","timestamp":"2025-03-02T17:53:45.060Z","url":"/api/v1/students/unassigned-to-school"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T17:53:45.074Z"}
{"duration":"22ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740938025055_31opwfrih","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T17:53:45.077Z","url":"/api/v1/students/unassigned-to-school","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-02T17:53:45.081Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-02T17:53:45.086Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"limit":"10","page":"1","populate":"manager"},"requestId":"req_1740938025078_nr39k9dne","timestamp":"2025-03-02T17:53:45.089Z","url":"/api/v1/schools?page=1&limit=10&populate=manager"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T17:53:45.090Z"}
{"duration":"14ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740938025078_nr39k9dne","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T17:53:45.092Z","url":"/api/v1/schools?page=1&limit=10&populate=manager","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"limit":"50","page":"1"},"requestId":"req_1740938025083_9amjxkkpg","timestamp":"2025-03-02T17:53:45.092Z","url":"/api/v1/students?page=1&limit=50"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T17:53:45.093Z"}
{"duration":"11ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740938025083_9amjxkkpg","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T17:53:45.094Z","url":"/api/v1/students?page=1&limit=50","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/67c4908d647e9de1d9422ed8","timestamp":"2025-03-02T17:53:46.971Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"includeTestCount":"true"},"requestId":"req_1740938026967_jc714jhy7","timestamp":"2025-03-02T17:53:46.972Z","url":"/api/v1/students/67c4908d647e9de1d9422ed8?includeTestCount=true"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T17:53:46.972Z"}
{"duration":"7ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740938026967_jc714jhy7","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T17:53:46.974Z","url":"/api/v1/students/67c4908d647e9de1d9422ed8?includeTestCount=true","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/unassigned-to-school","timestamp":"2025-03-02T17:53:47.061Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{},"requestId":"req_1740938027059_97kk6bcv5","timestamp":"2025-03-02T17:53:47.062Z","url":"/api/v1/students/unassigned-to-school"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T17:53:47.062Z"}
{"duration":"5ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740938027059_97kk6bcv5","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T17:53:47.064Z","url":"/api/v1/students/unassigned-to-school","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-02T17:53:47.071Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-02T17:53:47.075Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"limit":"10","page":"1","populate":"manager"},"requestId":"req_1740938027066_z8v3dfzsr","timestamp":"2025-03-02T17:53:47.075Z","url":"/api/v1/schools?page=1&limit=10&populate=manager"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T17:53:47.076Z"}
{"duration":"12ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740938027066_z8v3dfzsr","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T17:53:47.078Z","url":"/api/v1/schools?page=1&limit=10&populate=manager","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"limit":"50","page":"1"},"requestId":"req_1740938027073_onzaeh62n","timestamp":"2025-03-02T17:53:47.079Z","url":"/api/v1/students?page=1&limit=50"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T17:53:47.079Z"}
{"duration":"8ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740938027073_onzaeh62n","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T17:53:47.081Z","url":"/api/v1/students?page=1&limit=50","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-02T17:53:50.358Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-02T17:53:50.359Z"}
{"duration":"4ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740938030356_ykfojvay6","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T17:53:50.360Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-02T17:53:50.368Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T17:53:50.370Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740938030365_zdd7uccvr","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T17:53:50.371Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T17:53:51.796Z","userId":"677bfe44f6789c907c9f3766"}
{"error":{"code":"RES_001","message":"Record di autenticazione non trovato","metadata":{},"status":404},"level":"error","message":"Error updating password in repository:","studentId":"67c4908d647e9de1d9422ed8","timestamp":"2025-03-02T17:53:57.616Z"}
{"code":"RES_001","level":"error","message":"Record di autenticazione non trovato","studentId":"67c4908d647e9de1d9422ed8","timestamp":"2025-03-02T17:53:57.617Z","type":"Object"}
{"code":"RES_001","level":"error","message":"Record di autenticazione non trovato","metadata":{},"status":404,"timestamp":"2025-03-02T17:53:57.618Z"}
{"error":"this.handleError is not a function","level":"error","message":"StudentAuth Route Error:","method":"POST","path":"/admin/generate/67c4908d647e9de1d9422ed8","timestamp":"2025-03-02T17:53:57.618Z"}
{"error":"this.handleError is not a function","level":"error","message":"StudentAuth error:","method":"POST","path":"/admin/generate/67c4908d647e9de1d9422ed8","stack":"TypeError: this.handleError is not a function\n    at StudentAuthController.generateCredentials (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\StudentAuthController.js:28:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-02T17:53:57.619Z"}
{"duration":"201ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740938037418_bu1b57020","responseSize":"436 Bytes","statusCode":500,"timestamp":"2025-03-02T17:53:57.619Z","url":"/api/v1/student-auth/admin/generate/67c4908d647e9de1d9422ed8","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T18:17:02.283Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T18:17:02.338Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-03-02T18:17:03.293Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T18:17:03.294Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T18:17:03.295Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T18:17:03.654Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T18:17:03.665Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T18:17:03.665Z"}
{"level":"info","message":"Student auth record created","studentId":"67c4908d647e9de1d9422ed8","timestamp":"2025-03-02T18:17:13.449Z"}
{"hasAuth":true,"level":"info","message":"Credentials generated successfully","studentId":"67c4908d647e9de1d9422ed8","timestamp":"2025-03-02T18:17:13.501Z"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T18:18:50.051Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T18:18:50.105Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-02T18:18:50.830Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T18:18:50.831Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T18:18:50.832Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T18:18:51.104Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T18:18:51.108Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T18:18:51.108Z"}
{"level":"info","message":"Password reset successful","studentId":"67c4908d647e9de1d9422ed8","timestamp":"2025-03-02T18:19:03.347Z","username":"piero@matest.it"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T18:41:31.278Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T18:41:31.343Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-02T18:41:32.264Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T18:41:32.265Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T18:41:32.267Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T18:41:33.101Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T18:41:33.112Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T18:41:33.113Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-02T18:55:34.837Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{},"requestId":"req_1740941734835_crcc8z3fd","timestamp":"2025-03-02T18:55:34.840Z","url":"/api/v1/classes"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T18:55:34.841Z"}
{"duration":"8ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740941734835_crcc8z3fd","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T18:55:34.843Z","url":"/api/v1/classes","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-02T18:55:38.474Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-02T18:55:38.476Z"}
{"duration":"7ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740941738471_gtnizweae","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T18:55:38.478Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-02T18:55:38.488Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T18:55:38.489Z"}
{"duration":"6ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740941738485_tifusooa4","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T18:55:38.491Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T18:55:40.472Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T19:09:42.137Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T19:09:42.195Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-03-02T19:09:43.102Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T19:09:43.104Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T19:09:43.105Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T19:09:43.436Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T19:09:43.446Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T19:09:43.447Z"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T19:36:33.894Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T19:36:33.954Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-03-02T19:36:34.861Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T19:36:34.862Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T19:36:34.863Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T19:36:35.195Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T19:36:35.200Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T19:36:35.200Z"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T19:37:11.931Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T19:37:11.988Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-03-02T19:37:12.765Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T19:37:12.766Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T19:37:12.768Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T19:37:13.067Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T19:37:13.080Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T19:37:13.081Z"}
{"level":"info","maxStudents":25,"message":"Sezione creata con successo","schoolId":"67c454061dbaba04e72dc2ec","sectionName":"B","timestamp":"2025-03-02T19:48:14.401Z"}
{"duration":"186ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740945168240_xo6f8zbpl","responseSize":"97 Bytes","statusCode":500,"timestamp":"2025-03-02T19:52:48.426Z","url":"/api/v1/schools/67c454061dbaba04e72dc2ec/sections","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Inizializzazione modelli in corso...","timestamp":"2025-03-02T19:57:56.271Z"}
{"level":"info","message":"Tutti i modelli sono stati caricati con successo","timestamp":"2025-03-02T19:57:56.333Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-03-02T19:57:57.250Z"}
{"level":"info","message":"Database connesso con successo","timestamp":"2025-03-02T19:57:57.251Z"}
{"level":"info","message":"Tutti i modelli richiesti sono registrati correttamente","timestamp":"2025-03-02T19:57:57.253Z"}
{"environment":"development","level":"info","message":"Routes initialized:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth","/student-auth","/tests/csi/public"],"timestamp":"2025-03-02T19:57:57.565Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-03-02T19:57:57.573Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-03-02T19:57:57.574Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-02T19:58:03.656Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-02T19:58:03.657Z"}
{"duration":"12ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740945483651_xmnu0t0na","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T19:58:03.663Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-02T19:58:03.672Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T19:58:03.673Z"}
{"duration":"7ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740945483668_ry9zy2z42","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T19:58:03.675Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T19:58:05.271Z","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","maxStudents":25,"message":"Sezione creata con successo","schoolId":"67c454061dbaba04e72dc2ec","sectionName":"B","timestamp":"2025-03-02T20:11:14.463Z"}
{"level":"info","maxStudents":25,"message":"Sezione creata con successo","schoolId":"67c454061dbaba04e72dc2ec","sectionName":"C","timestamp":"2025-03-02T20:11:14.675Z"}
{"academicYear":"2025/2026","count":10,"level":"info","message":"Created classes for new academic year:","sectionsUsed":["B","C"],"timestamp":"2025-03-02T20:11:15.478Z"}
{"level":"info","message":"Anno accademico creato con successo","schoolId":"67c454061dbaba04e72dc2ec","timestamp":"2025-03-02T20:11:15.518Z","year":"2025/2026"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/my-students","timestamp":"2025-03-02T20:59:49.479Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{},"requestId":"req_1740949189474_qn63iw6ho","timestamp":"2025-03-02T20:59:49.496Z","url":"/api/v1/students/my-students"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T20:59:49.500Z"}
{"duration":"31ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740949189474_qn63iw6ho","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T20:59:49.505Z","url":"/api/v1/students/my-students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-02T20:59:56.254Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"classId":"","limit":"10","page":"1","schoolId":"","status":""},"requestId":"req_1740949196250_khys698bd","timestamp":"2025-03-02T20:59:56.257Z","url":"/api/v1/students?page=1&limit=10&schoolId=&classId=&status="}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T20:59:56.258Z"}
{"duration":"11ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740949196250_khys698bd","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T20:59:56.261Z","url":"/api/v1/students?page=1&limit=10&schoolId=&classId=&status=","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/my-students","timestamp":"2025-03-02T20:59:59.299Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{},"requestId":"req_1740949199296_pjiesn0m7","timestamp":"2025-03-02T20:59:59.301Z","url":"/api/v1/students/my-students"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T20:59:59.302Z"}
{"duration":"8ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740949199296_pjiesn0m7","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T20:59:59.304Z","url":"/api/v1/students/my-students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/batch-assign","timestamp":"2025-03-02T21:00:01.029Z"}
{"body":{"academicYear":"2024/2025","classId":"","studentIds":[]},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1740949201024_kvv45quus","timestamp":"2025-03-02T21:00:01.030Z","url":"/api/v1/students/batch-assign"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T21:00:01.031Z"}
{"duration":"9ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740949201024_kvv45quus","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T21:00:01.033Z","url":"/api/v1/students/batch-assign","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/search","timestamp":"2025-03-02T21:00:02.644Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{"query":"","schoolId":""},"requestId":"req_1740949202639_0kqzrcju8","timestamp":"2025-03-02T21:00:02.646Z","url":"/api/v1/students/search?query=&schoolId="}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T21:00:02.647Z"}
{"duration":"10ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740949202639_0kqzrcju8","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T21:00:02.649Z","url":"/api/v1/students/search?query=&schoolId=","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/","timestamp":"2025-03-02T21:00:06.722Z"}
{"body":{},"error":{"message":"Autenticazione richiesta"},"level":"error","message":"Errore richiesta","method":"GET","query":{},"requestId":"req_1740949206717_wc1vtiulw","timestamp":"2025-03-02T21:00:06.723Z","url":"/api/v1/schools"}
{"level":"error","message":"Autenticazione richiesta","timestamp":"2025-03-02T21:00:06.724Z"}
{"duration":"9ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740949206717_wc1vtiulw","responseSize":"160 Bytes","statusCode":500,"timestamp":"2025-03-02T21:00:06.726Z","url":"/api/v1/schools","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/verify","timestamp":"2025-03-02T21:00:10.196Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-03-02T21:00:10.199Z"}
{"duration":"9ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740949210193_zbxf8gbik","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T21:00:10.202Z","url":"/api/v1/auth/verify","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Authentication failed","path":"/logout","timestamp":"2025-03-02T21:00:10.208Z"}
{"error":{"message":"Autenticazione richiesta","metadata":{}},"ip":"::1","level":"error","message":"Auth Error:","method":"POST","path":"/api/v1/auth/logout","timestamp":"2025-03-02T21:00:10.209Z"}
{"duration":"5ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1740949210206_2wox1fggv","responseSize":"144 Bytes","statusCode":500,"timestamp":"2025-03-02T21:00:10.211Z","url":"/api/v1/auth/logout","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}
{"level":"info","message":"Login successful","metadata":{"ipAddress":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"},"timestamp":"2025-03-02T21:00:11.979Z","userId":"677bfe44f6789c907c9f3766"}
{"code":"AUTH_005","level":"error","message":"Solo i docenti possono accedere a questa risorsa","metadata":{},"status":403,"timestamp":"2025-03-02T21:00:19.543Z"}
{"error":"Solo i docenti possono accedere a questa risorsa","level":"error","message":"Student route error:","method":"GET","path":"/my-students","timestamp":"2025-03-02T21:00:19.545Z","userId":"677bfe44f6789c907c9f3766"}
{"body":{},"error":{"message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:174:72\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.getMyStudents (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:308:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:28:25\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)"},"level":"error","message":"Errore richiesta","method":"GET","query":{},"requestId":"req_1740949219392_2klpge65r","timestamp":"2025-03-02T21:00:19.552Z","url":"/api/v1/students/my-students"}
{"level":"error","message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:174:72\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.getMyStudents (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:308:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:28:25\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-03-02T21:00:19.555Z"}
{"duration":"167ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1740949219392_2klpge65r","responseSize":"1.25 KB","statusCode":500,"timestamp":"2025-03-02T21:00:19.559Z","url":"/api/v1/students/my-students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0"}

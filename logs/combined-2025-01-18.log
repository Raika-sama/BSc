{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:12:53.491Z","tokenExpiresIn":"1235.7751500000002 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:12:53.521Z","tokenExpiresIn":"1235.77465 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:12:53.595Z","tokenExpiresIn":"1235.7734166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:12:53.618Z","tokenExpiresIn":"1235.7730333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"error","message":"Error getting unassigned students:","timestamp":"2025-01-17T23:12:53.619Z"}
{"error":"Cannot read properties of undefined (reading 'repository')","level":"error","message":"Student route error:","method":"GET","path":"/unassigned/67843ee4e18f3b833160dda8","stack":"TypeError: Cannot read properties of undefined (reading 'repository')\n    at getUnassignedStudents (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:321:41)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:185:9\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:365:14)","timestamp":"2025-01-17T23:12:53.624Z","userId":"677bfe44f6789c907c9f3766"}
{"body":{},"error":{"message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at getUnassignedStudents (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:332:13)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)"},"level":"error","message":"Errore richiesta","method":"GET","query":{},"requestId":"req_1737155573569_r9uidzh9s","timestamp":"2025-01-17T23:12:53.625Z","url":"/api/v1/students/unassigned/67843ee4e18f3b833160dda8"}
{"level":"error","message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at getUnassignedStudents (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:332:13)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)","timestamp":"2025-01-17T23:12:53.626Z"}
{"duration":"60ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1737155573569_r9uidzh9s","responseSize":"1.27 KB","statusCode":500,"timestamp":"2025-01-17T23:12:53.629Z","url":"/api/v1/students/unassigned/67843ee4e18f3b833160dda8","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-17T23:13:08.214Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:13:08.243Z","tokenExpiresIn":"1235.5292833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-17T23:13:08.244Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:13:08.401Z","tokenExpiresIn":"1235.52665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:13:08.431Z","tokenExpiresIn":"1235.5261500000001 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:13:08.506Z","tokenExpiresIn":"1235.5249000000001 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:13:08.535Z","tokenExpiresIn":"1235.5244166666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"error","message":"Error getting unassigned students:","timestamp":"2025-01-17T23:13:08.535Z"}
{"error":"Cannot read properties of undefined (reading 'repository')","level":"error","message":"Student route error:","method":"GET","path":"/unassigned/67843ee4e18f3b833160dda8","stack":"TypeError: Cannot read properties of undefined (reading 'repository')\n    at getUnassignedStudents (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:321:41)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:185:9\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:365:14)","timestamp":"2025-01-17T23:13:08.536Z","userId":"677bfe44f6789c907c9f3766"}
{"body":{},"error":{"message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at getUnassignedStudents (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:332:13)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)"},"level":"error","message":"Errore richiesta","method":"GET","query":{},"requestId":"req_1737155588476_dty19r3no","timestamp":"2025-01-17T23:13:08.537Z","url":"/api/v1/students/unassigned/67843ee4e18f3b833160dda8"}
{"level":"error","message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at getUnassignedStudents (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:332:13)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)","timestamp":"2025-01-17T23:13:08.537Z"}
{"duration":"63ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1737155588476_dty19r3no","responseSize":"1.27 KB","statusCode":500,"timestamp":"2025-01-17T23:13:08.539Z","url":"/api/v1/students/unassigned/67843ee4e18f3b833160dda8","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:13:12.031Z","tokenExpiresIn":"1235.46615 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:13:12.054Z","tokenExpiresIn":"1235.4657666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:13:13.448Z","tokenExpiresIn":"1235.4425333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:13:13.457Z","tokenExpiresIn":"1235.4423833333335 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:13:13.473Z","tokenExpiresIn":"1235.4421166666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:13:13.482Z","tokenExpiresIn":"1235.4419666666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:15:37.542Z","tokenExpiresIn":"1233.0409666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:15:37.564Z","tokenExpiresIn":"1233.0406 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:15:45.520Z","tokenExpiresIn":"1232.908 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:15:45.542Z","tokenExpiresIn":"1232.9076333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-17T23:15:53.471Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:15:53.503Z","tokenExpiresIn":"1232.77495 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-17T23:15:53.503Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:15:53.860Z","tokenExpiresIn":"1232.769 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:15:53.872Z","tokenExpiresIn":"1232.7688 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:15:53.883Z","tokenExpiresIn":"1232.7686166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:15:53.903Z","tokenExpiresIn":"1232.7682833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:16:03.217Z","tokenExpiresIn":"1232.61305 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:16:03.241Z","tokenExpiresIn":"1232.61265 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-03-12T00:00:00.000Z","email":"Diana@viola.it","firstName":"Diana","fiscalCode":null,"gender":"F","isActive":true,"lastName":"Viola","needsClassAssignment":true,"parentEmail":null,"schoolId":"67843ee4e18f3b833160dda8","status":"pending"},"timestamp":"2025-01-17T23:16:03.263Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-17T23:16:03.265Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-17T23:16:03.266Z","userId":"677bfe44f6789c907c9f3766"}
{"body":{"currentYear":1,"dateOfBirth":"2012-03-12T00:00:00.000Z","email":"Diana@viola.it","firstName":"Diana","fiscalCode":null,"gender":"F","isActive":true,"lastName":"Viola","needsClassAssignment":true,"parentEmail":null,"schoolId":"67843ee4e18f3b833160dda8","status":"pending"},"error":{"message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1737155763189_y6gv64a8t","timestamp":"2025-01-17T23:16:03.267Z","url":"/api/v1/students"}
{"level":"error","message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-01-17T23:16:03.268Z"}
{"duration":"81ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737155763189_y6gv64a8t","responseSize":"1.13 KB","statusCode":500,"timestamp":"2025-01-17T23:16:03.270Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:16:56.574Z","tokenExpiresIn":"1231.7237666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:16:56.599Z","tokenExpiresIn":"1231.72335 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:17:48.584Z","tokenExpiresIn":"1230.8569333333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:17:48.607Z","tokenExpiresIn":"1230.85655 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:17:59.244Z","tokenExpiresIn":"1230.6792666666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:17:59.266Z","tokenExpiresIn":"1230.6788999999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-04-12T00:00:00.000Z","email":"diana@viola.it","firstName":"Diana","fiscalCode":null,"gender":"F","isActive":true,"lastName":"Viola","needsClassAssignment":true,"parentEmail":null,"schoolId":"67843ee4e18f3b833160dda8","status":"pending"},"timestamp":"2025-01-17T23:17:59.286Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-17T23:17:59.287Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-17T23:17:59.288Z","userId":"677bfe44f6789c907c9f3766"}
{"body":{"currentYear":1,"dateOfBirth":"2012-04-12T00:00:00.000Z","email":"diana@viola.it","firstName":"Diana","fiscalCode":null,"gender":"F","isActive":true,"lastName":"Viola","needsClassAssignment":true,"parentEmail":null,"schoolId":"67843ee4e18f3b833160dda8","status":"pending"},"error":{"message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1737155879216_9j7mzjr6m","timestamp":"2025-01-17T23:17:59.289Z","url":"/api/v1/students"}
{"level":"error","message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-01-17T23:17:59.290Z"}
{"duration":"75ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737155879216_9j7mzjr6m","responseSize":"1.13 KB","statusCode":500,"timestamp":"2025-01-17T23:17:59.291Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:31:33.645Z","tokenExpiresIn":"1217.1059166666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:31:33.669Z","tokenExpiresIn":"1217.1055166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"school","timestamp":"2025-01-17T23:33:13.550Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"user","timestamp":"2025-01-17T23:33:13.554Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"class","timestamp":"2025-01-17T23:33:13.554Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"student","timestamp":"2025-01-17T23:33:13.556Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"test","timestamp":"2025-01-17T23:33:13.556Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-17T23:33:13.557Z"}
{"controllers":["auth","school","user","class","student","test"],"level":"info","message":"Controllers caricati con successo","timestamp":"2025-01-17T23:33:13.583Z"}
{"level":"info","message":"Routes caricate:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth"],"timestamp":"2025-01-17T23:33:13.599Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-02.4nf56.mongodb.net","timestamp":"2025-01-17T23:33:14.035Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-17T23:33:14.044Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-17T23:33:14.045Z"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-17T23:33:20.496Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:33:20.563Z","tokenExpiresIn":"1215.3239500000002 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-17T23:33:20.565Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:33:20.924Z","tokenExpiresIn":"1215.3179333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:33:20.936Z","tokenExpiresIn":"1215.3177333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:33:20.952Z","tokenExpiresIn":"1215.3174666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:33:20.961Z","tokenExpiresIn":"1215.3173166666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:35:08.551Z","tokenExpiresIn":"1213.52415 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:35:08.578Z","tokenExpiresIn":"1213.5237000000002 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:36:33.410Z","tokenExpiresIn":"1212.1098333333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:36:33.439Z","tokenExpiresIn":"1212.10935 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:37:18.448Z","tokenExpiresIn":"1211.3591999999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:37:18.474Z","tokenExpiresIn":"1211.3587666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-17T23:37:22.847Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:37:22.878Z","tokenExpiresIn":"1211.2853666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-17T23:37:22.879Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:37:23.194Z","tokenExpiresIn":"1211.2801 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:37:23.208Z","tokenExpiresIn":"1211.2798666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:37:23.228Z","tokenExpiresIn":"1211.2795333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:37:23.237Z","tokenExpiresIn":"1211.2793833333335 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:37:48.008Z","tokenExpiresIn":"1210.8665333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:37:48.038Z","tokenExpiresIn":"1210.8660333333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-03-12T00:00:00.000Z","email":"diana@viola.it","firstName":"Diana","fiscalCode":null,"gender":"F","isActive":true,"lastName":"Viola","mainTeacher":null,"needsClassAssignment":true,"parentEmail":null,"schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"timestamp":"2025-01-17T23:37:48.065Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-17T23:37:48.066Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-17T23:37:48.067Z","userId":"677bfe44f6789c907c9f3766"}
{"body":{"currentYear":1,"dateOfBirth":"2012-03-12T00:00:00.000Z","email":"diana@viola.it","firstName":"Diana","fiscalCode":null,"gender":"F","isActive":true,"lastName":"Viola","mainTeacher":null,"needsClassAssignment":true,"parentEmail":null,"schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"error":{"message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1737157067977_jfzmplzky","timestamp":"2025-01-17T23:37:48.068Z","url":"/api/v1/students"}
{"level":"error","message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-01-17T23:37:48.070Z"}
{"duration":"97ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737157067977_jfzmplzky","responseSize":"1.13 KB","statusCode":500,"timestamp":"2025-01-17T23:37:48.074Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:37:49.822Z","tokenExpiresIn":"1210.8363 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:37:49.846Z","tokenExpiresIn":"1210.8358999999998 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:48:22.453Z","tokenExpiresIn":"1200.2924500000001 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:48:22.480Z","tokenExpiresIn":"1200.2920000000001 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:48:22.588Z","tokenExpiresIn":"1200.2902 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:48:22.614Z","tokenExpiresIn":"1200.2897666666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-17T23:48:24.024Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:48:24.056Z","tokenExpiresIn":"1200.26575 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-17T23:48:24.057Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:48:24.609Z","tokenExpiresIn":"1200.2565166666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:48:24.626Z","tokenExpiresIn":"1200.2562333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:48:24.651Z","tokenExpiresIn":"1200.2558166666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:48:24.671Z","tokenExpiresIn":"1200.2554833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:48:24.679Z","tokenExpiresIn":"1200.25535 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:48:24.687Z","tokenExpiresIn":"1200.2552166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:48:24.764Z","tokenExpiresIn":"1200.2539333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:48:24.779Z","tokenExpiresIn":"1200.2536833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:48:24.795Z","tokenExpiresIn":"1200.2534166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:48:24.809Z","tokenExpiresIn":"1200.2531833333335 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:48:24.886Z","tokenExpiresIn":"1200.2519 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:48:24.916Z","tokenExpiresIn":"1200.2514 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:48:45.778Z","tokenExpiresIn":"1199.9036999999998 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:48:45.808Z","tokenExpiresIn":"1199.9032 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-03-12T00:00:00.000Z","email":"diana@viola.it","firstName":"Diana","fiscalCode":null,"gender":"F","isActive":true,"lastName":"Viola","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":null,"schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"timestamp":"2025-01-17T23:48:45.831Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-17T23:48:45.833Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-17T23:48:45.835Z","userId":"677bfe44f6789c907c9f3766"}
{"body":{"currentYear":1,"dateOfBirth":"2012-03-12T00:00:00.000Z","email":"diana@viola.it","firstName":"Diana","fiscalCode":null,"gender":"F","isActive":true,"lastName":"Viola","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":null,"schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"error":{"message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1737157725748_71nqmot39","timestamp":"2025-01-17T23:48:45.838Z","url":"/api/v1/students"}
{"level":"error","message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-01-17T23:48:45.841Z"}
{"duration":"96ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737157725748_71nqmot39","responseSize":"1.13 KB","statusCode":500,"timestamp":"2025-01-17T23:48:45.844Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:51:51.711Z","tokenExpiresIn":"1196.8048166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:51:51.735Z","tokenExpiresIn":"1196.8044166666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:51:57.517Z","tokenExpiresIn":"1196.70805 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:51:57.541Z","tokenExpiresIn":"1196.70765 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Student created successfully:","school":"67843ee4e18f3b833160dda8","studentId":"678aed1d6dd9cfe7df2eb90c","timestamp":"2025-01-17T23:51:57.649Z"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:51:57.682Z","tokenExpiresIn":"1196.7053 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:51:57.706Z","tokenExpiresIn":"1196.7049 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:52:31.965Z","tokenExpiresIn":"1196.1339166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:52:32.000Z","tokenExpiresIn":"1196.1333333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-17T23:52:33.664Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:52:33.691Z","tokenExpiresIn":"1196.1051499999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-17T23:52:33.692Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:52:34.003Z","tokenExpiresIn":"1196.09995 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:52:34.015Z","tokenExpiresIn":"1196.09975 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:52:34.028Z","tokenExpiresIn":"1196.0995333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:52:34.036Z","tokenExpiresIn":"1196.0994 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:52:34.046Z","tokenExpiresIn":"1196.0992333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:52:34.054Z","tokenExpiresIn":"1196.0991 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:52:34.137Z","tokenExpiresIn":"1196.0977166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:52:34.163Z","tokenExpiresIn":"1196.0972833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:52:34.174Z","tokenExpiresIn":"1196.0971 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:52:34.202Z","tokenExpiresIn":"1196.0966333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:52:34.280Z","tokenExpiresIn":"1196.0953333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:52:34.314Z","tokenExpiresIn":"1196.0947666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:52:54.543Z","tokenExpiresIn":"1195.7576166666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:52:54.571Z","tokenExpiresIn":"1195.7571500000001 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-04-12T00:00:00.000Z","email":"luigi@verdi.it","firstName":"Luigi","fiscalCode":null,"gender":"M","isActive":true,"lastName":"Verdi","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":"luigi@verdi.it","schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":["6785958e80e2a7a4f124a86b"]},"timestamp":"2025-01-17T23:52:54.590Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-17T23:52:54.592Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-17T23:52:54.592Z","userId":"677bfe44f6789c907c9f3766"}
{"body":{"currentYear":1,"dateOfBirth":"2012-04-12T00:00:00.000Z","email":"luigi@verdi.it","firstName":"Luigi","fiscalCode":null,"gender":"M","isActive":true,"lastName":"Verdi","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":"luigi@verdi.it","schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":["6785958e80e2a7a4f124a86b"]},"error":{"message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1737157974512_t002dmxo7","timestamp":"2025-01-17T23:52:54.593Z","url":"/api/v1/students"}
{"level":"error","message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-01-17T23:52:54.596Z"}
{"duration":"87ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737157974512_t002dmxo7","responseSize":"1.13 KB","statusCode":500,"timestamp":"2025-01-17T23:52:54.599Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:53:03.200Z","tokenExpiresIn":"1195.6133333333335 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:53:03.228Z","tokenExpiresIn":"1195.6128666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-04-12T00:00:00.000Z","email":"luigi@verdi.it","firstName":"Luigi","fiscalCode":null,"gender":"M","isActive":true,"lastName":"Verdi","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":"luigi@verdi.it","schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":["677bfe44f6789c907c9f3766"]},"timestamp":"2025-01-17T23:53:03.246Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-17T23:53:03.248Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-17T23:53:03.248Z","userId":"677bfe44f6789c907c9f3766"}
{"body":{"currentYear":1,"dateOfBirth":"2012-04-12T00:00:00.000Z","email":"luigi@verdi.it","firstName":"Luigi","fiscalCode":null,"gender":"M","isActive":true,"lastName":"Verdi","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":"luigi@verdi.it","schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":["677bfe44f6789c907c9f3766"]},"error":{"message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1737157983168_0l4plgt01","timestamp":"2025-01-17T23:53:03.249Z","url":"/api/v1/students"}
{"level":"error","message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-01-17T23:53:03.250Z"}
{"duration":"83ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737157983168_0l4plgt01","responseSize":"1.13 KB","statusCode":500,"timestamp":"2025-01-17T23:53:03.251Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:53:06.067Z","tokenExpiresIn":"1195.56555 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:53:06.095Z","tokenExpiresIn":"1195.5650833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-17T23:53:13.874Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:53:13.906Z","tokenExpiresIn":"1195.4349 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-17T23:53:13.907Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:53:14.191Z","tokenExpiresIn":"1195.43015 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:53:14.205Z","tokenExpiresIn":"1195.4299166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:53:14.221Z","tokenExpiresIn":"1195.4296499999998 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:53:14.242Z","tokenExpiresIn":"1195.4293 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:53:14.248Z","tokenExpiresIn":"1195.4291999999998 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:53:14.258Z","tokenExpiresIn":"1195.4290333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:53:14.314Z","tokenExpiresIn":"1195.4281 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:53:14.326Z","tokenExpiresIn":"1195.4279 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:53:14.342Z","tokenExpiresIn":"1195.4276333333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:53:14.351Z","tokenExpiresIn":"1195.4274833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:53:14.448Z","tokenExpiresIn":"1195.4258666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:53:14.482Z","tokenExpiresIn":"1195.4252999999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:53:17.396Z","tokenExpiresIn":"1195.3767333333335 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:53:17.426Z","tokenExpiresIn":"1195.3762333333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:54:54.393Z","tokenExpiresIn":"1193.7601166666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:54:54.418Z","tokenExpiresIn":"1193.7596999999998 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:54:54.525Z","tokenExpiresIn":"1193.7579166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:54:54.550Z","tokenExpiresIn":"1193.7575 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:55:48.154Z","tokenExpiresIn":"1192.8641 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:55:48.178Z","tokenExpiresIn":"1192.8637 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Student created successfully:","school":"67843ee4e18f3b833160dda8","studentId":"678aee046dd9cfe7df2eb96a","timestamp":"2025-01-17T23:55:48.277Z"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:55:48.318Z","tokenExpiresIn":"1192.8613666666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:55:48.341Z","tokenExpiresIn":"1192.8609833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:55:53.067Z","tokenExpiresIn":"1192.7822166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:55:53.093Z","tokenExpiresIn":"1192.7817833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-17T23:55:54.570Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:55:54.601Z","tokenExpiresIn":"1192.75665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-17T23:55:54.601Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:55:55.016Z","tokenExpiresIn":"1192.7497333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:55:55.022Z","tokenExpiresIn":"1192.7496333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:55:55.032Z","tokenExpiresIn":"1192.7494666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:55:55.038Z","tokenExpiresIn":"1192.7493666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:55:55.043Z","tokenExpiresIn":"1192.7492833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:55:55.054Z","tokenExpiresIn":"1192.7491 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:55:55.105Z","tokenExpiresIn":"1192.74825 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:55:55.118Z","tokenExpiresIn":"1192.7480333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:55:55.132Z","tokenExpiresIn":"1192.7478 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:55:55.142Z","tokenExpiresIn":"1192.7476333333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:55:55.248Z","tokenExpiresIn":"1192.7458666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:55:55.271Z","tokenExpiresIn":"1192.7454833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-17T23:59:08.356Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:59:08.380Z","tokenExpiresIn":"1189.5269999999998 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-17T23:59:08.381Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:59:08.576Z","tokenExpiresIn":"1189.5237333333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:59:08.585Z","tokenExpiresIn":"1189.5235833333331 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:59:08.593Z","tokenExpiresIn":"1189.5234500000001 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:59:08.602Z","tokenExpiresIn":"1189.5233 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:59:08.609Z","tokenExpiresIn":"1189.5231833333335 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:59:08.619Z","tokenExpiresIn":"1189.5230166666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:59:08.673Z","tokenExpiresIn":"1189.5221166666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:59:08.684Z","tokenExpiresIn":"1189.5219333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:59:08.698Z","tokenExpiresIn":"1189.5217 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:59:08.713Z","tokenExpiresIn":"1189.52145 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:59:08.782Z","tokenExpiresIn":"1189.5203 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-17T23:59:08.807Z","tokenExpiresIn":"1189.5198833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:15.961Z","tokenExpiresIn":"1188.40065 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:15.992Z","tokenExpiresIn":"1188.4001333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-03-12T00:00:00.000Z","email":"luigi@verdi.it","firstName":"Luigi","fiscalCode":null,"gender":"M","isActive":true,"lastName":"Verdi","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":"luigi@verdi.it","schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":["6785958e80e2a7a4f124a86b"]},"timestamp":"2025-01-18T00:00:16.019Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-18T00:00:16.022Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-18T00:00:16.023Z","userId":"677bfe44f6789c907c9f3766"}
{"body":{"currentYear":1,"dateOfBirth":"2012-03-12T00:00:00.000Z","email":"luigi@verdi.it","firstName":"Luigi","fiscalCode":null,"gender":"M","isActive":true,"lastName":"Verdi","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":"luigi@verdi.it","schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":["6785958e80e2a7a4f124a86b"]},"error":{"message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1737158415933_h4fe5quq4","timestamp":"2025-01-18T00:00:16.024Z","url":"/api/v1/students"}
{"level":"error","message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-01-18T00:00:16.027Z"}
{"duration":"100ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737158415933_h4fe5quq4","responseSize":"1.13 KB","statusCode":500,"timestamp":"2025-01-18T00:00:16.033Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:18.853Z","tokenExpiresIn":"1188.3524499999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:18.878Z","tokenExpiresIn":"1188.3520333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:21.053Z","tokenExpiresIn":"1188.3157833333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:21.077Z","tokenExpiresIn":"1188.3153833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T00:00:22.784Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:22.810Z","tokenExpiresIn":"1188.2865 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T00:00:22.811Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:23.132Z","tokenExpiresIn":"1188.2811333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:23.149Z","tokenExpiresIn":"1188.2808499999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:23.167Z","tokenExpiresIn":"1188.28055 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:23.176Z","tokenExpiresIn":"1188.2803999999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:23.183Z","tokenExpiresIn":"1188.2802833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:23.193Z","tokenExpiresIn":"1188.2801166666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:23.249Z","tokenExpiresIn":"1188.2791833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:23.265Z","tokenExpiresIn":"1188.2789166666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:23.277Z","tokenExpiresIn":"1188.2787166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:23.292Z","tokenExpiresIn":"1188.2784666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:23.386Z","tokenExpiresIn":"1188.2769 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:23.410Z","tokenExpiresIn":"1188.2765 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:45.597Z","tokenExpiresIn":"1187.9067166666669 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:45.623Z","tokenExpiresIn":"1187.9062833333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-03-12T00:00:00.000Z","email":"luigi@verdi.it","firstName":"Luigi","fiscalCode":null,"gender":"M","isActive":true,"lastName":"Verdi","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":"luigi@verdi.it","schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"timestamp":"2025-01-18T00:00:45.643Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-18T00:00:45.644Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-18T00:00:45.645Z","userId":"677bfe44f6789c907c9f3766"}
{"body":{"currentYear":1,"dateOfBirth":"2012-03-12T00:00:00.000Z","email":"luigi@verdi.it","firstName":"Luigi","fiscalCode":null,"gender":"M","isActive":true,"lastName":"Verdi","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":"luigi@verdi.it","schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"error":{"message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1737158445568_8fxwu9yc5","timestamp":"2025-01-18T00:00:45.646Z","url":"/api/v1/students"}
{"level":"error","message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-01-18T00:00:45.647Z"}
{"duration":"81ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737158445568_8fxwu9yc5","responseSize":"1.13 KB","statusCode":500,"timestamp":"2025-01-18T00:00:45.649Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:51.165Z","tokenExpiresIn":"1187.8139166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:00:51.190Z","tokenExpiresIn":"1187.8135 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:16.196Z","tokenExpiresIn":"1187.3967333333335 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:16.222Z","tokenExpiresIn":"1187.3963 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:16.307Z","tokenExpiresIn":"1187.3948833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:16.339Z","tokenExpiresIn":"1187.3944833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:20.145Z","tokenExpiresIn":"1187.3309166666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:20.177Z","tokenExpiresIn":"1187.3303833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T00:01:21.932Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:21.964Z","tokenExpiresIn":"1187.3005999999998 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T00:01:21.964Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:22.246Z","tokenExpiresIn":"1187.2959 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:22.301Z","tokenExpiresIn":"1187.2949833333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:22.325Z","tokenExpiresIn":"1187.2945833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:22.341Z","tokenExpiresIn":"1187.2943166666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:22.348Z","tokenExpiresIn":"1187.2942 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:22.355Z","tokenExpiresIn":"1187.2940833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:22.411Z","tokenExpiresIn":"1187.2931500000002 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:22.422Z","tokenExpiresIn":"1187.2929666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:22.434Z","tokenExpiresIn":"1187.2927666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:22.446Z","tokenExpiresIn":"1187.2925666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:41.941Z","tokenExpiresIn":"1186.9676499999998 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:41.978Z","tokenExpiresIn":"1186.9670333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Student created successfully:","school":"67843ee4e18f3b833160dda8","studentId":"678aef666dd9cfe7df2eb9fe","timestamp":"2025-01-18T00:01:42.080Z"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:42.117Z","tokenExpiresIn":"1186.9647166666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:01:42.141Z","tokenExpiresIn":"1186.9643166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:02:03.313Z","tokenExpiresIn":"1186.61145 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:02:03.337Z","tokenExpiresIn":"1186.61105 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-03-12T00:00:00.000Z","email":"luigino@verdi.it","firstName":"Luigino","fiscalCode":null,"gender":"M","isActive":true,"lastName":"Verdi","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":"luigino@verdi.it","schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"timestamp":"2025-01-18T00:02:03.360Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-18T00:02:03.362Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-18T00:02:03.363Z","userId":"677bfe44f6789c907c9f3766"}
{"body":{"currentYear":1,"dateOfBirth":"2012-03-12T00:00:00.000Z","email":"luigino@verdi.it","firstName":"Luigino","fiscalCode":null,"gender":"M","isActive":true,"lastName":"Verdi","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":"luigino@verdi.it","schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"error":{"message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1737158523282_i5xnw835w","timestamp":"2025-01-18T00:02:03.364Z","url":"/api/v1/students"}
{"level":"error","message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-01-18T00:02:03.365Z"}
{"duration":"85ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737158523282_i5xnw835w","responseSize":"1.13 KB","statusCode":500,"timestamp":"2025-01-18T00:02:03.367Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:02:05.704Z","tokenExpiresIn":"1186.5716 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:02:05.735Z","tokenExpiresIn":"1186.5710833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T00:02:32.077Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:02:32.106Z","tokenExpiresIn":"1186.1315666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T00:02:32.107Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:02:32.407Z","tokenExpiresIn":"1186.12655 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:02:32.432Z","tokenExpiresIn":"1186.1261333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:02:32.442Z","tokenExpiresIn":"1186.1259666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:02:32.455Z","tokenExpiresIn":"1186.12575 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:02:32.460Z","tokenExpiresIn":"1186.1256666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:02:32.471Z","tokenExpiresIn":"1186.1254833333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:02:32.526Z","tokenExpiresIn":"1186.1245666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:02:32.537Z","tokenExpiresIn":"1186.1243833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:02:32.551Z","tokenExpiresIn":"1186.1241499999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:02:32.566Z","tokenExpiresIn":"1186.1238999999998 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:03:13.892Z","tokenExpiresIn":"1185.4351333333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:03:13.935Z","tokenExpiresIn":"1185.4344166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Student created successfully:","school":"67843ee4e18f3b833160dda8","studentId":"678aefc16dd9cfe7df2eba28","timestamp":"2025-01-18T00:03:14.035Z"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:03:14.087Z","tokenExpiresIn":"1185.4318833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:03:14.114Z","tokenExpiresIn":"1185.4314333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T00:03:17.928Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:03:17.958Z","tokenExpiresIn":"1185.3673666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T00:03:17.959Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:03:18.240Z","tokenExpiresIn":"1185.3626666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:03:18.249Z","tokenExpiresIn":"1185.3625166666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:03:18.259Z","tokenExpiresIn":"1185.3623499999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:03:18.266Z","tokenExpiresIn":"1185.3622333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:03:18.274Z","tokenExpiresIn":"1185.3620999999998 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:03:18.283Z","tokenExpiresIn":"1185.36195 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:03:18.345Z","tokenExpiresIn":"1185.3609166666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:03:18.360Z","tokenExpiresIn":"1185.3606666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:03:18.369Z","tokenExpiresIn":"1185.3605166666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:03:18.385Z","tokenExpiresIn":"1185.3602500000002 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:03:18.505Z","tokenExpiresIn":"1185.35825 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:03:18.534Z","tokenExpiresIn":"1185.3577666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:03:38.444Z","tokenExpiresIn":"1185.0259333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:03:38.470Z","tokenExpiresIn":"1185.0255 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-05-14T00:00:00.000Z","email":"diana@viola.it","firstName":"Diana","fiscalCode":null,"gender":"F","isActive":true,"lastName":"Viola","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":"diana@viola.it","schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"timestamp":"2025-01-18T00:03:38.491Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-18T00:03:38.492Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-18T00:03:38.493Z","userId":"677bfe44f6789c907c9f3766"}
{"body":{"currentYear":1,"dateOfBirth":"2012-05-14T00:00:00.000Z","email":"diana@viola.it","firstName":"Diana","fiscalCode":null,"gender":"F","isActive":true,"lastName":"Viola","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":"diana@viola.it","schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"error":{"message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1737158618416_r92z046sq","timestamp":"2025-01-18T00:03:38.493Z","url":"/api/v1/students"}
{"level":"error","message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-01-18T00:03:38.494Z"}
{"duration":"80ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737158618416_r92z046sq","responseSize":"1.13 KB","statusCode":500,"timestamp":"2025-01-18T00:03:38.496Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:06:46.700Z","tokenExpiresIn":"1181.8883333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:06:46.727Z","tokenExpiresIn":"1181.8878833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-05-14T00:00:00.000Z","email":"diana@viola.it","firstName":"Diana","fiscalCode":null,"gender":"F","isActive":true,"lastName":"Viola","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":"diana@viola.it","schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"timestamp":"2025-01-18T00:06:46.746Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-18T00:06:46.747Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-18T00:06:46.747Z","userId":"677bfe44f6789c907c9f3766"}
{"body":{"currentYear":1,"dateOfBirth":"2012-05-14T00:00:00.000Z","email":"diana@viola.it","firstName":"Diana","fiscalCode":null,"gender":"F","isActive":true,"lastName":"Viola","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":"diana@viola.it","schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"error":{"message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"level":"error","message":"Errore richiesta","method":"POST","query":{},"requestId":"req_1737158806672_ofr0ua35d","timestamp":"2025-01-18T00:06:46.749Z","url":"/api/v1/students"}
{"level":"error","message":"Cannot read properties of undefined (reading 'code')","stack":"TypeError: Cannot read properties of undefined (reading 'code')\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\routes\\studentRoutes.js:103:56\n    at Layer.handle_error (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:71:5)\n    at trim_prefix (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:326:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:141:14)\n    at StudentController.create (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:89:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-01-18T00:06:46.750Z"}
{"duration":"80ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737158806672_ofr0ua35d","responseSize":"1.13 KB","statusCode":500,"timestamp":"2025-01-18T00:06:46.752Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"school","timestamp":"2025-01-18T00:09:46.930Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"user","timestamp":"2025-01-18T00:09:46.933Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"class","timestamp":"2025-01-18T00:09:46.934Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"student","timestamp":"2025-01-18T00:09:46.935Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"test","timestamp":"2025-01-18T00:09:46.936Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-18T00:09:46.936Z"}
{"controllers":["auth","school","user","class","student","test"],"level":"info","message":"Controllers caricati con successo","timestamp":"2025-01-18T00:09:46.956Z"}
{"level":"info","message":"Routes caricate:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth"],"timestamp":"2025-01-18T00:09:46.970Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-01-18T00:09:47.350Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-18T00:09:47.357Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-18T00:09:47.358Z"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:09:49.156Z","tokenExpiresIn":"1178.8473999999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:09:49.184Z","tokenExpiresIn":"1178.8469333333335 minutes","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T00:09:51.220Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:09:51.257Z","tokenExpiresIn":"1178.8123833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T00:09:51.258Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:09:51.638Z","tokenExpiresIn":"1178.8060333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:09:51.651Z","tokenExpiresIn":"1178.8058166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:09:51.698Z","tokenExpiresIn":"1178.8050333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:09:51.709Z","tokenExpiresIn":"1178.80485 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:09:51.714Z","tokenExpiresIn":"1178.8047666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:09:51.723Z","tokenExpiresIn":"1178.8046166666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:09:51.792Z","tokenExpiresIn":"1178.8034666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:09:51.811Z","tokenExpiresIn":"1178.80315 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:09:51.825Z","tokenExpiresIn":"1178.8029166666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:09:51.843Z","tokenExpiresIn":"1178.8026166666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:09:51.929Z","tokenExpiresIn":"1178.8011833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:09:51.958Z","tokenExpiresIn":"1178.8007 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:10:02.595Z","tokenExpiresIn":"1178.6234166666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:10:02.625Z","tokenExpiresIn":"1178.6229166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-04-12T00:00:00.000Z","email":"diana@viola.it","firstName":"Diana","fiscalCode":null,"gender":"F","isActive":true,"lastName":"Viola","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":"diana@viola.it","schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"timestamp":"2025-01-18T00:10:02.665Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-18T00:10:02.668Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-18T00:10:02.669Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"106ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737159002565_gozyekjlq","responseSize":"92 Bytes","statusCode":400,"timestamp":"2025-01-18T00:10:02.671Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:11:03.256Z","tokenExpiresIn":"1177.6124000000002 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:11:03.289Z","tokenExpiresIn":"1177.61185 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-04-12T00:00:00.000Z","email":"diana@viola.it","firstName":"Diana","fiscalCode":null,"gender":"F","isActive":true,"lastName":"Viola","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":null,"schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"timestamp":"2025-01-18T00:11:03.316Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-18T00:11:03.317Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-18T00:11:03.318Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"97ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737159063222_qov5ug45t","responseSize":"92 Bytes","statusCode":400,"timestamp":"2025-01-18T00:11:03.320Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:11:37.520Z","tokenExpiresIn":"1177.0413333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:11:37.545Z","tokenExpiresIn":"1177.0409166666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-04-12T00:00:00.000Z","email":"diana@test.it","firstName":"Diana","fiscalCode":null,"gender":"F","isActive":true,"lastName":"Viola","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":null,"schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"timestamp":"2025-01-18T00:11:37.565Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-18T00:11:37.566Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-18T00:11:37.566Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"75ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737159097492_acos9rzq3","responseSize":"92 Bytes","statusCode":400,"timestamp":"2025-01-18T00:11:37.567Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T00:11:42.235Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:11:42.374Z","tokenExpiresIn":"1176.9604333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T00:11:42.375Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:11:42.664Z","tokenExpiresIn":"1176.9556 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:11:42.675Z","tokenExpiresIn":"1176.9554166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:11:42.684Z","tokenExpiresIn":"1176.9552666666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:11:42.696Z","tokenExpiresIn":"1176.9550666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:11:42.702Z","tokenExpiresIn":"1176.9549666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:11:42.711Z","tokenExpiresIn":"1176.9548166666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:11:42.781Z","tokenExpiresIn":"1176.95365 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:11:42.794Z","tokenExpiresIn":"1176.9534333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:11:42.806Z","tokenExpiresIn":"1176.9532333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:11:42.821Z","tokenExpiresIn":"1176.9529833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:11:42.892Z","tokenExpiresIn":"1176.9517999999998 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:11:42.914Z","tokenExpiresIn":"1176.9514333333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:11:57.353Z","tokenExpiresIn":"1176.7107833333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:11:57.384Z","tokenExpiresIn":"1176.7102666666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-04-12T00:00:00.000Z","email":"diana@viola.it","firstName":"Diana","fiscalCode":null,"gender":"F","isActive":true,"lastName":"Viola","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":null,"schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"timestamp":"2025-01-18T00:11:57.414Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-18T00:11:57.416Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-18T00:11:57.417Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"101ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737159117318_1vb447bw1","responseSize":"92 Bytes","statusCode":400,"timestamp":"2025-01-18T00:11:57.419Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:14:05.895Z","tokenExpiresIn":"1174.5684166666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:14:05.925Z","tokenExpiresIn":"1174.5679166666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T00:14:07.479Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:14:07.511Z","tokenExpiresIn":"1174.5414833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T00:14:07.512Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:14:07.770Z","tokenExpiresIn":"1174.5371666666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:14:07.780Z","tokenExpiresIn":"1174.537 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:14:07.791Z","tokenExpiresIn":"1174.5368166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:14:07.805Z","tokenExpiresIn":"1174.5365833333335 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:14:07.809Z","tokenExpiresIn":"1174.5365166666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:14:07.819Z","tokenExpiresIn":"1174.5363499999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:14:07.873Z","tokenExpiresIn":"1174.5354499999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:14:07.889Z","tokenExpiresIn":"1174.5351833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:14:07.897Z","tokenExpiresIn":"1174.53505 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:14:07.912Z","tokenExpiresIn":"1174.5348000000001 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:14:07.992Z","tokenExpiresIn":"1174.5334666666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:14:08.022Z","tokenExpiresIn":"1174.5329666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:14:35.105Z","tokenExpiresIn":"1174.0815833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:14:35.132Z","tokenExpiresIn":"1174.0811333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-04-12T00:00:00.000Z","email":"luca@boia.it","firstName":"Luca","fiscalCode":null,"gender":"M","isActive":true,"lastName":"Boia","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":null,"schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"timestamp":"2025-01-18T00:14:35.162Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-18T00:14:35.164Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-18T00:14:35.165Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"99ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737159275069_69y581gal","responseSize":"92 Bytes","statusCode":400,"timestamp":"2025-01-18T00:14:35.168Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:21:44.557Z","tokenExpiresIn":"1166.92405 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:21:44.585Z","tokenExpiresIn":"1166.9235833333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T00:21:46.388Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:21:46.414Z","tokenExpiresIn":"1166.8931 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T00:21:46.415Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:21:46.737Z","tokenExpiresIn":"1166.8877166666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:21:46.745Z","tokenExpiresIn":"1166.8875833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:21:46.752Z","tokenExpiresIn":"1166.8874666666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:21:46.762Z","tokenExpiresIn":"1166.8872999999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:21:46.769Z","tokenExpiresIn":"1166.8872000000001 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:21:46.777Z","tokenExpiresIn":"1166.88705 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:21:46.829Z","tokenExpiresIn":"1166.8861833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:21:46.843Z","tokenExpiresIn":"1166.88595 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:21:46.854Z","tokenExpiresIn":"1166.8857666666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:21:46.865Z","tokenExpiresIn":"1166.8855833333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:21:58.051Z","tokenExpiresIn":"1166.69915 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:21:58.084Z","tokenExpiresIn":"1166.6986 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Student created successfully:","school":"67843ee4e18f3b833160dda8","studentId":"678af426460b3863db4000b7","timestamp":"2025-01-18T00:21:58.232Z"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:21:58.297Z","tokenExpiresIn":"1166.6950499999998 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:21:58.323Z","tokenExpiresIn":"1166.6946166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:22:02.653Z","tokenExpiresIn":"1166.6224499999998 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:22:02.677Z","tokenExpiresIn":"1166.6220500000002 minutes","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T00:22:04.383Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:22:04.412Z","tokenExpiresIn":"1166.5931333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T00:22:04.413Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:22:04.676Z","tokenExpiresIn":"1166.5887333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:22:04.687Z","tokenExpiresIn":"1166.58855 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:22:04.695Z","tokenExpiresIn":"1166.5884166666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:22:04.703Z","tokenExpiresIn":"1166.5882833333335 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:22:04.710Z","tokenExpiresIn":"1166.5881666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:22:04.719Z","tokenExpiresIn":"1166.5880166666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:22:04.772Z","tokenExpiresIn":"1166.5871333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:22:04.790Z","tokenExpiresIn":"1166.5868333333335 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:22:04.799Z","tokenExpiresIn":"1166.5866833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:22:04.815Z","tokenExpiresIn":"1166.5864166666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:22:04.886Z","tokenExpiresIn":"1166.5852333333335 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:22:04.913Z","tokenExpiresIn":"1166.5847833333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:22:30.032Z","tokenExpiresIn":"1166.1661333333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:22:30.058Z","tokenExpiresIn":"1166.1657 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-06-11T00:00:00.000Z","email":"diana@viola.it","firstName":"Diana","fiscalCode":null,"gender":"F","isActive":true,"lastName":"Viola","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":"diana@viola.it","schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"timestamp":"2025-01-18T00:22:30.078Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-18T00:22:30.079Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-18T00:22:30.080Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"76ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737159750005_7ia0rvlxj","responseSize":"92 Bytes","statusCode":400,"timestamp":"2025-01-18T00:22:30.081Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"school","timestamp":"2025-01-18T00:35:27.363Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"user","timestamp":"2025-01-18T00:35:27.367Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"class","timestamp":"2025-01-18T00:35:27.368Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"student","timestamp":"2025-01-18T00:35:27.369Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"test","timestamp":"2025-01-18T00:35:27.369Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-18T00:35:27.370Z"}
{"controllers":["auth","school","user","class","student","test"],"level":"info","message":"Controllers caricati con successo","timestamp":"2025-01-18T00:35:27.390Z"}
{"level":"info","message":"Routes caricate:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth"],"timestamp":"2025-01-18T00:35:27.402Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-01-18T00:35:27.855Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-18T00:35:27.863Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-18T00:35:27.864Z"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"POST","path":"/api/v1/auth/login","timestamp":"2025-01-18T00:35:28.095Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:30.617Z","tokenExpiresIn":"1439.9563833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:30.625Z","tokenExpiresIn":"1439.95625 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:30.634Z","tokenExpiresIn":"1439.9560999999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:30.642Z","tokenExpiresIn":"1439.9559666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:30.651Z","tokenExpiresIn":"1439.9558166666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:30.659Z","tokenExpiresIn":"1439.9556833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:30.730Z","tokenExpiresIn":"1439.9545 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:30.739Z","tokenExpiresIn":"1439.95435 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:30.753Z","tokenExpiresIn":"1439.9541166666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:30.772Z","tokenExpiresIn":"1439.9538 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:50.389Z","tokenExpiresIn":"1439.62685 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:50.421Z","tokenExpiresIn":"1439.6263166666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Student created successfully:","school":"67843ee4e18f3b833160dda8","studentId":"678af766ba9f6430cb397618","timestamp":"2025-01-18T00:35:50.518Z"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:50.551Z","tokenExpiresIn":"1439.6241499999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:50.577Z","tokenExpiresIn":"1439.6237166666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:54.832Z","tokenExpiresIn":"1439.5528000000002 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:54.864Z","tokenExpiresIn":"1439.5522666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T00:35:56.264Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:56.291Z","tokenExpiresIn":"1439.5284833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T00:35:56.292Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:56.605Z","tokenExpiresIn":"1439.52325 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:56.617Z","tokenExpiresIn":"1439.52305 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:56.631Z","tokenExpiresIn":"1439.5228166666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:56.641Z","tokenExpiresIn":"1439.5226499999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:56.648Z","tokenExpiresIn":"1439.5225333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:56.657Z","tokenExpiresIn":"1439.5223833333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:56.720Z","tokenExpiresIn":"1439.5213333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:56.733Z","tokenExpiresIn":"1439.5211166666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:56.748Z","tokenExpiresIn":"1439.5208666666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:56.761Z","tokenExpiresIn":"1439.52065 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:56.830Z","tokenExpiresIn":"1439.5194999999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:35:56.860Z","tokenExpiresIn":"1439.519 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:36:20.275Z","tokenExpiresIn":"1439.12875 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:36:20.308Z","tokenExpiresIn":"1439.1281999999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-05-05T00:00:00.000Z","email":"luigi@verdi.it","firstName":"Luigi","fiscalCode":null,"gender":"M","isActive":true,"lastName":"Verdi","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":null,"schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"timestamp":"2025-01-18T00:36:20.329Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-18T00:36:20.330Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-18T00:36:20.331Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"92ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737160580242_nnpqenita","responseSize":"92 Bytes","statusCode":400,"timestamp":"2025-01-18T00:36:20.334Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T00:42:28.371Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:42:28.429Z","tokenExpiresIn":"1432.9928499999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T00:42:28.431Z","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T00:42:43.525Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:42:43.554Z","tokenExpiresIn":"1432.7407666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T00:42:43.554Z","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T00:46:26.350Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:46:26.376Z","tokenExpiresIn":"1429.0270666666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T00:46:26.377Z","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T00:46:56.994Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:46:57.020Z","tokenExpiresIn":"1428.5163333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T00:46:57.021Z","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T00:47:02.553Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:47:02.581Z","tokenExpiresIn":"1428.42365 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T00:47:02.582Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:47:04.811Z","tokenExpiresIn":"1428.3864833333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:47:04.850Z","tokenExpiresIn":"1428.3858333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:47:06.356Z","tokenExpiresIn":"1428.3607333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:47:06.396Z","tokenExpiresIn":"1428.3600666666669 minutes","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T00:52:43.366Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:52:43.391Z","tokenExpiresIn":"1422.7434833333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T00:52:43.392Z","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T00:52:59.043Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:52:59.070Z","tokenExpiresIn":"1422.4821666666664 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T00:52:59.071Z","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T00:53:06.922Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:53:06.949Z","tokenExpiresIn":"1422.35085 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T00:53:06.950Z","userId":"677bfe44f6789c907c9f3766"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T00:54:44.218Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:54:44.244Z","tokenExpiresIn":"1420.7292666666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T00:54:44.244Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:54:44.512Z","tokenExpiresIn":"1420.7248 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:54:44.520Z","tokenExpiresIn":"1420.7246666666665 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:54:44.528Z","tokenExpiresIn":"1420.7245333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:54:44.538Z","tokenExpiresIn":"1420.7243666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:54:44.543Z","tokenExpiresIn":"1420.7242833333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:54:44.555Z","tokenExpiresIn":"1420.7240833333335 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:54:44.616Z","tokenExpiresIn":"1420.7230666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:54:44.627Z","tokenExpiresIn":"1420.7228833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:54:44.644Z","tokenExpiresIn":"1420.7226 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:54:44.652Z","tokenExpiresIn":"1420.7224666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:54:44.720Z","tokenExpiresIn":"1420.7213333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:54:44.743Z","tokenExpiresIn":"1420.72095 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:55:21.394Z","tokenExpiresIn":"1420.1101 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:55:21.423Z","tokenExpiresIn":"1420.1096166666669 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-02-12T00:00:00.000Z","email":"luigi@verdi.it","firstName":"Luigi","fiscalCode":null,"gender":"M","isActive":true,"lastName":"Verdi","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":null,"schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"timestamp":"2025-01-18T00:55:21.450Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-18T00:55:21.455Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-18T00:55:21.457Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"93ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737161721367_w8xd2iudl","responseSize":"92 Bytes","statusCode":400,"timestamp":"2025-01-18T00:55:21.460Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:32.572Z","tokenExpiresIn":"1415.9238 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:32.603Z","tokenExpiresIn":"1415.9232833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:34.376Z","tokenExpiresIn":"1415.8937333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:34.400Z","tokenExpiresIn":"1415.8933333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:35.372Z","tokenExpiresIn":"1415.8771333333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:35.397Z","tokenExpiresIn":"1415.8767166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:36.192Z","tokenExpiresIn":"1415.8634666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:36.216Z","tokenExpiresIn":"1415.8630666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:42.004Z","tokenExpiresIn":"1415.7666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:42.035Z","tokenExpiresIn":"1415.7660833333332 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:44.596Z","tokenExpiresIn":"1415.7233999999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:44.620Z","tokenExpiresIn":"1415.7230000000002 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:46.360Z","tokenExpiresIn":"1415.694 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:46.382Z","tokenExpiresIn":"1415.6936333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:47.211Z","tokenExpiresIn":"1415.6798166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:47.235Z","tokenExpiresIn":"1415.6794166666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:47.310Z","tokenExpiresIn":"1415.6781666666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:47.333Z","tokenExpiresIn":"1415.6777833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"error","message":"Error getting unassigned students:","timestamp":"2025-01-18T00:59:47.335Z"}
{"error":"Cannot read properties of undefined (reading 'repository')","level":"error","message":"Student route error:","method":"GET","path":"/unassigned/67843ee4e18f3b833160dda8","stack":"TypeError: Cannot read properties of undefined (reading 'repository')\n    at getUnassignedStudents (C:\\Users\\ricca\\Desktop\\BSc\\src\\controllers\\studentController.js:321:41)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\ricca\\Desktop\\BSc\\src\\middleware\\authMiddleware.js:185:9\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\ricca\\Desktop\\BSc\\node_modules\\express\\lib\\router\\index.js:365:14)","timestamp":"2025-01-18T00:59:47.336Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"54ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"GET","requestId":"req_1737161987284_xvbz4l2od","responseSize":"112 Bytes","statusCode":400,"timestamp":"2025-01-18T00:59:47.338Z","url":"/api/v1/students/unassigned/67843ee4e18f3b833160dda8","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:55.609Z","tokenExpiresIn":"1415.5398500000001 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T00:59:55.633Z","tokenExpiresIn":"1415.53945 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"school","timestamp":"2025-01-18T10:04:50.517Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"user","timestamp":"2025-01-18T10:04:50.521Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"class","timestamp":"2025-01-18T10:04:50.522Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"student","timestamp":"2025-01-18T10:04:50.523Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"test","timestamp":"2025-01-18T10:04:50.524Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-18T10:04:50.524Z"}
{"controllers":["auth","school","user","class","student","test"],"level":"info","message":"Controllers caricati con successo","timestamp":"2025-01-18T10:04:50.552Z"}
{"level":"info","message":"Routes caricate:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth"],"timestamp":"2025-01-18T10:04:50.569Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-00.4nf56.mongodb.net","timestamp":"2025-01-18T10:04:51.019Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-18T10:04:51.033Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-18T10:04:51.034Z"}
{"ip":"::1","level":"info","message":"Auth Route Called","method":"GET","path":"/api/v1/auth/verify","timestamp":"2025-01-18T10:05:10.360Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:05:10.406Z","tokenExpiresIn":"870.2932333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Verifica token in corso per utente:","timestamp":"2025-01-18T10:05:10.408Z","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:05:16.615Z","tokenExpiresIn":"870.18975 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:05:16.624Z","tokenExpiresIn":"870.1895999999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:05:16.632Z","tokenExpiresIn":"870.1894666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:05:16.643Z","tokenExpiresIn":"870.1892833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:05:16.650Z","tokenExpiresIn":"870.1891666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:05:16.658Z","tokenExpiresIn":"870.1890333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:05:16.726Z","tokenExpiresIn":"870.1879 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:05:16.734Z","tokenExpiresIn":"870.1877666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:05:16.750Z","tokenExpiresIn":"870.1875 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:05:16.760Z","tokenExpiresIn":"870.1873333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:05:16.841Z","tokenExpiresIn":"870.1859833333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:05:16.867Z","tokenExpiresIn":"870.18555 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:05:52.098Z","tokenExpiresIn":"869.5983666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:05:52.130Z","tokenExpiresIn":"869.5978333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"error":{"message":"Email o codice fiscale già registrati","metadata":{}},"level":"error","message":"Error in create student:","studentData":{"currentYear":1,"dateOfBirth":"2012-04-30T00:00:00.000Z","email":"luigi@verdi.it","firstName":"Luigi","fiscalCode":null,"gender":"M","isActive":true,"lastName":"Verdi","mainTeacher":"677bfe44f6789c907c9f3766","needsClassAssignment":true,"parentEmail":null,"schoolId":"67843ee4e18f3b833160dda8","specialNeeds":false,"status":"pending","teachers":[]},"timestamp":"2025-01-18T10:05:52.164Z"}
{"level":"error","message":"Email o codice fiscale già registrati","metadata":{},"timestamp":"2025-01-18T10:05:52.167Z"}
{"error":"Email o codice fiscale già registrati","level":"error","message":"Student route error:","method":"POST","path":"/","timestamp":"2025-01-18T10:05:52.170Z","userId":"677bfe44f6789c907c9f3766"}
{"duration":"106ms","ip":"::1","level":"warn","message":"Risposta inviata","method":"POST","requestId":"req_1737194752069_6h9fbvsxw","responseSize":"92 Bytes","statusCode":400,"timestamp":"2025-01-18T10:05:52.175Z","url":"/api/v1/students","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"school","timestamp":"2025-01-18T10:08:43.471Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"user","timestamp":"2025-01-18T10:08:43.475Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"class","timestamp":"2025-01-18T10:08:43.476Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"student","timestamp":"2025-01-18T10:08:43.477Z"}
{"level":"warn","message":"Warning: ModelName mancante nel repository","repository":"test","timestamp":"2025-01-18T10:08:43.478Z"}
{"level":"info","message":"Repository caricati con successo","repositories":["school","user","class","student","test"],"timestamp":"2025-01-18T10:08:43.478Z"}
{"controllers":["auth","school","user","class","student","test"],"level":"info","message":"Controllers caricati con successo","timestamp":"2025-01-18T10:08:43.501Z"}
{"level":"info","message":"Routes caricate:","protected":["/classes","/schools","/users","/students","/tests"],"public":["/auth"],"timestamp":"2025-01-18T10:08:43.516Z"}
{"level":"info","message":"MongoDB Connected: cluster0-shard-00-01.4nf56.mongodb.net","timestamp":"2025-01-18T10:08:43.900Z"}
{"level":"info","message":"Server in esecuzione su localhost:5000","timestamp":"2025-01-18T10:08:43.906Z"}
{"level":"info","message":"Ambiente: development","timestamp":"2025-01-18T10:08:43.907Z"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:08:48.169Z","tokenExpiresIn":"866.66385 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:08:48.198Z","tokenExpiresIn":"866.6633666666668 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:08:55.544Z","tokenExpiresIn":"866.5409333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:08:55.577Z","tokenExpiresIn":"866.5403833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Student created successfully:","school":"67843ee4e18f3b833160dda8","studentId":"678b7db73ddee1b67c450714","timestamp":"2025-01-18T10:08:55.691Z"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:08:55.730Z","tokenExpiresIn":"866.5378333333333 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:08:55.755Z","tokenExpiresIn":"866.5374166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:09:06.530Z","tokenExpiresIn":"866.3578333333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:09:06.557Z","tokenExpiresIn":"866.3573833333334 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:10:08.983Z","tokenExpiresIn":"865.31695 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:10:09.006Z","tokenExpiresIn":"865.3165666666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"level":"info","message":"Student created successfully:","school":"67843ee4e18f3b833160dda8","studentId":"678b7e013ddee1b67c450727","timestamp":"2025-01-18T10:10:09.087Z"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:10:09.124Z","tokenExpiresIn":"865.3145999999999 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:10:09.150Z","tokenExpiresIn":"865.3141666666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:11:36.447Z","tokenExpiresIn":"863.8592166666666 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:11:36.475Z","tokenExpiresIn":"863.85875 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:11:39.261Z","tokenExpiresIn":"863.8123166666667 minutes","userId":"677bfe44f6789c907c9f3766"}
{"hasSchool":false,"level":"info","message":"✨ Authentication successful","role":"admin","timestamp":"2025-01-18T10:11:39.295Z","tokenExpiresIn":"863.8117500000001 minutes","userId":"677bfe44f6789c907c9f3766"}
